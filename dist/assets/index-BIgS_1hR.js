(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var pm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Xw(){if(O_)return zl;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:d,ref:o!==void 0?o:null,props:c}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var M_;function Zw(){return M_||(M_=1,pm.exports=Xw()),pm.exports}var m=Zw(),gm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Ww(){if(j_)return Re;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,W={};function V(O,re,ce){this.props=O,this.context=re,this.refs=W,this.updater=ce||L}V.prototype.isReactComponent={},V.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=V.prototype;function D(O,re,ce){this.props=O,this.context=re,this.refs=W,this.updater=ce||L}var Q=D.prototype=new te;Q.constructor=D,G(Q,V.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function M(O,re,ce,se,ye,Ce){return ce=Ce.ref,{$$typeof:s,type:O,key:re,ref:ce!==void 0?ce:null,props:Ce}}function x(O,re){return M(O.type,re,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function C(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return re[ce]})}var k=/\/+/g;function U(O,re){return typeof O=="object"&&O!==null&&O.key!=null?C(""+O.key):re.toString(36)}function I(){}function qt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,re,ce,se,ye){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(Ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case s:case e:xe=!0;break;case E:return xe=O._init,ut(xe(O._payload),re,ce,se,ye)}}if(xe)return ye=ye(O),xe=se===""?"."+U(O,0):se,ne(ye)?(ce="",xe!=null&&(ce=xe.replace(k,"$&/")+"/"),ut(ye,re,ce,"",function(er){return er})):ye!=null&&(R(ye)&&(ye=x(ye,ce+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+xe)),re.push(ye)),1;xe=0;var jt=se===""?".":se+":";if(ne(O))for(var tt=0;tt<O.length;tt++)se=O[tt],Ce=jt+U(se,tt),xe+=ut(se,re,ce,Ce,ye);else if(tt=S(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(se=O.next()).done;)se=se.value,Ce=jt+U(se,tt++),xe+=ut(se,re,ce,Ce,ye);else if(Ce==="object"){if(typeof O.then=="function")return ut(qt(O),re,ce,se,ye);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(O,re,ce){if(O==null)return O;var se=[],ye=0;return ut(O,se,"","",function(Ce){return re.call(ce,Ce,ye++)}),se}function le(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return Re.Children={map:Y,forEach:function(O,re,ce){Y(O,function(){re.apply(this,arguments)},ce)},count:function(O){var re=0;return Y(O,function(){re++}),re},toArray:function(O){return Y(O,function(re){return re})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=V,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=D,Re.StrictMode=i,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return oe.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,re,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=G({},O.props),ye=O.key,Ce=void 0;if(re!=null)for(xe in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(ye=""+re.key),re)!fe.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(se[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)se.children=ce;else if(1<xe){for(var jt=Array(xe),tt=0;tt<xe;tt++)jt[tt]=arguments[tt+2];se.children=jt}return M(O.type,ye,void 0,void 0,Ce,se)},Re.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Re.createElement=function(O,re,ce){var se,ye={},Ce=null;if(re!=null)for(se in re.key!==void 0&&(Ce=""+re.key),re)fe.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=re[se]);var xe=arguments.length-2;if(xe===1)ye.children=ce;else if(1<xe){for(var jt=Array(xe),tt=0;tt<xe;tt++)jt[tt]=arguments[tt+2];ye.children=jt}if(O&&O.defaultProps)for(se in xe=O.defaultProps,xe)ye[se]===void 0&&(ye[se]=xe[se]);return M(O,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:p,render:O}},Re.isValidElement=R,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:le}},Re.memo=function(O,re){return{$$typeof:_,type:O,compare:re===void 0?null:re}},Re.startTransition=function(O){var re=oe.T,ce={};oe.T=ce;try{var se=O(),ye=oe.S;ye!==null&&ye(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(qe,pe)}catch(Ce){pe(Ce)}finally{oe.T=re}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(O){return oe.H.use(O)},Re.useActionState=function(O,re,ce){return oe.H.useActionState(O,re,ce)},Re.useCallback=function(O,re){return oe.H.useCallback(O,re)},Re.useContext=function(O){return oe.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,re){return oe.H.useDeferredValue(O,re)},Re.useEffect=function(O,re,ce){var se=oe.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,re)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(O,re,ce){return oe.H.useImperativeHandle(O,re,ce)},Re.useInsertionEffect=function(O,re){return oe.H.useInsertionEffect(O,re)},Re.useLayoutEffect=function(O,re){return oe.H.useLayoutEffect(O,re)},Re.useMemo=function(O,re){return oe.H.useMemo(O,re)},Re.useOptimistic=function(O,re){return oe.H.useOptimistic(O,re)},Re.useReducer=function(O,re,ce){return oe.H.useReducer(O,re,ce)},Re.useRef=function(O){return oe.H.useRef(O)},Re.useState=function(O){return oe.H.useState(O)},Re.useSyncExternalStore=function(O,re,ce){return oe.H.useSyncExternalStore(O,re,ce)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.1.0",Re}var k_;function cp(){return k_||(k_=1,gm.exports=Ww()),gm.exports}var ae=cp(),ym={exports:{}},Bl={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Jw(){return V_||(V_=1,function(s){function e(Y,le){var pe=Y.length;Y.push(le);e:for(;0<pe;){var qe=pe-1>>>1,O=Y[qe];if(0<o(O,le))Y[qe]=le,Y[pe]=O,pe=qe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],pe=Y.pop();if(pe!==le){Y[0]=pe;e:for(var qe=0,O=Y.length,re=O>>>1;qe<re;){var ce=2*(qe+1)-1,se=Y[ce],ye=ce+1,Ce=Y[ye];if(0>o(se,pe))ye<O&&0>o(Ce,se)?(Y[qe]=Ce,Y[ye]=pe,qe=ye):(Y[qe]=se,Y[ce]=pe,qe=ce);else if(ye<O&&0>o(Ce,pe))Y[qe]=Ce,Y[ye]=pe,qe=ye;else break e}}return le}function o(Y,le){var pe=Y.sortIndex-le.sortIndex;return pe!==0?pe:Y.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],E=1,A=null,S=3,L=!1,G=!1,W=!1,V=!1,te=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ne(Y){for(var le=n(_);le!==null;){if(le.callback===null)i(_);else if(le.startTime<=Y)i(_),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(_)}}function oe(Y){if(W=!1,ne(Y),!G)if(n(g)!==null)G=!0,fe||(fe=!0,U());else{var le=n(_);le!==null&&ut(oe,le.startTime-Y)}}var fe=!1,M=-1,x=5,R=-1;function C(){return V?!0:!(s.unstable_now()-R<x)}function k(){if(V=!1,fe){var Y=s.unstable_now();R=Y;var le=!0;try{e:{G=!1,W&&(W=!1,D(M),M=-1),L=!0;var pe=S;try{t:{for(ne(Y),A=n(g);A!==null&&!(A.expirationTime>Y&&C());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,S=A.priorityLevel;var O=qe(A.expirationTime<=Y);if(Y=s.unstable_now(),typeof O=="function"){A.callback=O,ne(Y),le=!0;break t}A===n(g)&&i(g),ne(Y)}else i(g);A=n(g)}if(A!==null)le=!0;else{var re=n(_);re!==null&&ut(oe,re.startTime-Y),le=!1}}break e}finally{A=null,S=pe,L=!1}le=void 0}}finally{le?U():fe=!1}}}var U;if(typeof Q=="function")U=function(){Q(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qt=I.port2;I.port1.onmessage=k,U=function(){qt.postMessage(null)}}else U=function(){te(k,0)};function ut(Y,le){M=te(function(){Y(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var pe=S;S=le;try{return Y()}finally{S=pe}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=S;S=Y;try{return le()}finally{S=pe}},s.unstable_scheduleCallback=function(Y,le,pe){var qe=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,Y={id:E++,callback:le,priorityLevel:Y,startTime:pe,expirationTime:O,sortIndex:-1},pe>qe?(Y.sortIndex=pe,e(_,Y),n(g)===null&&Y===n(_)&&(W?(D(M),M=-1):W=!0,ut(oe,pe-qe))):(Y.sortIndex=O,e(g,Y),G||L||(G=!0,fe||(fe=!0,U()))),Y},s.unstable_shouldYield=C,s.unstable_wrapCallback=function(Y){var le=S;return function(){var pe=S;S=le;try{return Y.apply(this,arguments)}finally{S=pe}}}}(vm)),vm}var P_;function e1(){return P_||(P_=1,_m.exports=Jw()),_m.exports}var bm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function t1(){if(U_)return Jt;U_=1;var s=cp();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jt.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,E)},Jt.flushSync=function(g){var _=d.T,E=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=_,i.p=E,i.d.f()}},Jt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(g,_))},Jt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Jt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,L=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?i.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:L}):E==="script"&&i.d.X(g,{crossOrigin:A,integrity:S,fetchPriority:L,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Jt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(g)},Jt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);i.d.L(g,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Jt.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=p(_.as,_.crossOrigin);i.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(g)},Jt.requestFormReset=function(g){i.d.r(g)},Jt.unstable_batchedUpdates=function(g,_){return g(_)},Jt.useFormState=function(g,_,E){return d.H.useFormState(g,_,E)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var L_;function n1(){if(L_)return bm.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bm.exports=t1(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function r1(){if(z_)return Bl;z_=1;var s=e1(),e=cp(),n=n1();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(i(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),r;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=f;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=f;break}if(T===l){b=!0,l=h,a=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===a){b=!0,a=f,l=h;break}if(T===l){b=!0,l=f,a=h;break}T=T.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function qt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case V:return"Profiler";case W:return"StrictMode";case oe:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case ne:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return r=t.displayName||null,r!==null?r:qt(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return qt(t(r))}catch{}}return null}var ut=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},qe=[],O=-1;function re(t){return{current:t}}function ce(t){0>O||(t.current=qe[O],qe[O]=null,O--)}function se(t,r){O++,qe[O]=t.current,t.current=r}var ye=re(null),Ce=re(null),xe=re(null),jt=re(null);function tt(t,r){switch(se(xe,r),se(Ce,t),se(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=a_(r),t=o_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(ye),se(ye,t)}function er(){ce(ye),ce(Ce),ce(xe)}function ps(t){t.memoizedState!==null&&se(jt,t);var r=ye.current,a=o_(r,t.type);r!==a&&(se(Ce,t),se(ye,a))}function Ir(t){Ce.current===t&&(ce(ye),ce(Ce)),jt.current===t&&(ce(jt),kl._currentValue=pe)}var gi=Object.prototype.hasOwnProperty,yi=s.unstable_scheduleCallback,_i=s.unstable_cancelCallback,Oo=s.unstable_shouldYield,Ac=s.unstable_requestPaint,In=s.unstable_now,md=s.unstable_getCurrentPriorityLevel,Mo=s.unstable_ImmediatePriority,pa=s.unstable_UserBlockingPriority,vi=s.unstable_NormalPriority,pd=s.unstable_LowPriority,ga=s.unstable_IdlePriority,jo=s.log,Sc=s.unstable_setDisableYieldValue,ht=null,Qe=null;function _n(t){if(typeof jo=="function"&&Sc(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ht,t)}catch{}}var Zt=Math.clz32?Math.clz32:bi,Rc=Math.log,gd=Math.LN2;function bi(t){return t>>>=0,t===0?32:31-(Rc(t)/gd|0)|0}var Ei=256,Ti=4194304;function Gn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Gn(l):(b&=T,b!==0?h=Gn(b):a||(a=T&~t,a!==0&&(h=Gn(a))))):(T=l&~f,T!==0?h=Gn(T):b!==0?h=Gn(b):a||(a=l&~t,a!==0&&(h=Gn(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function xi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ko(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=Ei;return Ei<<=1,(Ei&4194048)===0&&(Ei=256),t}function Po(){var t=Ti;return Ti<<=1,(Ti&62914560)===0&&(Ti=4194304),t}function Cr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Dr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uo(t,r,a,l,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=b&~a;0<a;){var $=31-Zt(a),J=1<<$;T[$]=0,N[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var F=H[$];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~r))}function tr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Lo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function gs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ys(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function Nc(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var it=Math.random().toString(36).slice(2),Nt="__reactFiber$"+it,Et="__reactProps$"+it,Cn="__reactContainer$"+it,zo="__reactEvents$"+it,yd="__reactListeners$"+it,_s="__reactHandles$"+it,Ic="__reactResources$"+it,wi="__reactMarker$"+it;function vs(t){delete t[Nt],delete t[Et],delete t[zo],delete t[yd],delete t[_s]}function Or(t){var r=t[Nt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Cn]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=h_(t);t!==null;){if(a=t[Nt])return a;t=h_(t)}return r}t=a,a=t.parentNode}return null}function nr(t){if(t=t[Nt]||t[Cn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function rr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function sn(t){var r=t[Ic];return r||(r=t[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(t){t[wi]=!0}var Bo=new Set,va={};function Qn(t,r){Mr(t,r),Mr(t+"Capture",r)}function Mr(t,r){for(va[t]=r,t=0;t<r.length;t++)Bo.add(r[t])}var Cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},Ai={};function Oc(t){return gi.call(Ai,t)?!0:gi.call(Dc,t)?!1:Cc.test(t)?Ai[t]=!0:(Dc[t]=!0,!1)}function bs(t,r,a){if(Oc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function sr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ht(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Si,Mc;function jr(t){if(Si===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Si=r&&r[1]||"",Mc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Si+t+Mc}var ba=!1;function Ea(t,r){if(!t||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){H=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var N=b.split(`
`),q=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?jr(a):""}function qo(t){switch(t.tag){case 26:case 27:case 5:return jr(t.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Ea(t.type,!1);case 11:return Ea(t.type.render,!1);case 1:return Ea(t.type,!0);case 31:return jr("Activity");default:return""}}function Ta(t){try{var r="";do r+=qo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ho(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _d(t){var r=Ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,f.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function xa(t){t._valueTracker||(t._valueTracker=_d(t))}function Fo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vd=/[\n"\\]/g;function Tt(t){return t.replace(vd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(t,r,a,l,h,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Es(t,b,an(r)):a!=null?Es(t,b,an(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function Ni(t,r,a,l,h,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Es(t,r,a){r==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Xe(t,r,a){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+an(a):""}function Ii(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(ut(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ci=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ci.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Go(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&jc(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&jc(t,f,r[f])}function Qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Ed.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pr=null,Ur=null;function Ko(t){var r=nr(t);if(r&&(t=r.stateNode)){var a=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(i(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Fo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var ir=!1;function kc(t,r,a){if(ir)return t(r,a);ir=!0;try{var l=t(r);return l}finally{if(ir=!1,(Pr!==null||Ur!==null)&&(Nu(),Pr&&(r=Pr,t=Ur,Ur=Pr=null,Ko(r),t)))for(r=0;r<t.length;r++)Ko(t[r])}}function Di(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Kn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Mn=!1}var ar=null,Ts=null,Lr=null;function Yo(){if(Lr)return Lr;var t,r=Ts,a=r.length,l,h="value"in ar?ar.value:ar.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[f-l];l++);return Lr=h.slice(t,1<l?1-l:void 0)}function or(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function $o(){return!1}function kt(t){function r(a,l,h,f,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?lr:$o,this.isPropagationStopped=$o,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=kt(Fe),Mi=E({},Fe,{view:0,detail:0}),Vc=kt(Mi),Sa,Ra,cr,ji=E({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(Sa=t.screenX-cr.screenX,Ra=t.screenY-cr.screenY):Ra=Sa=0,cr=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),jn=kt(ji),Pc=E({},ji,{dataTransfer:0}),Td=kt(Pc),ki=E({},Mi,{relatedTarget:0}),Na=kt(ki),Xo=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=kt(Xo),Uc=E({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=kt(Uc),xd=E({},Fe,{data:0}),Zo=kt(xd),Vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zc[t])?!!r[t]:!1}function Pi(){return Wo}var Bc=E({},Mi,{key:function(t){if(t.key){var r=Vi[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(t){return t.type==="keypress"?or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=kt(Bc),qc=E({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=kt(qc),zr=E({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),Hc=kt(zr),Fc=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gc=kt(Fc),Qc=E({},ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=kt(Qc),on=E({},Fe,{newState:0,oldState:0}),Kc=kt(on),Yc=[9,13,27,32],ur=Kn&&"CompositionEvent"in window,u=null;Kn&&"documentMode"in document&&(u=document.documentMode);var y=Kn&&"TextEvent"in window&&!u,v=Kn&&(!ur||u&&8<u&&11>=u),w=" ",z=!1;function K(t,r){switch(t){case"keyup":return Yc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function It(t,r){switch(t){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return t=r.data,t===w&&z?null:t;default:return null}}function Pe(t,r){if(Ve)return t==="compositionend"||!ur&&K(t,r)?(t=Yo(),Lr=Ts=ar=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vt[t.type]:r==="textarea"}function Br(t,r,a,l){Pr?Ur?Ur.push(l):Ur=[l]:Pr=l,r=ju(r,"onChange"),0<r.length&&(a=new Aa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ft=null,hr=null;function el(t){t_(t,0)}function $c(t){var r=rr(t);if(Fo(r))return t}function Tg(t,r){if(t==="change")return r}var xg=!1;if(Kn){var wd;if(Kn){var Ad="oninput"in document;if(!Ad){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Ad=typeof wg.oninput=="function"}wd=Ad}else wd=!1;xg=wd&&(!document.documentMode||9<document.documentMode)}function Ag(){Ft&&(Ft.detachEvent("onpropertychange",Sg),hr=Ft=null)}function Sg(t){if(t.propertyName==="value"&&$c(hr)){var r=[];Br(r,hr,t,On(t)),kc(el,r)}}function Sx(t,r,a){t==="focusin"?(Ag(),Ft=r,hr=a,Ft.attachEvent("onpropertychange",Sg)):t==="focusout"&&Ag()}function Rx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(hr)}function Nx(t,r){if(t==="click")return $c(r)}function Ix(t,r){if(t==="input"||t==="change")return $c(r)}function Cx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:Cx;function tl(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!gi.call(r,h)||!bn(t[h],r[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,r){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Ig(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ig(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ri(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ri(t.document)}return r}function Sd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Dx=Kn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Rd=null,nl=null,Nd=!1;function Dg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nd||Ma==null||Ma!==Ri(l)||(l=Ma,"selectionStart"in l&&Sd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=ju(Rd,"onSelect"),0<l.length&&(r=new Aa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function Ui(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ja={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},Id={},Og={};Kn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Li(t){if(Id[t])return Id[t];if(!ja[t])return t;var r=ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Og)return Id[t]=r[a];return t}var Mg=Li("animationend"),jg=Li("animationiteration"),kg=Li("animationstart"),Ox=Li("transitionrun"),Mx=Li("transitionstart"),jx=Li("transitioncancel"),Vg=Li("transitionend"),Pg=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function Yn(t,r){Pg.set(t,r),Qn(r,[t])}var Ug=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ta(r)},Ug.set(t,r),r)}return{value:t,source:r,stack:Ta(r)}}var Vn=[],ka=0,Dd=0;function Xc(){for(var t=ka,r=Dd=ka=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var f=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&Lg(a,h,f)}}function Zc(t,r,a,l){Vn[ka++]=t,Vn[ka++]=r,Vn[ka++]=a,Vn[ka++]=l,Dd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Od(t,r,a,l){return Zc(t,r,a,l),Wc(t)}function Va(t,r){return Zc(t,null,null,r),Wc(t)}function Lg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-Zt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function Wc(t){if(50<Rl)throw Rl=0,Lf=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Pa={};function kx(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new kx(t,r,a,l)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Jc(t,r,a,l,h,f){var b=0;if(l=t,typeof t=="function")Md(t)&&(b=1);else if(typeof t=="string")b=Pw(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,r,h),t.elementType=R,t.lanes=f,t;case G:return zi(a.children,h,f,r);case W:b=8,h|=24;break;case V:return t=En(12,a,r,h|2),t.elementType=V,t.lanes=f,t;case oe:return t=En(13,a,r,h),t.elementType=oe,t.lanes=f,t;case fe:return t=En(19,a,r,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case Q:b=10;break e;case D:b=9;break e;case ne:b=11;break e;case M:b=14;break e;case x:b=16,l=null;break e}b=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=En(b,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function zi(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function jd(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function kd(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ua=[],La=0,eu=null,tu=0,Pn=[],Un=0,Bi=null,Hr=1,Fr="";function qi(t,r){Ua[La++]=tu,Ua[La++]=eu,eu=t,tu=r}function Bg(t,r,a){Pn[Un++]=Hr,Pn[Un++]=Fr,Pn[Un++]=Bi,Bi=t;var l=Hr;t=Fr;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var f=32-Zt(r)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Hr=1<<32-Zt(r)+h|a<<h|l,Fr=f+t}else Hr=1<<f|a<<h|l,Fr=t}function Vd(t){t.return!==null&&(qi(t,1),Bg(t,1,0))}function Pd(t){for(;t===eu;)eu=Ua[--La],Ua[La]=null,tu=Ua[--La],Ua[La]=null;for(;t===Bi;)Bi=Pn[--Un],Pn[Un]=null,Fr=Pn[--Un],Pn[Un]=null,Hr=Pn[--Un],Pn[Un]=null}var ln=null,dt=null,He=!1,Hi=null,dr=!1,Ud=Error(i(519));function Fi(t){var r=Error(i(418,""));throw il(kn(r,t)),Ud}function qg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Nt]=t,r[Et]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Il.length;a++)Me(Il[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Ni(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Ii(r,l.value,l.defaultValue,l.children),xa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||i_(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=ku),r=!0):r=!1,r||Fi(t)}function Hg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:ln=ln.return}}function rl(t){if(t!==ln)return!1;if(!He)return Hg(t),He=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&dt&&Fi(t),Hg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=Xn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,Us(t.type)?(t=im,im=null,dt=t):dt=r):dt=ln?Xn(t.stateNode.nextSibling):null;return!0}function sl(){dt=ln=null,He=!1}function Fg(){var t=Hi;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Hi=null),t}function il(t){Hi===null?Hi=[t]:Hi.push(t)}var Ld=re(null),Gi=null,Gr=null;function xs(t,r,a){se(Ld,r._currentValue),r._currentValue=a}function Qr(t){t._currentValue=Ld.current,ce(Ld)}function zd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Bd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var N=0;N<r.length;N++)if(T.context===r[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),zd(f.return,a,t),l||(b=null);break e}f=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),zd(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function al(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var T=h.type;bn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===jt.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&Bd(r,t,a,l),r.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qi(t){Gi=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Gg(Gi,t)}function ru(t,r){return Gi===null&&Qi(t),Gg(t,r)}function Gg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(i(308));Gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gr=Gr.next=r;return a}var Vx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Px=s.unstable_scheduleCallback,Ux=s.unstable_NormalPriority,Dt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new Vx,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Px(Ux,function(){t.controller.abort()})}var ll=null,Hd=0,za=0,Ba=null;function Lx(t,r){if(ll===null){var a=ll=[];Hd=0,za=Qf(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hd++,r.then(Qg,Qg),r}function Qg(){if(--Hd===0&&ll!==null){Ba!==null&&(Ba.status="fulfilled");var t=ll;ll=null,za=0,Ba=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function zx(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lx(t,r),Kg!==null&&Kg(t,r)};var Ki=re(null);function Fd(){var t=Ki.current;return t!==null?t:nt.pooledCache}function su(t,r){r===null?se(Ki,Ki.current):se(Ki,r.pool)}function Yg(){var t=Fd();return t===null?null:{parent:Dt._currentValue,pool:t}}var cl=Error(i(460)),$g=Error(i(474)),iu=Error(i(542)),Gd={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function au(){}function Zg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(au,au),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t;default:if(typeof r.status=="string")r.then(au,au);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t}throw ul=r,cl}}var ul=null;function Wg(){if(ul===null)throw Error(i(459));var t=ul;return ul=null,t}function Jg(t){if(t===cl||t===iu)throw Error(i(483))}var ws=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function As(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Wc(t),Lg(t,null,a),r}return Zc(t,l,r,a),Wc(t)}function hl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Lo(t,a)}}function Yd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $d=!1;function dl(){if($d){var t=Ba;if(t!==null)throw t}}function fl(t,r,a,l){$d=!1;var h=t.updateQueue;ws=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,q=N.next;N.next=null,b===null?f=q:b.next=q,b=N;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==b&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=N))}if(f!==null){var J=h.baseState;b=0,$=q=N=null,T=f;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Ue&H)===H:(l&H)===H){H!==0&&H===za&&($d=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,_e=T;H=r;var Je=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){J=Te.call(Je,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(Je,J,H):Te,H==null)break e;J=E({},J,H);break e;case 2:ws=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=F,N=J):$=$.next=F,b|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(N=J),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),js|=b,t.lanes=b,t.memoizedState=J}}function ey(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function ty(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],r)}var qa=re(null),ou=re(0);function ny(t,r){t=Jr,se(ou,t),se(qa,r),Jr=t|r.baseLanes}function Xd(){se(ou,Jr),se(qa,qa.current)}function Zd(){Jr=ou.current,ce(qa),ce(ou)}var Rs=0,Ne=null,Ze=null,xt=null,lu=!1,Ha=!1,Yi=!1,cu=0,ml=0,Fa=null,Bx=0;function _t(){throw Error(i(321))}function Wd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function Jd(t,r,a,l,h,f){return Rs=f,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?Ly:zy,Yi=!1,f=a(l,h),Yi=!1,Ha&&(f=sy(r,a,l,h)),ry(t),f}function ry(t){Y.H=pu;var r=Ze!==null&&Ze.next!==null;if(Rs=0,xt=Ze=Ne=null,lu=!1,ml=0,Fa=null,r)throw Error(i(300));t===null||Pt||(t=t.dependencies,t!==null&&nu(t)&&(Pt=!0))}function sy(t,r,a,l){Ne=t;var h=0;do{if(Ha&&(Fa=null),ml=0,Ha=!1,25<=h)throw Error(i(301));if(h+=1,xt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Yx,f=r(a,l)}while(Ha);return f}function qx(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?pl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),r}function ef(){var t=cu!==0;return cu=0,t}function tf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function nf(t){if(lu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lu=!1}Rs=0,xt=Ze=Ne=null,Ha=!1,ml=cu=0,Fa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ne.memoizedState=xt=t:xt=xt.next=t,xt}function wt(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=xt===null?Ne.memoizedState:xt.next;if(r!==null)xt=r,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?Ne.memoizedState=xt=t:xt=xt.next=t}return xt}function rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var r=ml;return ml+=1,Fa===null&&(Fa=[]),t=Zg(Fa,t,r),r=Ne,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Ly:zy),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===Q)return Wt(t)}throw Error(i(438,String(t)))}function sf(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rf(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=C;return r.index++,a}function Kr(t,r){return typeof r=="function"?r(t):r}function hu(t){var r=wt();return af(r,Ze,t)}function af(t,r,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var T=b=null,N=null,q=r,$=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ue&J)===J:(Rs&J)===J){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===za&&($=!0);else if((Rs&H)===H){q=q.next,H===za&&($=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=J,b=f):N=N.next=J,Ne.lanes|=H,js|=H;J=q.action,Yi&&a(f,J),f=q.hasEagerState?q.eagerState:a(f,J)}else H={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=H,b=f):N=N.next=H,Ne.lanes|=J,js|=J;q=q.next}while(q!==null&&q!==r);if(N===null?b=f:N.next=T,!bn(f,t.memoizedState)&&(Pt=!0,$&&(a=Ba,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function of(t){var r=wt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);bn(f,r.memoizedState)||(Pt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function iy(t,r,a){var l=Ne,h=wt(),f=He;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var b=!bn((Ze||h).memoizedState,a);b&&(h.memoizedState=a,Pt=!0),h=h.queue;var T=ly.bind(null,l,h,t);if(gl(2048,8,T,[t]),h.getSnapshot!==r||b||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,du(),oy.bind(null,l,h,a,r),null),nt===null)throw Error(i(349));f||(Rs&124)!==0||ay(l,r,a)}return a}function ay(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=rf(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function oy(t,r,a,l){r.value=a,r.getSnapshot=l,cy(r)&&uy(t)}function ly(t,r,a){return a(function(){cy(r)&&uy(t)})}function cy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function uy(t){var r=Va(t,2);r!==null&&Sn(r,t,2)}function lf(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),Yi){_n(!0);try{a()}finally{_n(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},r}function hy(t,r,a,l){return t.baseState=a,af(t,Ze,typeof l=="function"?l:Kr)}function Hx(t,r,a,l,h){if(mu(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,dy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function dy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Y.T,b={};Y.T=b;try{var T=a(h,l),N=Y.S;N!==null&&N(b,T),fy(t,r,T)}catch(q){cf(t,r,q)}finally{Y.T=f}}else try{f=a(h,l),fy(t,r,f)}catch(q){cf(t,r,q)}}function fy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(t,r,l)},function(l){return cf(t,r,l)}):my(t,r,a)}function my(t,r,a){r.status="fulfilled",r.value=a,py(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,dy(t,a)))}function cf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}t.action=null}function py(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function gy(t,r){return r}function yy(t,r){if(He){var a=nt.formState;if(a!==null){e:{var l=Ne;if(He){if(dt){t:{for(var h=dt,f=dr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Xn(h.nextSibling),l=h.data==="F!";break e}}Fi(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=Vy.bind(null,Ne,l),l.dispatch=a,l=lf(!1),f=mf.bind(null,Ne,!1,l.queue),l=un(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Hx.bind(null,Ne,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function _y(t){var r=wt();return vy(r,Ze,t)}function vy(t,r,a){if(r=af(t,r,gy)[0],t=hu(Kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(b){throw b===cl?iu:b}else l=r;r=wt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,Ga(9,du(),Fx.bind(null,h,a),null)),[l,f,t]}function Fx(t,r){t.action=r}function by(t){var r=wt(),a=Ze;if(a!==null)return vy(r,a,t);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ga(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=rf(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function du(){return{destroy:void 0,resource:void 0}}function Ey(){return wt().memoizedState}function fu(t,r,a,l){var h=un();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Ga(1|r,du(),a,l)}function gl(t,r,a,l){var h=wt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&Wd(l,Ze.memoizedState.deps)?h.memoizedState=Ga(r,f,a,l):(Ne.flags|=t,h.memoizedState=Ga(1|r,f,a,l))}function Ty(t,r){fu(8390656,8,t,r)}function xy(t,r){gl(2048,8,t,r)}function wy(t,r){return gl(4,2,t,r)}function Ay(t,r){return gl(4,4,t,r)}function Sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ry(t,r,a){a=a!=null?a.concat([t]):null,gl(4,4,Sy.bind(null,r,t),a)}function uf(){}function Ny(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Wd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Iy(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Wd(r,l[1]))return l[0];if(l=t(),Yi){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,r],l}function hf(t,r,a){return a===void 0||(Rs&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=O0(),Ne.lanes|=t,js|=t,a)}function Cy(t,r,a,l){return bn(a,r)?a:qa.current!==null?(t=hf(t,a,l),bn(t,r)||(Pt=!0),t):(Rs&42)===0?(Pt=!0,t.memoizedState=a):(t=O0(),Ne.lanes|=t,js|=t,r)}function Dy(t,r,a,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var b=Y.T,T={};Y.T=T,mf(t,!1,r,a);try{var N=h(),q=Y.S;if(q!==null&&q(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=zx(N,l);yl(t,r,$,An(t))}else yl(t,r,l,An(t))}catch(J){yl(t,r,{then:function(){},status:"rejected",reason:J},An())}finally{le.p=f,Y.T=b}}function Gx(){}function df(t,r,a,l){if(t.tag!==5)throw Error(i(476));var h=Oy(t).queue;Dy(t,h,r,pe,a===null?Gx:function(){return My(t),a(l)})}function Oy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function My(t){var r=Oy(t).next.queue;yl(t,r,{},An())}function ff(){return Wt(kl)}function jy(){return wt().memoizedState}function ky(){return wt().memoizedState}function Qx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();t=As(a);var l=Ss(r,t,a);l!==null&&(Sn(l,r,a),hl(l,r,a)),r={cache:qd()},t.payload=r;return}r=r.return}}function Kx(t,r,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mu(t)?Py(r,a):(a=Od(t,r,a,l),a!==null&&(Sn(a,t,l),Uy(a,r,l)))}function Vy(t,r,a){var l=An();yl(t,r,a,l)}function yl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mu(t))Py(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var b=r.lastRenderedState,T=f(b,a);if(h.hasEagerState=!0,h.eagerState=T,bn(T,b))return Zc(t,r,h,0),nt===null&&Xc(),!1}catch{}finally{}if(a=Od(t,r,h,l),a!==null)return Sn(a,t,l),Uy(a,r,l),!0}return!1}function mf(t,r,a,l){if(l={lane:2,revertLane:Qf(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(r)throw Error(i(479))}else r=Od(t,a,l,2),r!==null&&Sn(r,t,2)}function mu(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Py(t,r){Ha=lu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Uy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Lo(t,a)}}var pu={readContext:Wt,use:uu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},Ly={readContext:Wt,use:uu,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Wt,useEffect:Ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,fu(4194308,4,Sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return fu(4194308,4,t,r)},useInsertionEffect:function(t,r){fu(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(Yi){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var h=a(r);if(Yi){_n(!0);try{a(r)}finally{_n(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Kx.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=lf(t);var r=t.queue,a=Vy.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(t,r){var a=un();return hf(a,t,r)},useTransition:function(){var t=lf(!1);return t=Dy.bind(null,Ne,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,h=un();if(He){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),nt===null)throw Error(i(349));(Ue&124)!==0||ay(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Ty(ly.bind(null,l,f,t),[t]),l.flags|=2048,Ga(9,du(),oy.bind(null,l,f,a,r),null),a},useId:function(){var t=un(),r=nt.identifierPrefix;if(He){var a=Fr,l=Hr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=cu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Bx++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:ff,useFormState:yy,useActionState:yy,useOptimistic:function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=mf.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:sf,useCacheRefresh:function(){return un().memoizedState=Qx.bind(null,Ne)}},zy={readContext:Wt,use:uu,useCallback:Ny,useContext:Wt,useEffect:xy,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Ay,useMemo:Iy,useReducer:hu,useRef:Ey,useState:function(){return hu(Kr)},useDebugValue:uf,useDeferredValue:function(t,r){var a=wt();return Cy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=hu(Kr)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:iy,useId:jy,useHostTransitionStatus:ff,useFormState:_y,useActionState:_y,useOptimistic:function(t,r){var a=wt();return hy(a,Ze,t,r)},useMemoCache:sf,useCacheRefresh:ky},Yx={readContext:Wt,use:uu,useCallback:Ny,useContext:Wt,useEffect:xy,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Ay,useMemo:Iy,useReducer:of,useRef:Ey,useState:function(){return of(Kr)},useDebugValue:uf,useDeferredValue:function(t,r){var a=wt();return Ze===null?hf(a,t,r):Cy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=of(Kr)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:iy,useId:jy,useHostTransitionStatus:ff,useFormState:by,useActionState:by,useOptimistic:function(t,r){var a=wt();return Ze!==null?hy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sf,useCacheRefresh:ky},Qa=null,_l=0;function gu(t){var r=_l;return _l+=1,Qa===null&&(Qa=[]),Zg(Qa,t,r)}function vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function yu(t,r){throw r.$$typeof===A?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function By(t){var r=t._init;return r(t._payload)}function qy(t){function r(P,j){if(t){var B=P.deletions;B===null?(P.deletions=[j],P.flags|=16):B.push(j)}}function a(P,j){if(!t)return null;for(;j!==null;)r(P,j),j=j.sibling;return null}function l(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function h(P,j){return P=qr(P,j),P.index=0,P.sibling=null,P}function f(P,j,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<j?(P.flags|=67108866,j):B):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function b(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,j,B,X){return j===null||j.tag!==6?(j=jd(B,P.mode,X),j.return=P,j):(j=h(j,B),j.return=P,j)}function N(P,j,B,X){var de=B.type;return de===G?$(P,j,B.props.children,X,B.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&By(de)===j.type)?(j=h(j,B.props),vl(j,B),j.return=P,j):(j=Jc(B.type,B.key,B.props,null,P.mode,X),vl(j,B),j.return=P,j)}function q(P,j,B,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=kd(B,P.mode,X),j.return=P,j):(j=h(j,B.children||[]),j.return=P,j)}function $(P,j,B,X,de){return j===null||j.tag!==7?(j=zi(B,P.mode,X,de),j.return=P,j):(j=h(j,B),j.return=P,j)}function J(P,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=jd(""+j,P.mode,B),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return B=Jc(j.type,j.key,j.props,null,P.mode,B),vl(B,j),B.return=P,B;case L:return j=kd(j,P.mode,B),j.return=P,j;case x:var X=j._init;return j=X(j._payload),J(P,j,B)}if(ut(j)||U(j))return j=zi(j,P.mode,B,null),j.return=P,j;if(typeof j.then=="function")return J(P,gu(j),B);if(j.$$typeof===Q)return J(P,ru(P,j),B);yu(P,j)}return null}function H(P,j,B,X){var de=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:T(P,j,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===de?N(P,j,B,X):null;case L:return B.key===de?q(P,j,B,X):null;case x:return de=B._init,B=de(B._payload),H(P,j,B,X)}if(ut(B)||U(B))return de!==null?null:$(P,j,B,X,null);if(typeof B.then=="function")return H(P,j,gu(B),X);if(B.$$typeof===Q)return H(P,j,ru(P,B),X);yu(P,B)}return null}function F(P,j,B,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(B)||null,T(j,P,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return P=P.get(X.key===null?B:X.key)||null,N(j,P,X,de);case L:return P=P.get(X.key===null?B:X.key)||null,q(j,P,X,de);case x:var De=X._init;return X=De(X._payload),F(P,j,B,X,de)}if(ut(X)||U(X))return P=P.get(B)||null,$(j,P,X,de,null);if(typeof X.then=="function")return F(P,j,B,gu(X),de);if(X.$$typeof===Q)return F(P,j,B,ru(j,X),de);yu(j,X)}return null}function Te(P,j,B,X){for(var de=null,De=null,me=j,ve=j=0,Lt=null;me!==null&&ve<B.length;ve++){me.index>ve?(Lt=me,me=null):Lt=me.sibling;var Be=H(P,me,B[ve],X);if(Be===null){me===null&&(me=Lt);break}t&&me&&Be.alternate===null&&r(P,me),j=f(Be,j,ve),De===null?de=Be:De.sibling=Be,De=Be,me=Lt}if(ve===B.length)return a(P,me),He&&qi(P,ve),de;if(me===null){for(;ve<B.length;ve++)me=J(P,B[ve],X),me!==null&&(j=f(me,j,ve),De===null?de=me:De.sibling=me,De=me);return He&&qi(P,ve),de}for(me=l(me);ve<B.length;ve++)Lt=F(me,P,ve,B[ve],X),Lt!==null&&(t&&Lt.alternate!==null&&me.delete(Lt.key===null?ve:Lt.key),j=f(Lt,j,ve),De===null?de=Lt:De.sibling=Lt,De=Lt);return t&&me.forEach(function(Hs){return r(P,Hs)}),He&&qi(P,ve),de}function _e(P,j,B,X){if(B==null)throw Error(i(151));for(var de=null,De=null,me=j,ve=j=0,Lt=null,Be=B.next();me!==null&&!Be.done;ve++,Be=B.next()){me.index>ve?(Lt=me,me=null):Lt=me.sibling;var Hs=H(P,me,Be.value,X);if(Hs===null){me===null&&(me=Lt);break}t&&me&&Hs.alternate===null&&r(P,me),j=f(Hs,j,ve),De===null?de=Hs:De.sibling=Hs,De=Hs,me=Lt}if(Be.done)return a(P,me),He&&qi(P,ve),de;if(me===null){for(;!Be.done;ve++,Be=B.next())Be=J(P,Be.value,X),Be!==null&&(j=f(Be,j,ve),De===null?de=Be:De.sibling=Be,De=Be);return He&&qi(P,ve),de}for(me=l(me);!Be.done;ve++,Be=B.next())Be=F(me,P,ve,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&me.delete(Be.key===null?ve:Be.key),j=f(Be,j,ve),De===null?de=Be:De.sibling=Be,De=Be);return t&&me.forEach(function($w){return r(P,$w)}),He&&qi(P,ve),de}function Je(P,j,B,X){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var de=B.key;j!==null;){if(j.key===de){if(de=B.type,de===G){if(j.tag===7){a(P,j.sibling),X=h(j,B.props.children),X.return=P,P=X;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&By(de)===j.type){a(P,j.sibling),X=h(j,B.props),vl(X,B),X.return=P,P=X;break e}a(P,j);break}else r(P,j);j=j.sibling}B.type===G?(X=zi(B.props.children,P.mode,X,B.key),X.return=P,P=X):(X=Jc(B.type,B.key,B.props,null,P.mode,X),vl(X,B),X.return=P,P=X)}return b(P);case L:e:{for(de=B.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){a(P,j.sibling),X=h(j,B.children||[]),X.return=P,P=X;break e}else{a(P,j);break}else r(P,j);j=j.sibling}X=kd(B,P.mode,X),X.return=P,P=X}return b(P);case x:return de=B._init,B=de(B._payload),Je(P,j,B,X)}if(ut(B))return Te(P,j,B,X);if(U(B)){if(de=U(B),typeof de!="function")throw Error(i(150));return B=de.call(B),_e(P,j,B,X)}if(typeof B.then=="function")return Je(P,j,gu(B),X);if(B.$$typeof===Q)return Je(P,j,ru(P,B),X);yu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(a(P,j.sibling),X=h(j,B),X.return=P,P=X):(a(P,j),X=jd(B,P.mode,X),X.return=P,P=X),b(P)):a(P,j)}return function(P,j,B,X){try{_l=0;var de=Je(P,j,B,X);return Qa=null,de}catch(me){if(me===cl||me===iu)throw me;var De=En(29,me,null,P.mode);return De.lanes=X,De.return=P,De}finally{}}}var Ka=qy(!0),Hy=qy(!1),Ln=re(null),fr=null;function Ns(t){var r=t.alternate;se(Ot,Ot.current&1),se(Ln,t),fr===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(fr=t)}function Fy(t){if(t.tag===22){if(se(Ot,Ot.current),se(Ln,t),fr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fr=t)}}else Is()}function Is(){se(Ot,Ot.current),se(Ln,Ln.current)}function Yr(t){ce(Ln),fr===t&&(fr=null),ce(Ot)}var Ot=re(0);function _u(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=An(),h=As(l);h.payload=r,a!=null&&(h.callback=a),r=Ss(t,h,l),r!==null&&(Sn(r,t,l),hl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=An(),h=As(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ss(t,h,l),r!==null&&(Sn(r,t,l),hl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=An(),l=As(a);l.tag=2,r!=null&&(l.callback=r),r=Ss(t,l,a),r!==null&&(Sn(r,t,a),hl(r,t,a))}};function Gy(t,r,a,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(h,f):!0}function Qy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&gf.enqueueReplaceState(r,r.state,null)}function $i(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ky(t){vu(t)}function Yy(t){console.error(t)}function $y(t){vu(t)}function bu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yf(t,r,a){return a=As(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(t,r)},a}function Zy(t){return t=As(t),t.tag=3,t}function Wy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Xy(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Xy(r,a,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $x(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fr===null?Bf():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Hf(t,l,h)),!1;case 22:return a.flags|=65536,l===Gd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Hf(t,l,h)),!1}throw Error(i(435,a.tag))}return Hf(t,l,h),Bf(),!1}if(He)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Ud&&(t=Error(i(422),{cause:l}),il(kn(t,a)))):(l!==Ud&&(r=Error(i(423),{cause:l}),il(kn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=yf(t.stateNode,l,h),Yd(t,h),ft!==4&&(ft=2)),!1;var f=Error(i(520),{cause:l});if(f=kn(f,a),Sl===null?Sl=[f]:Sl.push(f),ft!==4&&(ft=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yf(a.stateNode,l,t),Yd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zy(h),Wy(h,t,a,l),Yd(a,h),!1}a=a.return}while(a!==null);return!1}var Jy=Error(i(461)),Pt=!1;function Gt(t,r,a,l){r.child=t===null?Hy(r,null,a,l):Ka(r,t.child,a,l)}function e0(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Qi(r),l=Jd(t,r,a,b,f,h),T=ef(),t!==null&&!Pt?(tf(t,r,h),$r(t,r,h)):(He&&T&&Vd(r),r.flags|=1,Gt(t,r,l,h),r.child)}function t0(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Md(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,n0(t,r,f,l,h)):(t=Jc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Af(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(b,l)&&t.ref===r.ref)return $r(t,r,h)}return r.flags|=1,t=qr(f,l),t.ref=r.ref,t.return=r,r.child=t}function n0(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(tl(f,l)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=l=f,Af(t,h))(t.flags&131072)!==0&&(Pt=!0);else return r.lanes=t.lanes,$r(t,r,h)}return _f(t,r,a,l,h)}function r0(t,r,a){var l=r.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=r.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return s0(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(r,f!==null?f.cachePool:null),f!==null?ny(r,f):Xd(),Fy(r);else return r.lanes=r.childLanes=536870912,s0(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(su(r,f.cachePool),ny(r,f),Is(),r.memoizedState=null):(t!==null&&su(r,null),Xd(),Is());return Gt(t,r,h,a),r.child}function s0(t,r,a,l){var h=Fd();return h=h===null?null:{parent:Dt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&su(r,null),Xd(),Fy(r),t!==null&&al(t,r,l,!0),null}function Eu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function _f(t,r,a,l,h){return Qi(r),a=Jd(t,r,a,l,void 0,h),l=ef(),t!==null&&!Pt?(tf(t,r,h),$r(t,r,h)):(He&&l&&Vd(r),r.flags|=1,Gt(t,r,a,h),r.child)}function i0(t,r,a,l,h,f){return Qi(r),r.updateQueue=null,a=sy(r,l,a,h),ry(t),l=ef(),t!==null&&!Pt?(tf(t,r,f),$r(t,r,f)):(He&&l&&Vd(r),r.flags|=1,Gt(t,r,a,f),r.child)}function a0(t,r,a,l,h){if(Qi(r),r.stateNode===null){var f=Pa,b=a.contextType;typeof b=="object"&&b!==null&&(f=Wt(b)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Qd(r),b=a.contextType,f.context=typeof b=="object"&&b!==null?Wt(b):Pa,f.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(pf(r,a,b,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&gf.enqueueReplaceState(f,f.state,null),fl(r,l,f,h),dl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var T=r.memoizedProps,N=$i(a,T);f.props=N;var q=f.context,$=a.contextType;b=Pa,typeof $=="object"&&$!==null&&(b=Wt($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==b)&&Qy(r,f,l,b),ws=!1;var H=r.memoizedState;f.state=H,fl(r,l,f,h),dl(),q=r.memoizedState,T||H!==q||ws?(typeof J=="function"&&(pf(r,a,J,l),q=r.memoizedState),(N=ws||Gy(r,a,N,l,H,q,b))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=b,l=N):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Kd(t,r),b=r.memoizedProps,$=$i(a,b),f.props=$,J=r.pendingProps,H=f.context,q=a.contextType,N=Pa,typeof q=="object"&&q!==null&&(N=Wt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==J||H!==N)&&Qy(r,f,l,N),ws=!1,H=r.memoizedState,f.state=H,fl(r,l,f,h),dl();var F=r.memoizedState;b!==J||H!==F||ws||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof T=="function"&&(pf(r,a,T,l),F=r.memoizedState),($=ws||Gy(r,a,$,l,H,F,N)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=N,l=$):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Eu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Ka(r,t.child,null,h),r.child=Ka(r,null,a,h)):Gt(t,r,a,h),r.memoizedState=f.state,t=r.child):t=$r(t,r,h),t}function o0(t,r,a,l){return sl(),r.flags|=256,Gt(t,r,a,l),r.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(t){return{baseLanes:t,cachePool:Yg()}}function Ef(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=zn),t}function l0(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(h?Ns(r):Is(),He){var T=dt,N;if(N=T){e:{for(N=T,T=dr;N.nodeType!==8;){if(!T){T=null;break e}if(N=Xn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(r.memoizedState={dehydrated:T,treeContext:Bi!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},N=En(18,null,null,0),N.stateNode=T,N.return=r,r.child=N,ln=r,dt=null,N=!0):N=!1}N||Fi(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return sm(T)?r.lanes=32:r.lanes=536870912,null;Yr(r)}return T=l.children,l=l.fallback,h?(Is(),h=r.mode,T=Tu({mode:"hidden",children:T},h),l=zi(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=bf(a),h.childLanes=Ef(t,b,a),r.memoizedState=vf,l):(Ns(r),Tf(r,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(f)r.flags&256?(Ns(r),r.flags&=-257,r=xf(t,r,a)):r.memoizedState!==null?(Is(),r.child=t.child,r.flags|=128,r=null):(Is(),h=l.fallback,T=r.mode,l=Tu({mode:"visible",children:l.children},T),h=zi(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ka(r,t.child,null,a),l=r.child,l.memoizedState=bf(a),l.childLanes=Ef(t,b,a),r.memoizedState=vf,r=h);else if(Ns(r),sm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(i(419)),l.stack="",l.digest=b,il({value:l,source:null,stack:null}),r=xf(t,r,a)}else if(Pt||al(t,r,a,!1),b=(a&t.childLanes)!==0,Pt||b){if(b=nt,b!==null&&(l=a&-a,l=(l&42)!==0?1:gs(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Va(t,l),Sn(b,t,l),Jy;T.data==="$?"||Bf(),r=xf(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,dt=Xn(T.nextSibling),ln=r,He=!0,Hi=null,dr=!1,t!==null&&(Pn[Un++]=Hr,Pn[Un++]=Fr,Pn[Un++]=Bi,Hr=t.id,Fr=t.overflow,Bi=r),r=Tf(r,l.children),r.flags|=4096);return r}return h?(Is(),h=l.fallback,T=r.mode,N=t.child,q=N.sibling,l=qr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?h=qr(q,h):(h=zi(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=bf(a):(N=T.cachePool,N!==null?(q=Dt._currentValue,N=N.parent!==q?{parent:q,pool:q}:N):N=Yg(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=Ef(t,b,a),r.memoizedState=vf,l):(Ns(r),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function Tf(t,r){return r=Tu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Tu(t,r){return t=En(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xf(t,r,a){return Ka(r,t.child,null,a),t=Tf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function c0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),zd(t.return,r,a)}function wf(t,r,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function u0(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(Gt(t,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,a,r);else if(t.tag===19)c0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ot,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&_u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),wf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&_u(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wf(r,!0,a,null,f);break;case"together":wf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $r(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),js|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(al(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=qr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Af(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function Xx(t,r,a){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),xs(r,Dt,t.memoizedState.cache),sl();break;case 27:case 5:ps(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:xs(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l0(t,r,a):(Ns(r),t=$r(t,r,a),t!==null?t.sibling:null);Ns(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return u0(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,r0(t,r,a);case 24:xs(r,Dt,t.memoizedState.cache)}return $r(t,r,a)}function h0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Af(t,a)&&(r.flags&128)===0)return Pt=!1,Xx(t,r,a);Pt=(t.flags&131072)!==0}else Pt=!1,He&&(r.flags&1048576)!==0&&Bg(r,tu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Md(l)?(t=$i(l,t),r.tag=1,r=a0(null,r,l,t,a)):(r.tag=0,r=_f(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ne){r.tag=11,r=e0(null,r,l,t,a);break e}else if(h===M){r.tag=14,r=t0(null,r,l,t,a);break e}}throw r=qt(l)||l,Error(i(306,r,""))}}return r;case 0:return _f(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=$i(l,r.pendingProps),a0(t,r,l,h,a);case 3:e:{if(tt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Kd(t,r),fl(r,l,null,a);var b=r.memoizedState;if(l=b.cache,xs(r,Dt,l),l!==f.cache&&Bd(r,[Dt],a,!0),dl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=o0(t,r,l,a);break e}else if(l!==h){h=kn(Error(i(424)),r),il(h),r=o0(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Xn(t.firstChild),ln=r,He=!0,Hi=null,dr=!0,a=Hy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===h){r=$r(t,r,a);break e}Gt(t,r,l,a)}r=r.child}return r;case 26:return Eu(t,r),t===null?(a=p_(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,t=r.pendingProps,l=Vu(xe.current).createElement(a),l[Nt]=r,l[Et]=t,Kt(l,a,t),yt(l),r.stateNode=l):r.memoizedState=p_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ps(r),t===null&&He&&(l=r.stateNode=d_(r.type,r.pendingProps,xe.current),ln=r,dr=!0,h=dt,Us(r.type)?(im=h,dt=Xn(l.firstChild)):dt=h),Gt(t,r,r.pendingProps.children,a),Eu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((h=l=dt)&&(l=ww(l,r.type,r.pendingProps,dr),l!==null?(r.stateNode=l,ln=r,dt=Xn(l.firstChild),dr=!1,h=!0):h=!1),h||Fi(r)),ps(r),h=r.type,f=r.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,tm(h,f)?l=null:b!==null&&tm(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=Jd(t,r,qx,null,null,a),kl._currentValue=h),Eu(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&He&&((t=a=dt)&&(a=Aw(a,r.pendingProps,dr),a!==null?(r.stateNode=a,ln=r,dt=null,t=!0):t=!1),t||Fi(r)),null;case 13:return l0(t,r,a);case 4:return tt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ka(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return e0(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,xs(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Qi(r),h=Wt(h),l=l(h),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return t0(t,r,r.type,r.pendingProps,a);case 15:return n0(t,r,r.type,r.pendingProps,a);case 19:return u0(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Tu(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=qr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return r0(t,r,a);case 24:return Qi(r),l=Wt(Dt),t===null?(h=Fd(),h===null&&(h=nt,f=qd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Qd(r),xs(r,Dt,h)):((t.lanes&a)!==0&&(Kd(t,r),fl(r,null,null,a),dl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),xs(r,Dt,l)):(l=f.cache,xs(r,Dt,l),l!==h.cache&&Bd(r,[Dt],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Xr(t){t.flags|=4}function d0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b_(r)){if(r=Ln.current,r!==null&&((Ue&4194048)===Ue?fr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==fr))throw ul=Gd,$g;t.flags|=8192}}function xu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Po():536870912,t.lanes|=r,Za|=r)}function bl(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Zx(t,r,a){var l=r.pendingProps;switch(Pd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qr(Dt),er(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(r)?Xr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fg())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Xr(r),a!==null?(ot(r),d0(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Xr(r),ot(r),d0(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Xr(r),ot(r),r.flags&=-16777217),null;case 27:Ir(r),a=xe.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return ot(r),null}t=ye.current,rl(r)?qg(r):(t=d_(h,l,a),r.stateNode=t,Xr(r))}return ot(r),null;case 5:if(Ir(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return ot(r),null}if(t=ye.current,rl(r))qg(r);else{switch(h=Vu(xe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Nt]=r,t[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xr(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=xe.current,rl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||i_(t.nodeValue,a)),t||Fi(r)}else t=Vu(t).createTextNode(l),t[Nt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Nt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Yr(r),r):(Yr(r),null)}if(Yr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),xu(r,r.updateQueue),ot(r),null;case 4:return er(),t===null&&Xf(r.stateNode.containerInfo),ot(r),null;case 10:return Qr(r.type),ot(r),null;case 19:if(ce(Ot),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)bl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=_u(t),f!==null){for(r.flags|=128,bl(h,!1),t=f.updateQueue,r.updateQueue=t,xu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)zg(a,t),a=a.sibling;return se(Ot,Ot.current&1|2),r.child}t=t.sibling}h.tail!==null&&In()>Su&&(r.flags|=128,l=!0,bl(h,!1),r.lanes=4194304)}else{if(!l)if(t=_u(f),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,xu(r,t),bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!He)return ot(r),null}else 2*In()-h.renderingStartTime>Su&&a!==536870912&&(r.flags|=128,l=!0,bl(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(t=h.last,t!==null?t.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=In(),r.sibling=null,t=Ot.current,se(Ot,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Yr(r),Zd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&xu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ce(Ki),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qr(Dt),ot(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Wx(t,r){switch(Pd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(Dt),er(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ir(r),null;case 13:if(Yr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ce(Ot),null;case 4:return er(),null;case 10:return Qr(r.type),null;case 22:case 23:return Yr(r),Zd(),t!==null&&ce(Ki),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(Dt),null;case 25:return null;default:return null}}function f0(t,r){switch(Pd(r),r.tag){case 3:Qr(Dt),er();break;case 26:case 27:case 5:Ir(r);break;case 4:er();break;case 13:Yr(r);break;case 19:ce(Ot);break;case 10:Qr(r.type);break;case 22:case 23:Yr(r),Zd(),t!==null&&ce(Ki);break;case 24:Qr(Dt)}}function El(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){et(r,r.return,T)}}function Cs(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=r;var N=a,q=T;try{q()}catch($){et(h,N,$)}}}l=l.next}while(l!==f)}}catch($){et(r,r.return,$)}}function m0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ty(r,a)}catch(l){et(t,t.return,l)}}}function p0(t,r,a){a.props=$i(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function Tl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,r,h)}}function mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,r,h)}else a.current=null}function g0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Sf(t,r,a){try{var l=t.stateNode;vw(l,t.type,a,r),l[Et]=r}catch(h){et(t,t.return,h)}}function y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ku));else if(l!==4&&(l===27&&Us(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Nf(t,r,a),t=t.sibling;t!==null;)Nf(t,r,a),t=t.sibling}function wu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wu(t,r,a),t=t.sibling;t!==null;)wu(t,r,a),t=t.sibling}function _0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Kt(r,l,a),r[Nt]=t,r[Et]=a}catch(f){et(t,t.return,f)}}var Zr=!1,vt=!1,If=!1,v0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Jx(t,r){if(t=t.containerInfo,Jf=qu,t=Cg(t),Sd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,T=-1,N=-1,q=0,$=0,J=t,H=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=b+h),J!==f||l!==0&&J.nodeType!==3||(N=b+l),J.nodeType===3&&(b+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===t)break t;if(H===a&&++q===h&&(T=b),H===f&&++$===l&&(N=b),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},qu=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Te=$i(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function b0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(t,a),l&4&&El(5,a);break;case 1:if(Ds(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){et(a,a.return,b)}else{var h=$i(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){et(a,a.return,b)}}l&64&&m0(a),l&512&&Tl(a,a.return);break;case 3:if(Ds(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ty(t,r)}catch(b){et(a,a.return,b)}}break;case 27:r===null&&l&4&&_0(a);case 26:case 5:Ds(t,a),r===null&&l&4&&g0(a),l&512&&Tl(a,a.return);break;case 12:Ds(t,a);break;case 13:Ds(t,a),l&4&&x0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lw.bind(null,a),Sw(t,a))));break;case 22:if(l=a.memoizedState!==null||Zr,!l){r=r!==null&&r.memoizedState!==null||vt,h=Zr;var f=vt;Zr=l,(vt=r)&&!f?Os(t,a,(a.subtreeFlags&8772)!==0):Ds(t,a),Zr=h,vt=f}break;case 30:break;default:Ds(t,a)}}function E0(t){var r=t.alternate;r!==null&&(t.alternate=null,E0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&vs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,hn=!1;function Wr(t,r,a){for(a=a.child;a!==null;)T0(t,r,a),a=a.sibling}function T0(t,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:vt||mr(a,r),Wr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||mr(a,r);var l=at,h=hn;Us(a.type)&&(at=a.stateNode,hn=!1),Wr(t,r,a),Dl(a.stateNode),at=l,hn=h;break;case 5:vt||mr(a,r);case 6:if(l=at,h=hn,at=null,Wr(t,r,a),at=l,hn=h,at!==null)if(hn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(f){et(a,r,f)}else try{at.removeChild(a.stateNode)}catch(f){et(a,r,f)}break;case 18:at!==null&&(hn?(t=at,u_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):u_(at,a.stateNode));break;case 4:l=at,h=hn,at=a.stateNode.containerInfo,hn=!0,Wr(t,r,a),at=l,hn=h;break;case 0:case 11:case 14:case 15:vt||Cs(2,a,r),vt||Cs(4,a,r),Wr(t,r,a);break;case 1:vt||(mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p0(a,r,l)),Wr(t,r,a);break;case 21:Wr(t,r,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,Wr(t,r,a),vt=l;break;default:Wr(t,r,a)}}function x0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){et(r,r.return,a)}}function ew(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new v0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new v0),r;default:throw Error(i(435,t.tag))}}function Cf(t,r){var a=ew(t);r.forEach(function(l){var h=cw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Tn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){at=T.stateNode,hn=!1;break e}break;case 5:at=T.stateNode,hn=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(at===null)throw Error(i(160));T0(f,b,h),at=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)w0(r,t),r=r.sibling}var $n=null;function w0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),xn(t),l&4&&(Cs(3,t,t.return),El(3,t),Cs(5,t,t.return));break;case 1:Tn(r,t),xn(t),l&512&&(vt||a===null||mr(a,a.return)),l&64&&Zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(Tn(r,t),xn(t),l&512&&(vt||a===null||mr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,l,a),f[Nt]=t,yt(f),l=f;break e;case"link":var b=__("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}f=h.createElement(l),Kt(f,l,a),h.head.appendChild(f);break;case"meta":if(b=__("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}f=h.createElement(l),Kt(f,l,a),h.head.appendChild(f);break;default:throw Error(i(468,l))}f[Nt]=t,yt(f),l=f}t.stateNode=l}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?v_(h,t.type,t.stateNode):y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,t),xn(t),l&512&&(vt||a===null||mr(a,a.return)),a!==null&&l&4&&Sf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,t),xn(t),l&512&&(vt||a===null||mr(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(F){et(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(If=!0);break;case 6:if(Tn(r,t),xn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){et(t,t.return,F)}}break;case 3:if(Lu=null,h=$n,$n=Pu(r.containerInfo),Tn(r,t),$n=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(r.containerInfo)}catch(F){et(t,t.return,F)}If&&(If=!1,A0(t));break;case 4:l=$n,$n=Pu(t.stateNode.containerInfo),Tn(r,t),xn(t),$n=l;break;case 12:Tn(r,t),xn(t);break;case 13:Tn(r,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=In()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cf(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=Zr,$=vt;if(Zr=q||h,vt=$||N,Tn(r,t),vt=$,Zr=q,xn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||N||Zr||vt||Xi(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(f=N.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){et(N,N.return,F)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(F){et(N,N.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cf(t,a))));break;case 19:Tn(r,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cf(t,l)));break;case 30:break;case 21:break;default:Tn(r,t),xn(t)}}function xn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(y0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,f=Rf(t);wu(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(Dn(b,""),a.flags&=-33);var T=Rf(t);wu(t,T,b);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Rf(t);Nf(t,q,N);break;default:throw Error(i(161))}}catch($){et(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function A0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;A0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ds(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b0(t,r.alternate,r),r=r.sibling}function Xi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Cs(4,r,r.return),Xi(r);break;case 1:mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p0(r,r.return,a),Xi(r);break;case 27:Dl(r.stateNode);case 26:case 5:mr(r,r.return),Xi(r);break;case 22:r.memoizedState===null&&Xi(r);break;case 30:Xi(r);break;default:Xi(r)}t=t.sibling}}function Os(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,b=f.flags;switch(f.tag){case 0:case 11:case 15:Os(h,f,a),El(4,f);break;case 1:if(Os(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){et(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ey(N[h],T)}catch(q){et(l,l.return,q)}}a&&b&64&&m0(f),Tl(f,f.return);break;case 27:_0(f);case 26:case 5:Os(h,f,a),a&&l===null&&b&4&&g0(f),Tl(f,f.return);break;case 12:Os(h,f,a);break;case 13:Os(h,f,a),a&&b&4&&x0(h,f);break;case 22:f.memoizedState===null&&Os(h,f,a),Tl(f,f.return);break;case 30:break;default:Os(h,f,a)}r=r.sibling}}function Df(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Of(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t))}function pr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)S0(t,r,a,l),r=r.sibling}function S0(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pr(t,r,a,l),h&2048&&El(9,r);break;case 1:pr(t,r,a,l);break;case 3:pr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){pr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(r,r.return,N)}}else pr(t,r,a,l);break;case 13:pr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,b=r.alternate,r.memoizedState!==null?f._visibility&2?pr(t,r,a,l):xl(t,r):f._visibility&2?pr(t,r,a,l):(f._visibility|=2,Ya(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Df(b,r);break;case 24:pr(t,r,a,l),h&2048&&Of(r.alternate,r);break;default:pr(t,r,a,l)}}function Ya(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,b=r,T=a,N=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:Ya(f,b,T,N,h),El(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?Ya(f,b,T,N,h):xl(f,b):($._visibility|=2,Ya(f,b,T,N,h)),h&&q&2048&&Df(b.alternate,b);break;case 24:Ya(f,b,T,N,h),h&&q&2048&&Of(b.alternate,b);break;default:Ya(f,b,T,N,h)}r=r.sibling}}function xl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&Df(l.alternate,l);break;case 24:xl(a,l),h&2048&&Of(l.alternate,l);break;default:xl(a,l)}r=r.sibling}}var wl=8192;function $a(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)R0(t),t=t.sibling}function R0(t){switch(t.tag){case 26:$a(t),t.flags&wl&&t.memoizedState!==null&&Lw($n,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var r=$n;$n=Pu(t.stateNode.containerInfo),$a(t),$n=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,$a(t),wl=r):$a(t));break;default:$a(t)}}function N0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,C0(l,t)}N0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I0(t),t=t.sibling}function I0(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Au(t)):Al(t);break;default:Al(t)}}function Au(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,C0(l,t)}N0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Cs(8,r,r.return),Au(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Au(r));break;default:Au(r)}t=t.sibling}}function C0(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Cs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(E0(l),l===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var tw={getCacheForType:function(t){var r=Wt(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},nw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Oe=null,Ue=0,Ye=0,wn=null,Ms=!1,Xa=!1,Mf=!1,Jr=0,ft=0,js=0,Zi=0,jf=0,zn=0,Za=0,Sl=null,dn=null,kf=!1,Vf=0,Su=1/0,Ru=null,ks=null,Qt=0,Vs=null,Wa=null,Ja=0,Pf=0,Uf=null,D0=null,Rl=0,Lf=null;function An(){if((Ke&2)!==0&&Ue!==0)return Ue&-Ue;if(Y.T!==null){var t=za;return t!==0?t:Qf()}return ys()}function O0(){zn===0&&(zn=(Ue&536870912)===0||He?Vo():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),zn}function Sn(t,r,a){(t===nt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Ps(t,Ue,zn,!1)),Dr(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Zi|=a),ft===4&&Ps(t,Ue,zn,!1)),gr(t))}function M0(t,r,a){if((Ke&6)!==0)throw Error(i(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||xi(t,r),h=l?iw(t,r):qf(t,r,!0),f=l;do{if(h===0){Xa&&!l&&Ps(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!rw(a)){h=qf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;h=Sl;var N=T.current.memoizedState.isDehydrated;if(N&&(eo(T,b).flags|=256),b=qf(T,b,!1),b!==2){if(Mf&&!N){T.errorRecoveryDisabledLanes|=f,Zi|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){eo(t,0),Ps(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ps(l,r,zn,!Ms);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Vf+300-In(),10<h)){if(Ps(l,r,zn,!Ms),ya(l,0,!0)!==0)break e;l.timeoutHandle=l_(j0.bind(null,l,a,dn,Ru,kf,r,zn,Zi,Za,Ms,f,2,-0,0),h);break e}j0(l,a,dn,Ru,kf,r,zn,Zi,Za,Ms,f,0,-0,0)}}break}while(!0);gr(t)}function j0(t,r,a,l,h,f,b,T,N,q,$,J,H,F){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:Uw},R0(r),J=zw(),J!==null)){t.cancelPendingCommit=J(B0.bind(null,t,r,f,a,l,h,b,T,N,$,1,H,F)),Ps(t,f,b,!q);return}B0(t,r,f,a,l,h,b,T,N)}function rw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ps(t,r,a,l){r&=~jf,r&=~Zi,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-Zt(h),b=1<<f;l[f]=-1,h&=~b}a!==0&&tr(t,a,r)}function Nu(){return(Ke&6)===0?(Nl(0),!1):!0}function zf(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,Gr=Gi=null,nf(t),Qa=null,_l=0,t=Oe;for(;t!==null;)f0(t.alternate,t),t=t.return;Oe=null}}function eo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ew(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zf(),nt=t,Oe=a=qr(t.current,null),Ue=r,Ye=0,wn=null,Ms=!1,Xa=xi(t,r),Mf=!1,Za=zn=jf=Zi=js=ft=0,dn=Sl=null,kf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Zt(l),f=1<<h;r|=t[h],l&=~f}return Jr=r,Xc(),a}function k0(t,r){Ne=null,Y.H=pu,r===cl||r===iu?(r=Wg(),Ye=3):r===$g?(r=Wg(),Ye=4):Ye=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Oe===null&&(ft=1,bu(t,kn(r,t.current)))}function V0(){var t=Y.H;return Y.H=pu,t===null?pu:t}function P0(){var t=Y.A;return Y.A=tw,t}function Bf(){ft=4,Ms||(Ue&4194048)!==Ue&&Ln.current!==null||(Xa=!0),(js&134217727)===0&&(Zi&134217727)===0||nt===null||Ps(nt,Ue,zn,!1)}function qf(t,r,a){var l=Ke;Ke|=2;var h=V0(),f=P0();(nt!==t||Ue!==r)&&(Ru=null,eo(t,r)),r=!1;var b=ft;e:do try{if(Ye!==0&&Oe!==null){var T=Oe,N=wn;switch(Ye){case 8:zf(),b=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var q=Ye;if(Ye=0,wn=null,to(t,T,N,q),a&&Xa){b=0;break e}break;default:q=Ye,Ye=0,wn=null,to(t,T,N,q)}}sw(),b=ft;break}catch($){k0(t,$)}while(!0);return r&&t.shellSuspendCounter++,Gr=Gi=null,Ke=l,Y.H=h,Y.A=f,Oe===null&&(nt=null,Ue=0,Xc()),b}function sw(){for(;Oe!==null;)U0(Oe)}function iw(t,r){var a=Ke;Ke|=2;var l=V0(),h=P0();nt!==t||Ue!==r?(Ru=null,Su=In()+500,eo(t,r)):Xa=xi(t,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var f=wn;t:switch(Ye){case 1:Ye=0,wn=null,to(t,r,f,1);break;case 2:case 9:if(Xg(f)){Ye=0,wn=null,L0(r);break}r=function(){Ye!==2&&Ye!==9||nt!==t||(Ye=7),gr(t)},f.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Xg(f)?(Ye=0,wn=null,L0(r)):(Ye=0,wn=null,to(t,r,f,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var T=Oe;if(!b||b_(b)){Ye=0,wn=null;var N=T.sibling;if(N!==null)Oe=N;else{var q=T.return;q!==null?(Oe=q,Iu(q)):Oe=null}break t}}Ye=0,wn=null,to(t,r,f,5);break;case 6:Ye=0,wn=null,to(t,r,f,6);break;case 8:zf(),ft=6;break e;default:throw Error(i(462))}}aw();break}catch($){k0(t,$)}while(!0);return Gr=Gi=null,Y.H=l,Y.A=h,Ke=a,Oe!==null?0:(nt=null,Ue=0,Xc(),ft)}function aw(){for(;Oe!==null&&!Oo();)U0(Oe)}function U0(t){var r=h0(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,r===null?Iu(t):Oe=r}function L0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=i0(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=i0(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:nf(r);default:f0(a,r),r=Oe=zg(r,Jr),r=h0(a,r,Jr)}t.memoizedProps=t.pendingProps,r===null?Iu(t):Oe=r}function to(t,r,a,l){Gr=Gi=null,nf(r),Qa=null,_l=0;var h=r.return;try{if($x(t,h,r,a,Ue)){ft=1,bu(t,kn(a,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;ft=1,bu(t,kn(a,t.current)),Oe=null;return}r.flags&32768?(He||l===1?t=!0:Xa||(Ue&536870912)!==0?t=!1:(Ms=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),z0(r,t)):Iu(r)}function Iu(t){var r=t;do{if((r.flags&32768)!==0){z0(r,Ms);return}t=r.return;var a=Zx(r.alternate,r,Jr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ft===0&&(ft=5)}function z0(t,r){do{var a=Wx(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ft=6,Oe=null}function B0(t,r,a,l,h,f,b,T,N){t.cancelPendingCommit=null;do Cu();while(Qt!==0);if((Ke&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=Dd,Uo(t,a,f,b,T,N),t===nt&&(Oe=nt=null,Ue=0),Wa=r,Vs=t,Ja=a,Pf=f,Uf=h,D0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uw(vi,function(){return Q0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=le.p,le.p=2,b=Ke,Ke|=4;try{Jx(t,r,a)}finally{Ke=b,le.p=h,Y.T=l}}Qt=1,q0(),H0(),F0()}}function q0(){if(Qt===1){Qt=0;var t=Vs,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{w0(r,t);var f=em,b=Cg(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&Ig(T.ownerDocument.documentElement,T)){if(N!==null&&Sd(T)){var q=N.start,$=N.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,_e=Math.min(N.start,Te),Je=N.end===void 0?_e:Math.min(N.end,Te);!F.extend&&_e>Je&&(b=Je,Je=_e,_e=b);var P=Ng(T,_e),j=Ng(T,Je);if(P&&j&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==j.node||F.focusOffset!==j.offset)){var B=J.createRange();B.setStart(P.node,P.offset),F.removeAllRanges(),_e>Je?(F.addRange(B),F.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),F.addRange(B))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}qu=!!Jf,em=Jf=null}finally{Ke=h,le.p=l,Y.T=a}}t.current=r,Qt=2}}function H0(){if(Qt===2){Qt=0;var t=Vs,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{b0(t,r.alternate,r)}finally{Ke=h,le.p=l,Y.T=a}}Qt=3}}function F0(){if(Qt===4||Qt===3){Qt=0,Ac();var t=Vs,r=Wa,a=Ja,l=D0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,Wa=Vs=null,G0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),_a(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{Y.T=r,le.p=h}}(Ja&3)!==0&&Cu(),gr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Lf?Rl++:(Rl=0,Lf=t):Rl=0,Nl(0)}}function G0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ol(r)))}function Cu(t){return q0(),H0(),F0(),Q0()}function Q0(){if(Qt!==5)return!1;var t=Vs,r=Pf;Pf=0;var a=_a(Ja),l=Y.T,h=le.p;try{le.p=32>a?32:a,Y.T=null,a=Uf,Uf=null;var f=Vs,b=Ja;if(Qt=0,Wa=Vs=null,Ja=0,(Ke&6)!==0)throw Error(i(331));var T=Ke;if(Ke|=4,I0(f.current),S0(f,f.current,b,a),Ke=T,Nl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{le.p=h,Y.T=l,G0(t,r)}}function K0(t,r,a){r=kn(a,r),r=yf(t.stateNode,r,2),t=Ss(t,r,2),t!==null&&(Dr(t,2),gr(t))}function et(t,r,a){if(t.tag===3)K0(t,t,a);else for(;r!==null;){if(r.tag===3){K0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){t=kn(a,t),a=Zy(2),l=Ss(r,a,2),l!==null&&(Wy(a,l,r,t),Dr(l,2),gr(l));break}}r=r.return}}function Hf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Mf=!0,h.add(a),t=ow.bind(null,t,r,a),r.then(t,t))}function ow(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>In()-Vf?(Ke&2)===0&&eo(t,0):jf|=a,Za===Ue&&(Za=0)),gr(t)}function Y0(t,r){r===0&&(r=Po()),t=Va(t,r),t!==null&&(Dr(t,r),gr(t))}function lw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Y0(t,a)}function cw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),Y0(t,a)}function uw(t,r){return yi(t,r)}var Du=null,no=null,Ff=!1,Ou=!1,Gf=!1,Wi=0;function gr(t){t!==no&&t.next===null&&(no===null?Du=no=t:no=no.next=t),Ou=!0,Ff||(Ff=!0,dw())}function Nl(t,r){if(!Gf&&Ou){Gf=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Zt(42|t)+1)-1,f&=h&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,W0(l,f))}else f=Ue,f=ya(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xi(l,f)||(a=!0,W0(l,f));l=l.next}while(a);Gf=!1}}function hw(){$0()}function $0(){Ou=Ff=!1;var t=0;Wi!==0&&(bw()&&(t=Wi),Wi=0);for(var r=In(),a=null,l=Du;l!==null;){var h=l.next,f=X0(l,r);f===0?(l.next=null,a===null?Du=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(f&3)!==0)&&(Ou=!0)),l=h}Nl(t)}function X0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-Zt(f),T=1<<b,N=h[b];N===-1?((T&a)===0||(T&l)!==0)&&(h[b]=ko(T,r)):N<=r&&(t.expiredLanes|=T),f&=~T}if(r=nt,a=Ue,a=ya(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_i(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xi(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_i(l),_a(a)){case 2:case 8:a=pa;break;case 32:a=vi;break;case 268435456:a=ga;break;default:a=vi}return l=Z0.bind(null,t),a=yi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_i(l),t.callbackPriority=2,t.callbackNode=null,2}function Z0(t,r){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=Ue;return l=ya(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(M0(t,l,r),X0(t,In()),t.callbackNode!=null&&t.callbackNode===a?Z0.bind(null,t):null)}function W0(t,r){if(Cu())return null;M0(t,r,!0)}function dw(){Tw(function(){(Ke&6)!==0?yi(Mo,hw):$0()})}function Qf(){return Wi===0&&(Wi=Vo()),Wi}function J0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function e_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function fw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=J0((h[Et]||null).action),b=l.submitter;b&&(r=(r=b[Et]||null)?J0(r.formAction):b.getAttribute("formAction"),r!==null&&(f=r,b=null));var T=new Aa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wi!==0){var N=b?e_(h,b):new FormData(h);df(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=b?e_(h,b):new FormData(h),df(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Kf=0;Kf<Cd.length;Kf++){var Yf=Cd[Kf],mw=Yf.toLowerCase(),pw=Yf[0].toUpperCase()+Yf.slice(1);Yn(mw,"on"+pw)}Yn(Mg,"onAnimationEnd"),Yn(jg,"onAnimationIteration"),Yn(kg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Ox,"onTransitionRun"),Yn(Mx,"onTransitionStart"),Yn(jx,"onTransitionCancel"),Yn(Vg,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function t_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var b=l.length-1;0<=b;b--){var T=l[b],N=T.instance,q=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=q;try{f(h)}catch($){vu($)}h.currentTarget=null,f=N}else for(b=0;b<l.length;b++){if(T=l[b],N=T.instance,q=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=q;try{f(h)}catch($){vu($)}h.currentTarget=null,f=N}}}}function Me(t,r){var a=r[zo];a===void 0&&(a=r[zo]=new Set);var l=t+"__bubble";a.has(l)||(n_(r,t,2,!1),a.add(l))}function $f(t,r,a){var l=0;r&&(l|=4),n_(a,t,l,r)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Mu]){t[Mu]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(gw.has(a)||$f(a,!1,t),$f(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mu]||(r[Mu]=!0,$f("selectionchange",!1,r))}}function n_(t,r,a,l){switch(S_(r)){case 2:var h=Hw;break;case 8:h=Fw;break;default:h=um}a=h.bind(null,r,a,t),h=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Zf(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=Or(T),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=f=b;continue e}T=T.parentNode}}l=l.return}kc(function(){var q=f,$=On(a),J=[];e:{var H=Pg.get(t);if(H!==void 0){var F=Aa,Te=t;switch(t){case"keypress":if(or(a)===0)break e;case"keydown":case"keyup":F=Da;break;case"focusin":Te="focus",F=Na;break;case"focusout":Te="blur",F=Na;break;case"beforeblur":case"afterblur":F=Na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Hc;break;case Mg:case jg:case kg:F=Ia;break;case Vg:F=Gc;break;case"scroll":case"scrollend":F=Vc;break;case"wheel":F=Oa;break;case"copy":case"cut":case"paste":F=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Jo;break;case"toggle":case"beforetoggle":F=Kc}var _e=(r&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),P=_e?H!==null?H+"Capture":null:H;_e=[];for(var j=q,B;j!==null;){var X=j;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||P===null||(X=Di(j,P),X!=null&&_e.push(Cl(j,X,B))),Je)break;j=j.return}0<_e.length&&(H=new F(H,Te,null,a,$),J.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Vr&&(Te=a.relatedTarget||a.fromElement)&&(Or(Te)||Te[Cn]))break e;if((F||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=q,Te=Te?Or(Te):null,Te!==null&&(Je=c(Te),_e=Te.tag,Te!==Je||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(F=null,Te=q),F!==Te)){if(_e=jn,X="onMouseLeave",P="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Jo,X="onPointerLeave",P="onPointerEnter",j="pointer"),Je=F==null?H:rr(F),B=Te==null?H:rr(Te),H=new _e(X,j+"leave",F,a,$),H.target=Je,H.relatedTarget=B,X=null,Or($)===q&&(_e=new _e(P,j+"enter",Te,a,$),_e.target=B,_e.relatedTarget=Je,X=_e),Je=X,F&&Te)t:{for(_e=F,P=Te,j=0,B=_e;B;B=ro(B))j++;for(B=0,X=P;X;X=ro(X))B++;for(;0<j-B;)_e=ro(_e),j--;for(;0<B-j;)P=ro(P),B--;for(;j--;){if(_e===P||P!==null&&_e===P.alternate)break t;_e=ro(_e),P=ro(P)}_e=null}else _e=null;F!==null&&r_(J,H,F,_e,!1),Te!==null&&Je!==null&&r_(J,Je,Te,_e,!0)}}e:{if(H=q?rr(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var de=Tg;else if(Ct(H))if(xg)de=Ix;else{de=Rx;var De=Sx}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Qo(q.elementType)&&(de=Tg):de=Nx;if(de&&(de=de(t,q))){Br(J,de,a,$);break e}De&&De(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Es(H,"number",H.value)}switch(De=q?rr(q):window,t){case"focusin":(Ct(De)||De.contentEditable==="true")&&(Ma=De,Rd=q,nl=null);break;case"focusout":nl=Rd=Ma=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,Dg(J,a,$);break;case"selectionchange":if(Dx)break;case"keydown":case"keyup":Dg(J,a,$)}var me;if(ur)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(me=Yo()):(ar=$,Ts="value"in ar?ar.value:ar.textContent,Ve=!0)),De=ju(q,ve),0<De.length&&(ve=new Zo(ve,t,null,a,$),J.push({event:ve,listeners:De}),me?ve.data=me:(me=ie(a),me!==null&&(ve.data=me)))),(me=y?It(t,a):Pe(t,a))&&(ve=ju(q,"onBeforeInput"),0<ve.length&&(De=new Zo("onBeforeInput","beforeinput",null,a,$),J.push({event:De,listeners:ve}),De.data=me)),fw(J,t,q,a,$)}t_(J,r)})}function Cl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function ju(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Di(t,a),h!=null&&l.unshift(Cl(t,h,f)),h=Di(t,r),h!=null&&l.push(Cl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,r,a,l,h){for(var f=r._reactName,b=[];a!==null&&a!==l;){var T=a,N=T.alternate,q=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||q===null||(N=q,h?(q=Di(a,f),q!=null&&b.unshift(Cl(a,q,N))):h||(q=Di(a,f),q!=null&&b.push(Cl(a,q,N)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var yw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(yw,`
`).replace(_w,"")}function i_(t,r){return r=s_(r),s_(t)===r}function ku(){}function We(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,a,l);break;case"style":Go(t,l,f);break;case"data":if(r!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ku);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),bs(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bd.get(a)||a,bs(t,a,l))}}function Wf(t,r,a,l,h,f){switch(a){case"style":Go(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[Et]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):bs(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:We(t,r,f,b,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=f=b=h=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":b=$;break;case"checked":N=$;break;case"defaultChecked":q=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:We(t,r,l,$,a,null)}}Ni(t,f,T,N,q,b,h,!1),xa(t);return;case"select":Me("invalid",t),l=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:We(t,r,h,T,a,null)}r=f,a=b,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:We(t,r,b,T,a,null)}Ii(t,l,h,f),xa(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,N,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Me(Il[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:We(t,r,q,l,a,null)}return;default:if(Qo(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Wf(t,r,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,r,T,l,a,null))}function vw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,T=null,N=null,q=null,$=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(F)||We(t,r,F,null,l,J)}}for(var H in l){var F=l[H];if(J=a[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":f=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":$=F;break;case"value":b=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:F!==J&&We(t,r,H,F,l,J)}}vn(t,b,T,N,q,$,f,h);return;case"select":F=b=T=H=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||We(t,r,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==N&&We(t,r,h,f,l,N)}r=T,a=b,l=F,H!=null?kr(t,!!a,H,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,l,h)}for(b in l)if(h=l[b],f=a[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&We(t,r,b,h,l,f)}Xe(t,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,r,Te,null,l,H)}for(N in l)if(H=l[N],F=a[N],l.hasOwnProperty(N)&&H!==F&&(H!=null||F!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,r,N,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&We(t,r,_e,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:We(t,r,q,H,l,F)}return;default:if(Qo(r)){for(var Je in a)H=a[Je],a.hasOwnProperty(Je)&&H!==void 0&&!l.hasOwnProperty(Je)&&Wf(t,r,Je,void 0,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H===void 0&&F===void 0||Wf(t,r,$,H,l,F);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&We(t,r,P,null,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||We(t,r,J,H,l,F)}var Jf=null,em=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function bw(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,Ew=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,Tw=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(xw)}:l_;function xw(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function u_(t,r){var a=r,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Dl(b.documentElement),a&2&&Dl(b.body),a&4)for(a=b.head,Dl(a),b=a.firstChild;b;){var T=b.nextSibling,N=b.nodeName;b[wi]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(h===0){t.removeChild(f),Ll(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ll(r)}function rm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ww(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function Aw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Sw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var im=null;function h_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function d_(t,r,a){switch(r=Vu(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Dl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);vs(t)}var Bn=new Map,f_=new Set;function Pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=le.d;le.d={f:Rw,r:Nw,D:Iw,C:Cw,L:Dw,m:Ow,X:jw,S:Mw,M:kw};function Rw(){var t=es.f(),r=Nu();return t||r}function Nw(t){var r=nr(t);r!==null&&r.tag===5&&r.type==="form"?My(r):es.r(t)}var so=typeof document>"u"?null:document;function m_(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Kt(r,"link",t),yt(r),l.head.appendChild(r)))}}function Iw(t){es.D(t),m_("dns-prefetch",t,null)}function Cw(t,r){es.C(t,r),m_("preconnect",t,r)}function Dw(t,r,a){es.L(t,r,a);var l=so;if(l&&t&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var f=h;switch(r){case"style":f=io(t);break;case"script":f=ao(t)}Bn.has(f)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Bn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ol(f))||r==="script"&&l.querySelector(Ml(f))||(r=l.createElement("link"),Kt(r,"link",t),yt(r),l.head.appendChild(r)))}}function Ow(t,r){es.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ao(t)}if(!Bn.has(f)&&(t=E({rel:"modulepreload",href:t},r),Bn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),Kt(l,"link",t),yt(l),a.head.appendChild(l)}}}function Mw(t,r,a){es.S(t,r,a);var l=so;if(l&&t){var h=sn(l).hoistableStyles,f=io(t);r=r||"default";var b=h.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Ol(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Bn.get(f))&&am(t,a);var N=b=l.createElement("link");yt(N),Kt(N,"link",t),N._p=new Promise(function(q,$){N.onload=q,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uu(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(f,b)}}}function jw(t,r){es.X(t,r);var a=so;if(a&&t){var l=sn(a).hoistableScripts,h=ao(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=E({src:t,async:!0},r),(r=Bn.get(h))&&om(t,r),f=a.createElement("script"),yt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function kw(t,r){es.M(t,r);var a=so;if(a&&t){var l=sn(a).hoistableScripts,h=ao(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=Bn.get(h))&&om(t,r),f=a.createElement("script"),yt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(t,r,a,l){var h=(h=xe.current)?Pu(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=sn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var f=sn(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(Ol(t)))&&!f._p&&(b.instance=f,b.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),f||Vw(h,t,a,b.state))),r&&l===null)throw Error(i(528,""));return b}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(a),a=sn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function io(t){return'href="'+Tt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Vw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),yt(r),t.head.appendChild(r))}function ao(t){return'[src="'+Tt(t)+'"]'}function Ml(t){return"script[async]"+t}function y_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,yt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),Kt(l,"style",h),Uu(l,a.precedence,t),r.instance=l;case"stylesheet":h=io(a.href);var f=t.querySelector(Ol(h));if(f)return r.state.loading|=4,r.instance=f,yt(f),f;l=g_(a),(h=Bn.get(h))&&am(l,h),f=(t.ownerDocument||t).createElement("link"),yt(f);var b=f;return b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),Kt(f,"link",l),r.state.loading|=4,Uu(f,a.precedence,t),r.instance=f;case"script":return f=ao(a.src),(h=t.querySelector(Ml(f)))?(r.instance=h,yt(h),h):(l=a,(h=Bn.get(f))&&(l=E({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),Kt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Uu(l,a.precedence,t));return r.instance}function Uu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===r)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Lu=null;function __(t,r,a){if(Lu===null){var l=new Map,h=Lu=new Map;h.set(a,l)}else h=Lu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[wi]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(r)||"";b=t+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function v_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Pw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function b_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jl=null;function Uw(){}function Lw(t,r,a){if(jl===null)throw Error(i(475));var l=jl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=io(a.href),f=t.querySelector(Ol(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=f,yt(f);return}f=t.ownerDocument||t,a=g_(a),(h=Bn.get(h))&&am(a,h),f=f.createElement("link"),yt(f);var b=f;b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),Kt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function zw(){if(jl===null)throw Error(i(475));var t=jl;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function lm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,r.forEach(Bw,t),Bu=null,zu.call(t))}function Bw(t,r){if(!(r.state.loading&4)){var a=Bu.get(t);if(a)var l=a.get(null);else{a=new Map,Bu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,h),a.set(b,h),this.count++,l=zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var kl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function qw(t,r,a,l,h,f,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function E_(t,r,a,l,h,f,b,T,N,q,$,J){return t=new qw(t,r,a,b,T,N,q,J),r=1,f===!0&&(r|=24),f=En(3,null,null,r),t.current=f,f.stateNode=t,r=qd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Qd(f),t}function T_(t){return t?(t=Pa,t):Pa}function x_(t,r,a,l,h,f){h=T_(h),l.context===null?l.context=h:l.pendingContext=h,l=As(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ss(t,l,r),a!==null&&(Sn(a,t,r),hl(a,t,r))}function w_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function cm(t,r){w_(t,r),(t=t.alternate)&&w_(t,r)}function A_(t){if(t.tag===13){var r=Va(t,67108864);r!==null&&Sn(r,t,67108864),cm(t,67108864)}}var qu=!0;function Hw(t,r,a,l){var h=Y.T;Y.T=null;var f=le.p;try{le.p=2,um(t,r,a,l)}finally{le.p=f,Y.T=h}}function Fw(t,r,a,l){var h=Y.T;Y.T=null;var f=le.p;try{le.p=8,um(t,r,a,l)}finally{le.p=f,Y.T=h}}function um(t,r,a,l){if(qu){var h=hm(l);if(h===null)Zf(t,r,l,Hu,a),R_(t,l);else if(Qw(h,t,r,a,l))l.stopPropagation();else if(R_(t,l),r&4&&-1<Gw.indexOf(t)){for(;h!==null;){var f=nr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Gn(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var N=1<<31-Zt(b);T.entanglements[1]|=N,b&=~N}gr(f),(Ke&6)===0&&(Su=In()+500,Nl(0))}}break;case 13:T=Va(f,2),T!==null&&Sn(T,f,2),Nu(),cm(f,2)}if(f=hm(l),f===null&&Zf(t,r,l,Hu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Zf(t,r,l,null,a)}}function hm(t){return t=On(t),dm(t)}var Hu=null;function dm(t){if(Hu=null,t=Or(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Hu=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(md()){case Mo:return 2;case pa:return 8;case vi:case pd:return 32;case ga:return 268435456;default:return 32}default:return 32}}var fm=!1,Ls=null,zs=null,Bs=null,Vl=new Map,Pl=new Map,qs=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,r){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Ul(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=nr(r),r!==null&&A_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Qw(t,r,a,l,h){switch(r){case"focusin":return Ls=Ul(Ls,t,r,a,l,h),!0;case"dragenter":return zs=Ul(zs,t,r,a,l,h),!0;case"mouseover":return Bs=Ul(Bs,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Vl.set(f,Ul(Vl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,Ul(Pl.get(f)||null,t,r,a,l,h)),!0}return!1}function N_(t){var r=Or(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,Nc(t.priority,function(){if(a.tag===13){var l=An();l=gs(l);var h=Va(a,l);h!==null&&Sn(h,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return r=nr(a),r!==null&&A_(r),t.blockedOn=a,!1;r.shift()}return!0}function I_(t,r,a){Fu(t)&&a.delete(r)}function Kw(){fm=!1,Ls!==null&&Fu(Ls)&&(Ls=null),zs!==null&&Fu(zs)&&(zs=null),Bs!==null&&Fu(Bs)&&(Bs=null),Vl.forEach(I_),Pl.forEach(I_)}function Gu(t,r){t.blockedOn===r&&(t.blockedOn=null,fm||(fm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Kw)))}var Qu=null;function C_(t){Qu!==t&&(Qu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var f=nr(a);f!==null&&(t.splice(r,3),r-=3,df(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ll(t){function r(N){return Gu(N,t)}Ls!==null&&Gu(Ls,t),zs!==null&&Gu(zs,t),Bs!==null&&Gu(Bs,t),Vl.forEach(r),Pl.forEach(r);for(var a=0;a<qs.length;a++){var l=qs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&qs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],b=h[Et]||null;if(typeof f=="function")b||C_(a);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[Et]||null)T=b.formAction;else if(dm(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),C_(a)}}}function mm(t){this._internalRoot=t}Ku.prototype.render=mm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=An();x_(a,l,t,r,null,null)},Ku.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;x_(t.current,2,null,t,null,null),Nu(),r[Cn]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var r=ys();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qs.length&&r!==0&&r<qs[a].priority;a++);qs.splice(a,0,t),a===0&&N_(t)}};var D_=e.version;if(D_!=="19.1.0")throw Error(i(527,D_,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Yw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{ht=Yu.inject(Yw),Qe=Yu}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(i(299));var a=!1,l="",h=Ky,f=Yy,b=$y,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=E_(t,1,!1,null,null,a,l,h,f,b,T,null),t[Cn]=r.current,Xf(t),new mm(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(i(299));var l=!1,h="",f=Ky,b=Yy,T=$y,N=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=E_(t,1,!0,r,a??null,l,h,f,b,T,N,q),r.context=T_(null),a=r.current,l=An(),l=gs(l),h=As(l),h.callback=null,Ss(a,h,l),a=l,r.current.lanes=a,Dr(r,a),gr(r),t[Cn]=r.current,Xf(t),new Ku(r)},Bl.version="19.1.0",Bl}var B_;function s1(){if(B_)return ym.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ym.exports=r1(),ym.exports}var i1=s1();const a1=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},o1=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const o=s[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],d=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let S=(p&15)<<2|_>>6,L=_&63;g||(L=64,d||(S=64)),i.push(n[E],n[A],n[S],n[L])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ib(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):o1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const _=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new l1;const S=c<<2|p>>4;if(i.push(S),_!==64){const L=p<<4&240|_>>2;if(i.push(L),A!==64){const G=_<<6&192|A;i.push(G)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(s){const e=Ib(s);return Cb.encodeByteArray(e,!0)},mh=function(s){return c1(s).replace(/\./g,"")},Db=function(s){try{return Cb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>u1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof q_>"u")return;const s=q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},f1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Db(s[1]);return e&&JSON.parse(e)},Ph=()=>{try{return a1()||h1()||d1()||f1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ob=s=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Mb=s=>{const e=Ob(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},jb=()=>{var s;return(s=Ph())===null||s===void 0?void 0:s.config},kb=s=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function up(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[mh(JSON.stringify(n)),mh(JSON.stringify(d)),""].join(".")}const $l={};function p1(){const s={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?s.emulator.push(e):s.prod.push(e);return s}function g1(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let H_=!1;function hp(s,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||$l[s]===e||$l[s]||H_)return;$l[s]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",c=p1().prod.length>0;function d(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{H_=!0,d()},S}function E(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=g1(i),L=n("text"),G=document.getElementById(L)||document.createElement("span"),W=n("learnmore"),V=document.getElementById(W)||document.createElement("a"),te=n("preprendIcon"),D=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;p(Q),E(V,W);const ne=_();g(D,te),Q.append(D,G,V,ne),document.body.appendChild(Q)}c?(G.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function _1(){var s;const e=(s=Ph())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function E1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T1(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function x1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function A1(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="FirebaseError";class Nr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=S1,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?R1(c,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Nr(o,p,i)}}function R1(s,e){return s.replace(N1,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const N1=/\{\$([^}]+)}/g;function I1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=s[o],d=e[o];if(F_(c)&&F_(d)){if(!ia(c,d))return!1}else if(c!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function F_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Fl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function C1(s,e){const n=new D1(s,e);return n.subscribe.bind(n)}class D1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");O1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O1(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(s){return s&&s._delegate?s._delegate:s}class ni{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new m1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k1(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&d.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j1(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j1(s){return s===Ji?void 0:s}function k1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const P1={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},U1=je.INFO,L1={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},z1=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=L1[e];if(o)console[o](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=U1,this._logHandler=z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const B1=(s,e)=>e.some(n=>s instanceof n);let G_,Q_;function q1(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H1(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Vm=new WeakMap,Ub=new WeakMap,Tm=new WeakMap,fp=new WeakMap;function F1(s){const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Xs(s.result)),o()},d=()=>{i(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,s)}).catch(()=>{}),fp.set(e,s),e}function G1(s){if(Vm.has(s))return;const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Vm.set(s,e)}let Pm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ub.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Q1(s){Pm=s(Pm)}function K1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(xm(this),e,...n);return Ub.set(i,e.sort?e.sort():[e]),Xs(i)}:H1().includes(s)?function(...e){return s.apply(xm(this),e),Xs(Pb.get(this))}:function(...e){return Xs(s.apply(xm(this),e))}}function Y1(s){return typeof s=="function"?K1(s):(s instanceof IDBTransaction&&G1(s),B1(s,q1())?new Proxy(s,Pm):s)}function Xs(s){if(s instanceof IDBRequest)return F1(s);if(Tm.has(s))return Tm.get(s);const e=Y1(s);return e!==s&&(Tm.set(s,e),fp.set(e,s)),e}const xm=s=>fp.get(s);function $1(s,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Xs(d);return i&&d.addEventListener("upgradeneeded",g=>{i(Xs(d.result),g.oldVersion,g.newVersion,Xs(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const X1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],wm=new Map;function K_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Z1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||X1.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return i&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return wm.set(e,c),c}Q1(s=>({...s,get:(e,n,i)=>K_(e,n)||s.get(e,n,i),has:(e,n)=>!!K_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function J1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",Y_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new dp("@firebase/app"),eA="@firebase/app-compat",tA="@firebase/analytics-compat",nA="@firebase/analytics",rA="@firebase/app-check-compat",sA="@firebase/app-check",iA="@firebase/auth",aA="@firebase/auth-compat",oA="@firebase/database",lA="@firebase/data-connect",cA="@firebase/database-compat",uA="@firebase/functions",hA="@firebase/functions-compat",dA="@firebase/installations",fA="@firebase/installations-compat",mA="@firebase/messaging",pA="@firebase/messaging-compat",gA="@firebase/performance",yA="@firebase/performance-compat",_A="@firebase/remote-config",vA="@firebase/remote-config-compat",bA="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",xA="@firebase/ai",wA="@firebase/firestore-compat",AA="firebase",SA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",RA={[Um]:"fire-core",[eA]:"fire-core-compat",[nA]:"fire-analytics",[tA]:"fire-analytics-compat",[sA]:"fire-app-check",[rA]:"fire-app-check-compat",[iA]:"fire-auth",[aA]:"fire-auth-compat",[oA]:"fire-rtdb",[lA]:"fire-data-connect",[cA]:"fire-rtdb-compat",[uA]:"fire-fn",[hA]:"fire-fn-compat",[dA]:"fire-iid",[fA]:"fire-iid-compat",[mA]:"fire-fcm",[pA]:"fire-fcm-compat",[gA]:"fire-perf",[yA]:"fire-perf-compat",[_A]:"fire-rc",[vA]:"fire-rc-compat",[bA]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[wA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,NA=new Map,zm=new Map;function $_(s,e){try{s.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function aa(s){const e=s.name;if(zm.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,s);for(const n of ph.values())$_(n,s);for(const n of NA.values())$_(n,s);return!0}function Uh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function mn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new fc("app","Firebase",IA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=SA;function Lb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lm,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(n||(n=jb()),!n)throw Zs.create("no-options");const c=ph.get(o);if(c){if(ia(n,c.options)&&ia(i,c.config))return c;throw Zs.create("duplicate-app",{appName:o})}const d=new V1(o);for(const g of zm.values())d.addComponent(g);const p=new CA(n,i,d);return ph.set(o,p),p}function mp(s=Lm){const e=ph.get(s);if(!e&&s===Lm&&jb())return Lb();if(!e)throw Zs.create("no-app",{appName:s});return e}function vr(s,e,n){var i;let o=(i=RA[s])!==null&&i!==void 0?i:s;n&&(o+=`-${n}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(p.join(" "));return}aa(new ni(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebase-heartbeat-database",OA=1,nc="firebase-heartbeat-store";let Am=null;function zb(){return Am||(Am=$1(DA,OA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),Am}async function MA(s){try{const n=(await zb()).transaction(nc),i=await n.objectStore(nc).get(Bb(s));return await n.done,i}catch(e){if(e instanceof Nr)as.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function X_(s,e){try{const i=(await zb()).transaction(nc,"readwrite");await i.objectStore(nc).put(e,Bb(s)),await i.done}catch(n){if(n instanceof Nr)as.warn(n.message);else{const i=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(i.message)}}}function Bb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1024,kA=30;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>kA){const d=LA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){as.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:i,unsentEntries:o}=PA(this._heartbeatsCache.heartbeats),c=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return as.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function PA(s,e=jA){const n=[];let i=s.slice();for(const o of s){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),W_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(s){return mh(JSON.stringify({version:2,heartbeats:s})).length}function LA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(s){aa(new ni("platform-logger",e=>new W1(e),"PRIVATE")),aa(new ni("heartbeat",e=>new VA(e),"PRIVATE")),vr(Um,Y_,s),vr(Um,Y_,"esm2017"),vr("fire-js","")}zA("");var BA="firebase",qA="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(BA,qA,"app");function pp(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n}function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HA=qb,Hb=new fc("auth","Firebase",qb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new dp("@firebase/auth");function FA(s,...e){gh.logLevel<=je.WARN&&gh.warn(`Auth (${da}): ${s}`,...e)}function sh(s,...e){gh.logLevel<=je.ERROR&&gh.error(`Auth (${da}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(s,...e){throw yp(s,...e)}function Wn(s,...e){return yp(s,...e)}function gp(s,e,n){const i=Object.assign(Object.assign({},HA()),{[e]:n});return new fc("auth","Firebase",i).create(e,{appName:s.name})}function ss(s){return gp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GA(s,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Fn(s,"argument-error"),gp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return Hb.create(s,...e)}function be(s,e,...n){if(!s)throw yp(e,...n)}function ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw sh(e),new Error(e)}function os(s,e){s||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function QA(){return J_()==="http:"||J_()==="https:"}function J_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QA()||b1()||"connection"in navigator)?navigator.onLine:!0}function YA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=y1()||E1()}get(){return KA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(s,e){os(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZA=new pc(3e4,6e4);function ds(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function fs(s,e,n,i,o={}){return Gb(s,o,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const p=mc(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:g},c);return v1()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&di(s.emulatorConfig.host)&&(_.credentials="include"),Fb.fetch()(await Qb(s,s.config.apiHost,n,p),_)})}async function Gb(s,e,n){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},$A),e);try{const o=new JA(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw $u(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw $u(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw $u(s,"user-disabled",d);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw gp(s,E,_);Fn(s,E)}}catch(o){if(o instanceof Nr)throw o;Fn(s,"network-request-failed",{message:String(o)})}}async function gc(s,e,n,i,o={}){const c=await fs(s,e,n,i,o);return"mfaPendingCredential"in c&&Fn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Qb(s,e,n,i){const o=`${e}${n}?${i}`,c=s,d=c.config.emulator?_p(s.config,o):`${s.config.apiScheme}://${o}`;return XA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function WA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Wn(this.auth,"network-request-failed")),ZA.get())})}}function $u(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Wn(s,e,i);return o.customData._tokenResponse=n,o}function ev(s){return s!==void 0&&s.enterprise!==void 0}class eS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tS(s,e){return fs(s,"GET","/v2/recaptchaConfig",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(s,e){return fs(s,"POST","/v1/accounts:delete",e)}async function yh(s,e){return fs(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rS(s,e=!1){const n=lt(s),i=await n.getIdToken(e),o=vp(i);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Xl(Sm(o.auth_time)),issuedAtTime:Xl(Sm(o.iat)),expirationTime:Xl(Sm(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Sm(s){return Number(s)*1e3}function vp(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Db(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tv(s){const e=vp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Nr&&sS(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function sS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(s){var e;const n=s.auth,i=await s.getIdToken(),o=await rc(s,yh(n,{idToken:i}));be(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?Kb(c.providerUserInfo):[],p=oS(s.providerData,d),g=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(p!=null&&p.length),E=g?_:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new qm(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(s,A)}async function aS(s){const e=lt(s);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oS(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Kb(s){return s.map(e=>{var{providerId:n}=e,i=pp(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(s,e){const n=await Gb(s,{},async()=>{const i=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Qb(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return s.emulatorConfig&&di(s.emulatorConfig.host)&&(g.credentials="include"),Fb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cS(s,e){return fs(s,"POST","/v2/accounts:revokeToken",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=tv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await lS(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,d=new fo;return i&&(be(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,c=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new qm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rS(this,e)}reload(){return aS(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await rc(this,nS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,c,d,p,g,_,E;const A=(i=n.displayName)!==null&&i!==void 0?i:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,L=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,G=(d=n.photoURL)!==null&&d!==void 0?d:void 0,W=(p=n.tenantId)!==null&&p!==void 0?p:void 0,V=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,te=(_=n.createdAt)!==null&&_!==void 0?_:void 0,D=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ne,isAnonymous:oe,providerData:fe,stsTokenManager:M}=n;be(Q&&M,e,"internal-error");const x=fo.fromJSON(this.name,M);be(typeof Q=="string",e,"internal-error"),Fs(A,e.name),Fs(S,e.name),be(typeof ne=="boolean",e,"internal-error"),be(typeof oe=="boolean",e,"internal-error"),Fs(L,e.name),Fs(G,e.name),Fs(W,e.name),Fs(V,e.name),Fs(te,e.name),Fs(D,e.name);const R=new Zn({uid:Q,auth:e,email:S,emailVerified:ne,displayName:A,isAnonymous:oe,photoURL:G,phoneNumber:L,tenantId:W,stsTokenManager:x,createdAt:te,lastLoginAt:D});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(C=>Object.assign({},C))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,n,i=!1){const o=new fo;o.updateFromServerResponse(n);const c=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await _h(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Kb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new fo;p.updateFromIdToken(i);const g=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function rs(s){os(s instanceof Function,"Expected a class definition");let e=nv.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,nv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yb.type="NONE";const rv=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s,e,n){return`firebase:${s}:${e}:${n}`}class mo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,c),this.fullPersistenceKey=ih("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new mo(rs(rv),e,i);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||rs(rv);const d=ih(i,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const S=await yh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Zn._fromGetAccountInfoResponse(e,S,E)}else A=Zn._fromJSON(e,E);_!==c&&(p=A),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new mo(c,e,i):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new mo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eE(e))return"Blackberry";if(tE(e))return"Webos";if(Xb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(Jb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function $b(s=rn()){return/firefox\//i.test(s)}function Xb(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(s=rn()){return/crios\//i.test(s)}function Wb(s=rn()){return/iemobile/i.test(s)}function Jb(s=rn()){return/android/i.test(s)}function eE(s=rn()){return/blackberry/i.test(s)}function tE(s=rn()){return/webos/i.test(s)}function bp(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function uS(s=rn()){var e;return bp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hS(){return T1()&&document.documentMode===10}function nE(s=rn()){return bp(s)||Jb(s)||tE(s)||eE(s)||/windows phone/i.test(s)||Wb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(s,e=[]){let n;switch(s){case"Browser":n=sv(rn());break;case"Worker":n=`${sv(rn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(s,e={}){return fs(s,"GET","/v2/passwordPolicy",ds(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=6;class pS{constructor(e){var n,i,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:mS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,c,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new dS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),i=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===p)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(ss(this));const n=e?lt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fS(this),n=new pS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await cS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ms(s){return lt(s)}class iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=C1(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yS(s){Lh=s}function sE(s){return Lh.loadJS(s)}function _S(){return Lh.recaptchaEnterpriseScript}function vS(){return Lh.gapiScript}function bS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ES{constructor(){this.enterprise=new TS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xS="recaptcha-enterprise",iE="NO_RECAPTCHA";class wS{constructor(e){this.type=xS,this.auth=ms(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{tS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new eS(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;ev(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(iE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ES().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(p=>{if(!n&&ev(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=_S();g.length!==0&&(g+=p),sE(g).then(()=>{o(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function av(s,e,n,i=!1,o=!1){const c=new wS(s);let d;if(o)d=iE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function vh(s,e,n,i,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await av(s,e,n,n==="getOobCode");return i(s,d)}else return i(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await av(s,e,n,n==="getOobCode");return i(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(s,e){const n=Uh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ia(c,e??{}))return o;Fn(o,"already-initialized")}return n.initialize({options:e})}function SS(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(rs);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function RS(s,e,n){const i=ms(s);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=aE(e),{host:d,port:p}=NS(e),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(ia(_,i.config.emulator)&&ia(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,di(d)?(up(`${c}//${d}${g}`),hp("Auth",!0)):IS()}function aE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function NS(s){const e=aE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:ov(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:ov(d)}}}function ov(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function IS(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function CS(s,e){return fs(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(s,e){return gc(s,"POST","/v1/accounts:signInWithPassword",ds(s,e))}async function OS(s,e){return fs(s,"POST","/v1/accounts:sendOobCode",ds(s,e))}async function MS(s,e){return OS(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(s,e){return gc(s,"POST","/v1/accounts:signInWithEmailLink",ds(s,e))}async function kS(s,e){return gc(s,"POST","/v1/accounts:signInWithEmailLink",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Ep{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new sc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,n,"signInWithPassword",DS);case"emailLink":return jS(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,i,"signUpPassword",CS);case"emailLink":return kS(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(s,e){return gc(s,"POST","/v1/accounts:signInWithIdp",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="http://localhost";class oa extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,c=pp(n,["providerId","signInMethod"]);if(!i||!o)return null;const d=new oa(i,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,po(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:VS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function US(s){const e=Hl(Fl(s)).link,n=e?Hl(Fl(e)).deep_link_id:null,i=Hl(Fl(s)).deep_link_id;return(i?Hl(Fl(i)).link:null)||i||n||e||s}class Tp{constructor(e){var n,i,o,c,d,p;const g=Hl(Fl(e)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(i=g.oobCode)!==null&&i!==void 0?i:null,A=PS((o=g.mode)!==null&&o!==void 0?o:null);be(_&&E&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=E,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=g.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=US(e);try{return new Tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Tp.parseLink(n);return be(i,"argument-error"),sc._fromEmailAndCode(e,i.code,i.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends yc{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ts.credential(n,i)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends yc{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends yc{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ks.credential(n,i)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(s,e){return gc(s,"POST","/v1/accounts:signUp",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await Zn._fromIdTokenResponse(e,i,o),d=lv(i);return new la({user:c,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=lv(i);return new la({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function lv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Nr{constructor(e,n,i,o){var c;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new bh(e,n,i,o)}}function oE(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(s,c,e,i):c})}async function zS(s,e,n=!1){const i=await rc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return la._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(s,e,n=!1){const{auth:i}=s;if(mn(i.app))return Promise.reject(ss(i));const o="reauthenticate";try{const c=await rc(s,oE(i,o,e,s),n);be(c.idToken,i,"internal-error");const d=vp(c.idToken);be(d,i,"internal-error");const{sub:p}=d;return be(s.uid===p,i,"user-mismatch"),la._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Fn(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(s,e,n=!1){if(mn(s.app))return Promise.reject(ss(s));const i="signIn",o=await oE(s,i,e),c=await la._fromIdTokenResponse(s,i,o);return n||await s._updateCurrentUser(c.user),c}async function qS(s,e){return lE(ms(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(s){const e=ms(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HS(s,e,n){const i=ms(s);await vh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",MS)}async function FS(s,e,n){if(mn(s.app))return Promise.reject(ss(s));const i=ms(s),d=await vh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LS).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&cE(s),g}),p=await la._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function GS(s,e,n){return mn(s.app)?Promise.reject(ss(s)):qS(lt(s),wo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cE(s),i})}function QS(s,e,n,i){return lt(s).onIdTokenChanged(e,n,i)}function KS(s,e,n){return lt(s).beforeAuthStateChanged(e,n)}function YS(s,e,n,i){return lt(s).onAuthStateChanged(e,n,i)}function $S(s){return lt(s).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1e3,ZS=10;class hE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);hS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZS):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},XS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hE.type="LOCAL";const WS=hE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dE.type="SESSION";const fE=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async _=>_(n.origin,c)),g=await JS(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=wp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function t2(s){br().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function n2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function s2(){return mE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="firebaseLocalStorageDb",i2=1,Th="firebaseLocalStorage",gE="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(s,e){return s.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function a2(){const s=indexedDB.deleteDatabase(pE);return new _c(s).toPromise()}function Hm(){const s=indexedDB.open(pE,i2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Th,{keyPath:gE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Th)?e(i):(i.close(),await a2(),e(await Hm()))})})}async function cv(s,e,n){const i=Bh(s,!0).put({[gE]:e,value:n});return new _c(i).toPromise()}async function o2(s,e){const n=Bh(s,!1).get(e),i=await new _c(n).toPromise();return i===void 0?null:i.value}function uv(s,e){const n=Bh(s,!0).delete(e);return new _c(n).toPromise()}const l2=800,c2=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>c2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(s2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await n2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await cv(e,Eh,"1"),await uv(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>o2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Bh(o,!1).getAll();return new _c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const u2=yE;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(s,e){return e?rs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h2(s){return lE(s.auth,new Ap(s),s.bypassAuthState)}function d2(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),BS(n,new Ap(s),s.bypassAuthState)}async function f2(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),zS(n,new Ap(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h2;case"linkViaPopup":case"linkViaRedirect":return f2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:Fn(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new pc(2e3,1e4);async function p2(s,e,n){if(mn(s.app))return Promise.reject(Wn(s,"operation-not-supported-in-this-environment"));const i=ms(s);GA(s,e,xp);const o=_E(i,n);return new ea(i,"signInViaPopup",e,o).executeNotNull()}class ea extends vE{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m2.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="pendingRedirect",ah=new Map;class y2 extends vE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const i=await _2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(s,e){const n=E2(e),i=b2(s);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function v2(s,e){ah.set(s._key(),e)}function b2(s){return rs(s._redirectPersistence)}function E2(s){return ih(g2,s.config.apiKey,s.name)}async function T2(s,e,n=!1){if(mn(s.app))return Promise.reject(ss(s));const i=ms(s),o=_E(i,e),d=await new y2(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=10*60*1e3;class w2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!bE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(e))}saveEventToCache(e){this.cachedEventUids.add(hv(e)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function bE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(s,e={}){return fs(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;async function I2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await S2(s);for(const n of e)try{if(C2(n))return}catch{}Fn(s,"unauthorized-domain")}function C2(s){const e=Bm(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!N2.test(n))return!1;if(R2.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new pc(3e4,6e4);function dv(){const s=br().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function O2(s){return new Promise((e,n)=>{var i,o,c;function d(){dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dv(),n(Wn(s,"network-request-failed"))},timeout:D2.get()})}if(!((o=(i=br().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=br().gapi)===null||c===void 0)&&c.load)d();else{const p=bS("iframefcb");return br()[p]=()=>{gapi.load?d():n(Wn(s,"network-request-failed"))},sE(`${vS()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw oh=null,e})}let oh=null;function M2(s){return oh=oh||O2(s),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new pc(5e3,15e3),k2="__/auth/iframe",V2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?_p(e,V2):`https://${s.config.authDomain}/${k2}`,i={apiKey:e.apiKey,appName:s.name,v:da},o=U2.get(s.config.apiHost);o&&(i.eid=o);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${mc(i).slice(1)}`}async function z2(s){const e=await M2(s),n=br().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:L2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const d=Wn(s,"network-request-failed"),p=br().setTimeout(()=>{c(d)},j2.get());function g(){br().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q2=500,H2=600,F2="_blank",G2="http://localhost";class fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q2(s,e,n,i=q2,o=H2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g=Object.assign(Object.assign({},B2),{width:i.toString(),height:o.toString(),top:c,left:d}),_=rn().toLowerCase();n&&(p=Zb(_)?F2:n),$b(_)&&(e=e||G2,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[L,G])=>`${S}${L}=${G},`,"");if(uS(_)&&p!=="_self")return K2(e||"",p),new fv(null);const A=window.open(e||"",p,E);be(A,s,"popup-blocked");try{A.focus()}catch{}return new fv(A)}function K2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="__/auth/handler",$2="emulator/auth/handler",X2=encodeURIComponent("fac");async function mv(s,e,n,i,o,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:da,eventId:o};if(e instanceof xp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",I1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof yc){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),_=g?`#${X2}=${encodeURIComponent(g)}`:"";return`${Z2(s)}?${mc(p).slice(1)}${_}`}function Z2({config:s}){return s.emulator?_p(s,$2):`https://${s.authDomain}/${Y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=T2,this._overrideRedirectResult=v2}async _openPopup(e,n,i,o){var c;os((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await mv(e,n,i,Bm(),o);return Q2(e,d,wp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await mv(e,n,i,Bm(),o);return t2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await z2(e),i=new w2(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Rm];d!==void 0&&n(!!d),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nE()||Xb()||bp()}}const J2=W2;var pv="@firebase/auth",gv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nR(s){aa(new ni("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(s)},_=new gS(i,o,c,g);return SS(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),aa(new ni("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(i=>new eR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(pv,gv,tR(s)),vr(pv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=5*60,sR=kb("authIdTokenMaxAge")||rR;let yv=null;const iR=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>sR)return;const o=n==null?void 0:n.token;yv!==o&&(yv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aR(s=mp()){const e=Uh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=AS(s,{popupRedirectResolver:J2,persistence:[u2,WS,fE]}),i=kb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=iR(c.toString());KS(n,d,()=>d(n.currentUser)),QS(n,p=>d(p))}}const o=Ob("auth");return o&&RS(n,`http://${o}`),n}function oR(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}yS({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const c=Wn("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",oR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nR("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,EE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function R(){}R.prototype=x.prototype,M.D=x.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(C,k,U){for(var I=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)I[qt-2]=arguments[qt];return x.prototype[k].apply(C,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,R){R||(R=0);var C=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)C[k]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(k=0;16>k;++k)C[k]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=M.g[0],R=M.g[1],k=M.g[2];var U=M.g[3],I=x+(U^R&(k^U))+C[0]+3614090360&4294967295;x=R+(I<<7&4294967295|I>>>25),I=U+(k^x&(R^k))+C[1]+3905402710&4294967295,U=x+(I<<12&4294967295|I>>>20),I=k+(R^U&(x^R))+C[2]+606105819&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(x^k&(U^x))+C[3]+3250441966&4294967295,R=k+(I<<22&4294967295|I>>>10),I=x+(U^R&(k^U))+C[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=U+(k^x&(R^k))+C[5]+1200080426&4294967295,U=x+(I<<12&4294967295|I>>>20),I=k+(R^U&(x^R))+C[6]+2821735955&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(x^k&(U^x))+C[7]+4249261313&4294967295,R=k+(I<<22&4294967295|I>>>10),I=x+(U^R&(k^U))+C[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=U+(k^x&(R^k))+C[9]+2336552879&4294967295,U=x+(I<<12&4294967295|I>>>20),I=k+(R^U&(x^R))+C[10]+4294925233&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(x^k&(U^x))+C[11]+2304563134&4294967295,R=k+(I<<22&4294967295|I>>>10),I=x+(U^R&(k^U))+C[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=U+(k^x&(R^k))+C[13]+4254626195&4294967295,U=x+(I<<12&4294967295|I>>>20),I=k+(R^U&(x^R))+C[14]+2792965006&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(x^k&(U^x))+C[15]+1236535329&4294967295,R=k+(I<<22&4294967295|I>>>10),I=x+(k^U&(R^k))+C[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(x^R))+C[6]+3225465664&4294967295,U=x+(I<<9&4294967295|I>>>23),I=k+(x^R&(U^x))+C[11]+643717713&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^x&(k^U))+C[0]+3921069994&4294967295,R=k+(I<<20&4294967295|I>>>12),I=x+(k^U&(R^k))+C[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(x^R))+C[10]+38016083&4294967295,U=x+(I<<9&4294967295|I>>>23),I=k+(x^R&(U^x))+C[15]+3634488961&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^x&(k^U))+C[4]+3889429448&4294967295,R=k+(I<<20&4294967295|I>>>12),I=x+(k^U&(R^k))+C[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(x^R))+C[14]+3275163606&4294967295,U=x+(I<<9&4294967295|I>>>23),I=k+(x^R&(U^x))+C[3]+4107603335&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^x&(k^U))+C[8]+1163531501&4294967295,R=k+(I<<20&4294967295|I>>>12),I=x+(k^U&(R^k))+C[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(x^R))+C[2]+4243563512&4294967295,U=x+(I<<9&4294967295|I>>>23),I=k+(x^R&(U^x))+C[7]+1735328473&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^x&(k^U))+C[12]+2368359562&4294967295,R=k+(I<<20&4294967295|I>>>12),I=x+(R^k^U)+C[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=U+(x^R^k)+C[8]+2272392833&4294967295,U=x+(I<<11&4294967295|I>>>21),I=k+(U^x^R)+C[11]+1839030562&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^x)+C[14]+4259657740&4294967295,R=k+(I<<23&4294967295|I>>>9),I=x+(R^k^U)+C[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=U+(x^R^k)+C[4]+1272893353&4294967295,U=x+(I<<11&4294967295|I>>>21),I=k+(U^x^R)+C[7]+4139469664&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^x)+C[10]+3200236656&4294967295,R=k+(I<<23&4294967295|I>>>9),I=x+(R^k^U)+C[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=U+(x^R^k)+C[0]+3936430074&4294967295,U=x+(I<<11&4294967295|I>>>21),I=k+(U^x^R)+C[3]+3572445317&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^x)+C[6]+76029189&4294967295,R=k+(I<<23&4294967295|I>>>9),I=x+(R^k^U)+C[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=U+(x^R^k)+C[12]+3873151461&4294967295,U=x+(I<<11&4294967295|I>>>21),I=k+(U^x^R)+C[15]+530742520&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^x)+C[2]+3299628645&4294967295,R=k+(I<<23&4294967295|I>>>9),I=x+(k^(R|~U))+C[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=U+(R^(x|~k))+C[7]+1126891415&4294967295,U=x+(I<<10&4294967295|I>>>22),I=k+(x^(U|~R))+C[14]+2878612391&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~x))+C[5]+4237533241&4294967295,R=k+(I<<21&4294967295|I>>>11),I=x+(k^(R|~U))+C[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=U+(R^(x|~k))+C[3]+2399980690&4294967295,U=x+(I<<10&4294967295|I>>>22),I=k+(x^(U|~R))+C[10]+4293915773&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~x))+C[1]+2240044497&4294967295,R=k+(I<<21&4294967295|I>>>11),I=x+(k^(R|~U))+C[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=U+(R^(x|~k))+C[15]+4264355552&4294967295,U=x+(I<<10&4294967295|I>>>22),I=k+(x^(U|~R))+C[6]+2734768916&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~x))+C[13]+1309151649&4294967295,R=k+(I<<21&4294967295|I>>>11),I=x+(k^(R|~U))+C[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=U+(R^(x|~k))+C[11]+3174756917&4294967295,U=x+(I<<10&4294967295|I>>>22),I=k+(x^(U|~R))+C[2]+718787259&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~x))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var R=x-this.blockSize,C=this.B,k=this.h,U=0;U<x;){if(k==0)for(;U<=R;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<x;)if(C[k++]=M.charCodeAt(U++),k==this.blockSize){o(this,C),k=0;break}}else for(;U<x;)if(C[k++]=M[U++],k==this.blockSize){o(this,C),k=0;break}}this.h=k,this.o+=x},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var R=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=R&255,R/=256;for(this.u(M),M=Array(16),x=R=0;4>x;++x)for(var C=0;32>C;C+=8)M[R++]=this.g[x]>>>C&255;return M};function c(M,x){var R=p;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=x(M)}function d(M,x){this.h=x;for(var R=[],C=!0,k=M.length-1;0<=k;k--){var U=M[k]|0;C&&U==x||(R[k]=U,C=!1)}this.g=R}var p={};function g(M){return-128<=M&&128>M?c(M,function(x){return new d([x|0],0>x?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return V(_(-M));for(var x=[],R=1,C=0;M>=R;C++)x[C]=M/R|0,R*=4294967296;return new d(x,0)}function E(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return V(E(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(x,8)),C=A,k=0;k<M.length;k+=8){var U=Math.min(8,M.length-k),I=parseInt(M.substring(k,k+U),x);8>U?(U=_(Math.pow(x,U)),C=C.j(U).add(_(I))):(C=C.j(R),C=C.add(_(I)))}return C}var A=g(0),S=g(1),L=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-V(this).m();for(var M=0,x=1,R=0;R<this.g.length;R++){var C=this.i(R);M+=(0<=C?C:4294967296+C)*x,x*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(G(this))return"0";if(W(this))return"-"+V(this).toString(M);for(var x=_(Math.pow(M,6)),R=this,C="";;){var k=ne(R,x).g;R=te(R,k.j(x));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=k,G(R))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function G(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function W(M){return M.h==-1}s.l=function(M){return M=te(this,M),W(M)?-1:G(M)?0:1};function V(M){for(var x=M.g.length,R=[],C=0;C<x;C++)R[C]=~M.g[C];return new d(R,~M.h).add(S)}s.abs=function(){return W(this)?V(this):this},s.add=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],C=0,k=0;k<=x;k++){var U=C+(this.i(k)&65535)+(M.i(k)&65535),I=(U>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);C=I>>>16,U&=65535,I&=65535,R[k]=I<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function te(M,x){return M.add(V(x))}s.j=function(M){if(G(this)||G(M))return A;if(W(this))return W(M)?V(this).j(V(M)):V(V(this).j(M));if(W(M))return V(this.j(V(M)));if(0>this.l(L)&&0>M.l(L))return _(this.m()*M.m());for(var x=this.g.length+M.g.length,R=[],C=0;C<2*x;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<M.g.length;k++){var U=this.i(C)>>>16,I=this.i(C)&65535,qt=M.i(k)>>>16,ut=M.i(k)&65535;R[2*C+2*k]+=I*ut,D(R,2*C+2*k),R[2*C+2*k+1]+=U*ut,D(R,2*C+2*k+1),R[2*C+2*k+1]+=I*qt,D(R,2*C+2*k+1),R[2*C+2*k+2]+=U*qt,D(R,2*C+2*k+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new d(R,0)};function D(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function Q(M,x){this.g=M,this.h=x}function ne(M,x){if(G(x))throw Error("division by zero");if(G(M))return new Q(A,A);if(W(M))return x=ne(V(M),x),new Q(V(x.g),V(x.h));if(W(x))return x=ne(M,V(x)),new Q(V(x.g),x.h);if(30<M.g.length){if(W(M)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,C=x;0>=C.l(M);)R=oe(R),C=oe(C);var k=fe(R,1),U=fe(C,1);for(C=fe(C,2),R=fe(R,2);!G(C);){var I=U.add(C);0>=I.l(M)&&(k=k.add(R),U=I),C=fe(C,1),R=fe(R,1)}return x=te(M,k.j(x)),new Q(k,x)}for(k=A;0<=M.l(x);){for(R=Math.max(1,Math.floor(M.m()/x.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=_(R),I=U.j(x);W(I)||0<I.l(M);)R-=C,U=_(R),I=U.j(x);G(U)&&(U=S),k=k.add(U),M=te(M,I)}return new Q(k,M)}s.A=function(M){return ne(this,M).h},s.and=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],C=0;C<x;C++)R[C]=this.i(C)&M.i(C);return new d(R,this.h&M.h)},s.or=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],C=0;C<x;C++)R[C]=this.i(C)|M.i(C);return new d(R,this.h|M.h)},s.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],C=0;C<x;C++)R[C]=this.i(C)^M.i(C);return new d(R,this.h^M.h)};function oe(M){for(var x=M.g.length+1,R=[],C=0;C<x;C++)R[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(R,M.h)}function fe(M,x){var R=x>>5;x%=32;for(var C=M.g.length-R,k=[],U=0;U<C;U++)k[U]=0<x?M.i(U+R)>>>x|M.i(U+R+1)<<32-x:M.i(U+R);return new d(k,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,EE=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Ws=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TE,Gl,xE,lh,Fm,wE,AE,SE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,v){return u==Array.prototype||u==Object.prototype||(u[y]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var y=0;y<u.length;++y){var v=u[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function o(u,y){if(y)e:{var v=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var z=u[w];if(!(z in v))break e;v=v[z]}u=u[u.length-1],w=v[u],y=y(w),y!=w&&y!=null&&e(v,u,{configurable:!0,writable:!0,value:y})}}function c(u,y){u instanceof String&&(u+="");var v=0,w=!1,z={next:function(){if(!w&&v<u.length){var K=v++;return{value:y(K,u[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function _(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,v){return u.call.apply(u.bind,arguments)}function A(u,y,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),u.apply(y,z)}}return function(){return u.apply(y,arguments)}}function S(u,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function L(u,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function G(u,y){function v(){}v.prototype=y.prototype,u.aa=y.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(w,z,K){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return y.prototype[z].apply(w,ie)}}function W(u){const y=u.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=u[w];return v}return[]}function V(u,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const z=u.length||0,K=w.length||0;u.length=z+K;for(let ie=0;ie<K;ie++)u[z+ie]=w[ie]}else u.push(w)}}class te{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var oe=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(u,y,v){for(const w in u)y.call(v,u[w],w,u)}function M(u,y){for(const v in u)y.call(void 0,u[v],v,u)}function x(u){const y={};for(const v in u)y[v]=u[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)u[v]=w[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function k(u){var y=1;u=u.split(":");const v=[];for(;0<y&&u.length;)v.push(u.shift()),y--;return u.length&&v.push(u.join(":")),v}function U(u){p.setTimeout(()=>{throw u},0)}function I(){var u=qe;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class qt{constructor(){this.h=this.g=null}add(y,v){const w=ut.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ut=new te(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,qe=new qt,O=()=>{const u=p.Promise.resolve(void 0);le=()=>{u.then(re)}};var re=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(v){U(v)}var y=ut;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}pe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,y),p.removeEventListener("test",v,y)}catch{}return u}();function Ce(u,y){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(oe){e:{try{ne(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=u.fromElement:v=="mouseout"&&(y=u.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}G(Ce,se);var xe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function er(u,y,v,w,z){this.listener=u,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++tt,this.da=this.fa=!1}function ps(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,y,v,w,z){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=yi(u,y,w,z);return-1<ie?(y=u[ie],v||(y.fa=!1)):(y=new er(y,this.src,K,!!w,z),y.fa=v,u.push(y)),y};function gi(u,y){var v=y.type;if(v in u.g){var w=u.g[v],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(ps(y),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yi(u,y,v,w){for(var z=0;z<u.length;++z){var K=u[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return z}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),Oo={};function Ac(u,y,v,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Ac(u,y[K],v,w,z);return null}return v=Sc(v),u&&u[jt]?u.K(y,v,_(w)?!!w.capture:!1,z):In(u,y,v,!1,w,z)}function In(u,y,v,w,z,K){if(!y)throw Error("Invalid event type");var ie=_(z)?!!z.capture:!!z,Ve=ga(u);if(Ve||(u[_i]=Ve=new Ir(u)),v=Ve.add(y,v,w,ie,K),v.proxy)return v;if(w=md(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)ye||(z=ie),z===void 0&&(z=!1),u.addEventListener(y.toString(),w,z);else if(u.attachEvent)u.attachEvent(vi(y.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function md(){function u(v){return y.call(u.src,u.listener,v)}const y=pd;return u}function Mo(u,y,v,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Mo(u,y[K],v,w,z);else w=_(w)?!!w.capture:!!w,v=Sc(v),u&&u[jt]?(u=u.i,y=String(y).toString(),y in u.g&&(K=u.g[y],v=yi(K,v,w,z),-1<v&&(ps(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[y],u.h--)))):u&&(u=ga(u))&&(y=u.g[y.toString()],u=-1,y&&(u=yi(y,v,w,z)),(v=-1<u?y[u]:null)&&pa(v))}function pa(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[jt])gi(y.i,u);else{var v=u.type,w=u.proxy;y.removeEventListener?y.removeEventListener(v,w,u.capture):y.detachEvent?y.detachEvent(vi(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=ga(y))?(gi(v,u),v.h==0&&(v.src=null,y[_i]=null)):ps(u)}}}function vi(u){return u in Oo?Oo[u]:Oo[u]="on"+u}function pd(u,y){if(u.da)u=!0;else{y=new Ce(y,this);var v=u.listener,w=u.ha||u.src;u.fa&&pa(u),u=v.call(w,y)}return u}function ga(u){return u=u[_i],u instanceof Ir?u:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sc(u){return typeof u=="function"?u:(u[jo]||(u[jo]=function(y){return u.handleEvent(y)}),u[jo])}function ht(){ce.call(this),this.i=new Ir(this),this.M=this,this.F=null}G(ht,ce),ht.prototype[jt]=!0,ht.prototype.removeEventListener=function(u,y,v,w){Mo(this,u,y,v,w)};function Qe(u,y){var v,w=u.F;if(w)for(v=[];w;w=w.F)v.push(w);if(u=u.M,w=y.type||y,typeof y=="string")y=new se(y,u);else if(y instanceof se)y.target=y.target||u;else{var z=y;y=new se(w,u),C(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ie=y.g=v[K];z=_n(ie,w,!0,y)&&z}if(ie=y.g=u,z=_n(ie,w,!0,y)&&z,z=_n(ie,w,!1,y)&&z,v)for(K=0;K<v.length;K++)ie=y.g=v[K],z=_n(ie,w,!1,y)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var v=u.g[y],w=0;w<v.length;w++)ps(v[w]);delete u.g[y],u.h--}}this.F=null},ht.prototype.K=function(u,y,v,w){return this.i.add(String(u),y,!1,v,w)},ht.prototype.L=function(u,y,v,w){return this.i.add(String(u),y,!0,v,w)};function _n(u,y,v,w){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ie=y[K];if(ie&&!ie.da&&ie.capture==v){var Ve=ie.listener,It=ie.ha||ie.src;ie.fa&&gi(u.i,ie),z=Ve.call(It,w)!==!1&&z}}return z&&!w.defaultPrevented}function Zt(u,y,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(u,y||0)}function Rc(u){u.g=Zt(()=>{u.g=null,u.i&&(u.i=!1,Rc(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class gd extends ce{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(u){ce.call(this),this.h=u,this.g={}}G(bi,ce);var Ei=[];function Ti(u){fe(u.g,function(y,v){this.g.hasOwnProperty(v)&&pa(y)},u),u.g={}}bi.prototype.N=function(){bi.aa.N.call(this),Ti(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=p.JSON.stringify,ya=p.JSON.parse,xi=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ko(){}ko.prototype.h=null;function Vo(u){return u.h||(u.h=u.i())}function Po(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){se.call(this,"d")}G(Dr,se);function Uo(){se.call(this,"c")}G(Uo,se);var tr={},Lo=null;function gs(){return Lo=Lo||new ht}tr.La="serverreachability";function _a(u){se.call(this,tr.La,u)}G(_a,se);function ys(u){const y=gs();Qe(y,new _a(y))}tr.STAT_EVENT="statevent";function Nc(u,y){se.call(this,tr.STAT_EVENT,u),this.stat=y}G(Nc,se);function it(u){const y=gs();Qe(y,new Nc(y,u))}tr.Ma="timingevent";function Nt(u,y){se.call(this,tr.Ma,u),this.size=y}G(Nt,se);function Et(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function zo(u,y,v,w,z,K){u.info(function(){if(u.g)if(K)for(var ie="",Ve=K.split("&"),It=0;It<Ve.length;It++){var Pe=Ve[It].split("=");if(1<Pe.length){var Vt=Pe[0];Pe=Pe[1];var Ct=Vt.split("_");ie=2<=Ct.length&&Ct[1]=="type"?ie+(Vt+"="+Pe+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ie})}function yd(u,y,v,w,z,K,ie){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ie})}function _s(u,y,v,w){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+wi(u,v)+(w?" "+w:"")})}function Ic(u,y){u.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function wi(u,y){if(!u.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var w=v[u];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Gn(v)}catch{return y}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function rr(){}G(rr,ko),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},nr=new rr;function sn(u,y,v,w){this.j=u,this.i=y,this.l=v,this.R=w||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var Bo={},va={};function Qn(u,y,v){u.L=1,u.v=Ii(vn(y)),u.m=v,u.P=!0,Mr(u,null)}function Mr(u,y){u.F=Date.now(),Ai(u),u.A=vn(u.v);var v=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Ko(v.i,"t",w),u.C=0,v=u.j.J,u.h=new yt,u.g=Gc(u.j,v?y:null,!u.m),0<u.O&&(u.M=new gd(S(u.Y,u,u.g),u.O)),y=u.U,v=u.g,w=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ei[0]=z.toString()),z=Ei);for(var K=0;K<z.length;K++){var ie=Ac(v,z[K],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),ys(),zo(u.i,u.u,u.A,u.l,u.R,u.m)}sn.prototype.ca=function(u){u=u.target;const y=this.M;y&&jn(u)==3?y.j():this.Y(u)},sn.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=jn(this.g);var y=this.g.Ba();const Br=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Pc(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Br?ys(3):ys(2)),bs(this);var v=this.g.Z();this.X=v;t:if(Cc(this)){var w=Pc(this.g);u="";var z=w.length,K=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),sr(this);var ie="";break t}this.h.i=new p.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,u+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,yd(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,It=this.g;if((Ve=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ve)){var Pe=Ve;break t}}Pe=null}if(v=Pe)_s(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,v);else{this.o=!1,this.s=3,it(12),Ht(this),sr(this);break e}}if(this.P){v=!0;let Ft;for(;!this.J&&this.C<ie.length;)if(Ft=Dc(this,ie),Ft==va){Ct==4&&(this.s=4,it(14),v=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Bo){this.s=4,it(15),_s(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else _s(this.i,this.l,Ft,null),Si(this,Ft);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ie.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)_s(this.i,this.l,ie,"[Invalid Chunked Response]"),Ht(this),sr(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Pi(Vt),Vt.M=!0,it(11))}}else _s(this.i,this.l,ie,null),Si(this,ie);Ct==4&&Ht(this),this.o&&!this.J&&(Ct==4?qc(this.j,this):(this.o=!1,Ai(this)))}else Td(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ht(this),sr(this)}}}catch{}finally{}};function Cc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Dc(u,y){var v=u.C,w=y.indexOf(`
`,v);return w==-1?va:(v=Number(y.substring(v,w)),isNaN(v)?Bo:(w+=1,w+v>y.length?va:(y=y.slice(w,w+v),u.C=w+v,y)))}sn.prototype.cancel=function(){this.J=!0,Ht(this)};function Ai(u){u.S=Date.now()+u.I,Oc(u,u.I)}function Oc(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Et(S(u.ba,u),y)}function bs(u){u.B&&(p.clearTimeout(u.B),u.B=null)}sn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ic(this.i,this.A),this.L!=2&&(ys(),it(17)),Ht(this),this.s=2,sr(this)):Oc(this,this.S-u)};function sr(u){u.j.G==0||u.J||qc(u.j,u)}function Ht(u){bs(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Ti(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Si(u,y){try{var v=u.j;if(v.G!=0&&(v.g==u||qo(v.h,u))){if(!u.K&&qo(v.h,u)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Da(v),Ia(v);else break e;Wo(v),it(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(S(v.Za,v),6e3));if(1>=Ea(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else zr(v,11)}else if((u.K||v.g==u)&&Da(v),!D(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Pe=z[y];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Vt=Pe[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Pe[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Br=Pe[5];Br!=null&&typeof Br=="number"&&0<Br&&(w=1.5*Br,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ft=u.g;if(Ft){const hr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var K=w.h;K.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ta(K,K.h),K.h=null))}if(w.D){const el=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(w.ya=el,Xe(w.I,w.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ie=u;if(w.qa=Fc(w,w.J?w.ia:null,w.W),ie.K){an(w.h,ie);var Ve=ie,It=w.L;It&&(Ve.I=It),Ve.B&&(bs(Ve),Ai(Ve)),w.g=ie}else zc(w);0<v.i.length&&Ca(v)}else Pe[0]!="stop"&&Pe[0]!="close"||zr(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?zr(v,7):Xo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}ys(4)}catch{}}var Mc=class{constructor(u,y){this.g=u,this.map=y}};function jr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ea(u){return u.h?1:u.g?u.g.size:0}function qo(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ta(u,y){u.g?u.g.add(y):u.h=y}function an(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}jr.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ho(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const v of u.g.values())y=y.concat(v.D);return y}return W(u.i)}function _d(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var y=[],v=u.length,w=0;w<v;w++)y.push(u[w]);return y}y=[],v=0;for(w in u)y[v++]=u[w];return y}function xa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var y=[];u=u.length;for(var v=0;v<u;v++)y.push(v);return y}y=[],v=0;for(const w in u)y[v++]=w;return y}}}function Fo(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var v=xa(u),w=_d(u),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],v&&v[K],u)}var Ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(u,y){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),z=null;if(0<=w){var K=u[v].substring(0,w);z=u[v].substring(w+1)}else K=u[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Tt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Tt){this.h=u.h,Ni(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.s),this.l=u.l;var y=u.i,v=new Vr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),kr(this,v),this.m=u.m}else u&&(y=String(u).match(Ri))?(this.h=!1,Ni(this,y[1]||"",!0),this.o=Dn(y[2]||""),this.g=Dn(y[3]||"",!0),Es(this,y[4]),this.l=Dn(y[5]||"",!0),kr(this,y[6]||"",!0),this.m=Dn(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Tt.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Ci(y,Go,!0),":");var v=this.g;return(v||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Ci(y,Go,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ci(v,v.charAt(0)=="/"?bd:Qo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ci(v,wa)),u.join("")};function vn(u){return new Tt(u)}function Ni(u,y,v){u.j=v?Dn(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function kr(u,y,v){y instanceof Vr?(u.i=y,kc(u.i,u.h)):(v||(y=Ci(y,Ed)),u.i=new Vr(y,u.h))}function Xe(u,y,v){u.i.set(y,v)}function Ii(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Dn(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ci(u,y,v){return typeof u=="string"?(u=encodeURI(u).replace(y,jc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Go=/[#\/\?@]/g,Qo=/[#\?:]/g,bd=/[#\?]/g,Ed=/[#\?@]/g,wa=/#/g;function Vr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&vd(u.i,function(y,v){u.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=Vr.prototype,s.add=function(u,y){On(this),this.i=null,u=ir(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(y),this.h+=1,this};function Pr(u,y){On(u),y=ir(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ur(u,y){return On(u),y=ir(u,y),u.g.has(y)}s.forEach=function(u,y){On(this),this.g.forEach(function(v,w){v.forEach(function(z){u.call(y,z,w,this)},this)},this)},s.na=function(){On(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=u[w];for(let K=0;K<z.length;K++)v.push(y[w])}return v},s.V=function(u){On(this);let y=[];if(typeof u=="string")Ur(this,u)&&(y=y.concat(this.g.get(ir(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)y=y.concat(u[v])}return y},s.set=function(u,y){return On(this),this.i=null,u=ir(this,u),Ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},s.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function Ko(u,y,v){Pr(u,y),0<v.length&&(u.i=null,u.g.set(ir(u,y),W(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var z=K;ie[w]!==""&&(z+="="+encodeURIComponent(String(ie[w]))),u.push(z)}}return this.i=u.join("&")};function ir(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function kc(u,y){y&&!u.j&&(On(u),u.i=null,u.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(Pr(this,w),Ko(this,z,v))},u)),u.j=y}function Di(u,y){const v=new Cn;if(p.Image){const w=new Image;w.onload=L(Mn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=L(Mn,v,"TestLoadImage: error",!1,y,w),w.onabort=L(Mn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=L(Mn,v,"TestLoadImage: timeout",!1,y,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else y(!1)}function Kn(u,y){const v=new Cn,w=new AbortController,z=setTimeout(()=>{w.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Mn(v,"TestPingServer: error",!1,y)})}function Mn(u,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Oi(){this.g=new xi}function ar(u,y,v){const w=v||"";try{Fo(u,function(z,K){let ie=z;_(z)&&(ie=Gn(z)),y.push(w+K+"="+encodeURIComponent(ie))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function Ts(u){this.l=u.Ub||null,this.j=u.eb||!1}G(Ts,ko),Ts.prototype.g=function(){return new Lr(this.l,this.j)},Ts.prototype.i=function(u){return function(){return u}}({});function Lr(u,y){ht.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Lr,ht),s=Lr.prototype,s.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,lr(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?or(this):lr(this),this.readyState==3&&Yo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,or(this))},s.Qa=function(u){this.g&&(this.response=u,or(this))},s.ga=function(){this.g&&or(this)};function or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,lr(u)}s.setRequestHeader=function(u,y){this.u.append(u,y)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=y.next();return u.join(`\r
`)};function lr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $o(u){let y="";return fe(u,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function kt(u,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=$o(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Xe(u,y,v))}function Fe(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Fe,ht);var Aa=/^https?$/i,Mi=["POST","PUT"];s=Fe.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?Vo(this.o):Vo(nr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(K){Vc(this,K);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Mi,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of v)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ji(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Vc(this,K)}};function Vc(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,Sa(u),cr(u)}function Sa(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),cr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Fe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},s.bb=function(){Ra(this)};function Ra(u){if(u.h&&typeof d<"u"&&(!u.v[1]||jn(u)!=4||u.Z()!=2)){if(u.u&&jn(u)==4)Zt(u.Ea,0,u);else if(Qe(u,"readystatechange"),jn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ie===0){var z=String(u.D).match(Ri)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),w=!Aa.test(z?z.toLowerCase():"")}v=w}if(v)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var K=2<jn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Sa(u)}}finally{cr(u)}}}}function cr(u,y){if(u.g){ji(u);const v=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||Qe(u,"ready");try{v.onreadystatechange=w}catch{}}}function ji(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),ya(y)}};function Pc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Td(u){const y={};u=(u.g&&2<=jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(D(u[w]))continue;var v=k(u[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}M(y,function(w){return w.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||y}function Na(u){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ki("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ki("baseRetryDelayMs",5e3,u),this.cb=ki("retryDelaySeedMs",1e4,u),this.Wa=ki("forwardChannelMaxRetries",2,u),this.wa=ki("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(u&&u.concurrentRequestLimit),this.Da=new Oi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Na.prototype,s.la=8,s.G=1,s.connect=function(u,y,v,w){it(0),this.W=u,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Fc(this,null,this.W),Ca(this)};function Xo(u){if(Uc(u),u.G==3){var y=u.U++,v=vn(u.I);if(Xe(v,"SID",u.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Vi(u,v),y=new sn(u,u.j,y),y.L=2,y.v=Ii(vn(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=y.v,v=!0),v||(y.g=Gc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ai(y)}Hc(u)}function Ia(u){u.g&&(Pi(u),u.g.cancel(),u.g=null)}function Uc(u){Ia(u),u.u&&(p.clearTimeout(u.u),u.u=null),Da(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ca(u){if(!ba(u.h)&&!u.s){u.s=!0;var y=u.Ga;le||O(),pe||(le(),pe=!0),qe.add(y,u),u.B=0}}function xd(u,y){return Ea(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Et(S(u.Ga,u,y),Jo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new sn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=x(K),C(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lc(this,z,y),v=vn(this.I),Xe(v,"RID",u),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Vi(this,v),K&&(this.O?y="headers="+encodeURIComponent(String($o(K)))+"&"+y:this.m&&kt(v,this.m,K)),Ta(this.h,z),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),z.T=!0,Qn(z,v,null)):Qn(z,v,y),this.G=2}}else this.G==3&&(u?Zo(this,u):this.i.length==0||ba(this.h)||Zo(this))};function Zo(u,y){var v;y?v=y.l:v=u.U++;const w=vn(u.I);Xe(w,"SID",u.K),Xe(w,"RID",v),Xe(w,"AID",u.T),Vi(u,w),u.m&&u.o&&kt(w,u.m,u.o),v=new sn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),y&&(u.i=y.D.concat(u.i)),y=Lc(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ta(u.h,v),Qn(v,w,y)}function Vi(u,y){u.H&&fe(u.H,function(v,w){Xe(y,w,v)}),u.l&&Fo({},function(v,w){Xe(y,w,v)})}function Lc(u,y,v){v=Math.min(u.i.length,v);var w=u.l?S(u.l.Na,u.l,u):null;e:{var z=u.i;let K=-1;for(;;){const ie=["count="+v];K==-1?0<v?(K=z[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Ve=!0;for(let It=0;It<v;It++){let Pe=z[It].g;const Vt=z[It].map;if(Pe-=K,0>Pe)K=Math.max(0,z[It].g-100),Ve=!1;else try{ar(Vt,ie,"req"+Pe+"_")}catch{w&&w(Vt)}}if(Ve){w=ie.join("&");break e}}}return u=u.i.splice(0,v),y.D=u,w}function zc(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;le||O(),pe||(le(),pe=!0),qe.add(y,u),u.v=0}}function Wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Et(S(u.Fa,u),Jo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Et(S(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ia(this),Bc(this))};function Pi(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Bc(u){u.g=new sn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=vn(u.qa);Xe(y,"RID","rpc"),Xe(y,"SID",u.K),Xe(y,"AID",u.T),Xe(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(y,"TO",u.ja),Xe(y,"TYPE","xmlhttp"),Vi(u,y),u.m&&u.o&&kt(y,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ii(vn(y)),v.m=null,v.P=!0,Mr(v,u)}s.Za=function(){this.C!=null&&(this.C=null,Ia(this),Wo(this),it(19))};function Da(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function qc(u,y){var v=null;if(u.g==y){Da(u),Pi(u),u.g=null;var w=2}else if(qo(u.h,y))v=y.D,an(u.h,y),w=1;else return;if(u.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=u.B;w=gs(),Qe(w,new Nt(w,v)),Ca(u)}else zc(u);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&xd(u,y)||w==2&&Wo(u)))switch(v&&0<v.length&&(y=u.h,y.i=y.i.concat(v)),z){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function Jo(u,y){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*y}function zr(u,y){if(u.j.info("Error code "+y),y==2){var v=S(u.fb,u),w=u.Xa;const z=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ni(w,"https"),Ii(w),z?Di(w.toString(),v):Kn(w.toString(),v)}else it(2);u.G=0,u.l&&u.l.sa(y),Hc(u),Uc(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Hc(u){if(u.G=0,u.ka=[],u.l){const y=Ho(u.h);(y.length!=0||u.i.length!=0)&&(V(u.ka,y),V(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Fc(u,y,v){var w=v instanceof Tt?vn(v):new Tt(v);if(w.g!="")y&&(w.g=y+"."+w.g),Es(w,w.s);else{var z=p.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new Tt(null);w&&Ni(K,w),y&&(K.g=y),z&&Es(K,z),v&&(K.l=v),w=K}return v=u.D,y=u.ya,v&&y&&Xe(w,v,y),Xe(w,"VER",u.la),Vi(u,w),w}function Gc(u,y,v){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Fe(new Ts({eb:v})):new Fe(u.pa),y.Ha(u.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}s=Qc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Oa(){}Oa.prototype.g=function(u,y){return new on(u,y)};function on(u,y){ht.call(this),this.g=new Na(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!D(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ur(this)}G(on,ht),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Xo(this.g)},on.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Gn(u),u=v);y.i.push(new Mc(y.Ya++,u)),y.G==3&&Ca(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,on.aa.N.call(this)};function Kc(u){Dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const v in y){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}G(Kc,Dr);function Yc(){Uo.call(this),this.status=1}G(Yc,Uo);function ur(u){this.g=u}G(ur,Qc),ur.prototype.ua=function(){Qe(this.g,"a")},ur.prototype.ta=function(u){Qe(this.g,new Kc(u))},ur.prototype.sa=function(u){Qe(this.g,new Yc)},ur.prototype.ra=function(){Qe(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,SE=function(){return new Oa},AE=function(){return gs()},wE=tr,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,lh=vs,Or.COMPLETE="complete",xE=Or,Po.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Gl=Po,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,TE=Fe}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",bv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new dp("@firebase/firestore");function lo(){return ca.logLevel}function he(s,...e){if(ca.logLevel<=je.DEBUG){const n=e.map(Sp);ca.debug(`Firestore (${Ao}): ${s}`,...n)}}function ls(s,...e){if(ca.logLevel<=je.ERROR){const n=e.map(Sp);ca.error(`Firestore (${Ao}): ${s}`,...n)}}function ri(s,...e){if(ca.logLevel<=je.WARN){const n=e.map(Sp);ca.warn(`Firestore (${Ao}): ${s}`,...n)}}function Sp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,RE(s,i,n)}function RE(s,e,n){let i=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ls(i),new Error(i)}function Ge(s,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,s||RE(e,o,i)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class cR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uR{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new is;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new is,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new is)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string",31837,{l:i}),new NE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class hR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new hR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const i=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ev(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=mR(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function Ie(s,e){return s<e?-1:s>e?1:0}function Gm(s,e){let n=0;for(;n<s.length&&n<e.length;){const i=s.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return Ie(i,o);{const c=IE(),d=pR(c.encode(Tv(s,n)),c.encode(Tv(e,n)));return d!==0?d:Ie(i,o)}}n+=i>65535?2:1}return Ie(s.length,e.length)}function Tv(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function pR(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return Ie(s[n],e[n]);return Ie(s.length,e.length)}function yo(s,e,n){return s.length===e.length&&s.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class yr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=yr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ie(e.length,n.length)}static compareSegments(e,n){const i=yr.isNumericId(e),o=yr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?yr.extractNumericId(e).compare(yr.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class rt extends yr{construct(e,n,i){return new rt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends yr{construct(e,n,i){return new $t(e,n,i)}static isValidIdentifier(e){return gR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new $t([xv])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(c(),o++)}if(c(),d)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(s,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yR(s,e,n,i){if(e===!0&&i===!0)throw new ue(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function wv(s){if(!ge.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Av(s){if(ge.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function DE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function gn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(s);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(s,e){const n={typeString:s};return e&&(n.value=e),n}function vc(s,e){if(!DE(s))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const d=s[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-62135596800,Rv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Rv);return new st(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sv)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rv}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Rt("string",st._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function _R(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(i===1e9?new st(n+1,0):new st(n,i));return new si(o,ge.empty(),e)}function vR(s){return new si(s.readTime,s.key,ic)}class si{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new si(we.min(),ge.empty(),ic)}static max(){return new si(we.max(),ge.empty(),ic)}}function bR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Ie(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==ER)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,i)=>{n(e)})}static reject(e){return new ee((n,i)=>{i(e)})}static waitFor(e){return new ee((n,i)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&n()},g=>i(g))}),d=!0,c===o&&n()})}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next(o=>o?ee.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,c)=>{i.push(n.call(this,o,c))}),this.waitFor(i)}static mapArray(e,n){return new ee((i,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(E=>{d[_]=E,++p,p===c&&i(d)},E=>o(E))}})}static doWhile(e,n){return new ee((i,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):i()};c()})}}function xR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Hh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Fh(s){return s==null}function xh(s){return s===0&&1/s==-1/0}function wR(s){return typeof s=="number"&&Number.isInteger(s)&&!xh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="";function AR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Nv(e)),e=SR(s.get(n),e);return Nv(e)}function SR(s,e){let n=e;const i=s.length;for(let o=0;o<i;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case OE:n+="";break;default:n+=c}}return n}function Nv(s){return s+OE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function fi(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function ME(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??Yt.RED,this.left=o??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new Yt(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(e){return new Cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Cv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Mt($t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jE("Invalid base64 string: "+c):c}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=RR.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ai(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="server_timestamp",VE="__type__",PE="__previous_value__",UE="__local_write_time__";function Ip(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[VE])===null||n===void 0?void 0:n.stringValue)===kE}function Gh(s){const e=s.mapValue.fields[PE];return Ip(e)?Gh(e):e}function ac(s){const e=ii(s.mapValue.fields[UE].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,i,o,c,d,p,g,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=E}}const wh="(default)";class oc{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__type__",IR="__max__",Wu={mapValue:{}},zE="__vector__",Ah="value";function oi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ip(s)?4:DR(s)?9007199254740991:CR(s)?10:11:Ee(28295,{value:s})}function Rr(s,e){if(s===e)return!0;const n=oi(s);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ac(s).isEqual(ac(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ii(o.timestampValue),p=ii(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return ai(o.bytesValue).isEqual(ai(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=bt(o.doubleValue),p=bt(c.doubleValue);return d===p?xh(d)===xh(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return yo(s.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Iv(d)!==Iv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Rr(d[g],p[g])))return!1;return!0}(s,e);default:return Ee(52216,{left:s})}}function lc(s,e){return(s.values||[]).find(n=>Rr(n,e))!==void 0}function _o(s,e){if(s===e)return 0;const n=oi(s),i=oi(e);if(n!==i)return Ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(s.booleanValue,e.booleanValue);case 2:return function(c,d){const p=bt(c.integerValue||c.doubleValue),g=bt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(s,e);case 3:return Dv(s.timestampValue,e.timestampValue);case 4:return Dv(ac(s),ac(e));case 5:return Gm(s.stringValue,e.stringValue);case 6:return function(c,d){const p=ai(c),g=ai(d);return p.compareTo(g)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const E=Ie(p[_],g[_]);if(E!==0)return E}return Ie(p.length,g.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Ie(bt(c.latitude),bt(d.latitude));return p!==0?p:Ie(bt(c.longitude),bt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ov(s.arrayValue,e.arrayValue);case 10:return function(c,d){var p,g,_,E;const A=c.fields||{},S=d.fields||{},L=(p=A[Ah])===null||p===void 0?void 0:p.arrayValue,G=(g=S[Ah])===null||g===void 0?void 0:g.arrayValue,W=Ie(((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:Ov(L,G)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Wu.mapValue&&d===Wu.mapValue)return 0;if(c===Wu.mapValue)return 1;if(d===Wu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const S=Gm(g[A],E[A]);if(S!==0)return S;const L=_o(p[g[A]],_[E[A]]);if(L!==0)return L}return Ie(g.length,E.length)}(s.mapValue,e.mapValue);default:throw Ee(23264,{le:n})}}function Dv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ie(s,e);const n=ii(s),i=ii(e),o=Ie(n.seconds,i.seconds);return o!==0?o:Ie(n.nanos,i.nanos)}function Ov(s,e){const n=s.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=_o(n[o],i[o]);if(c)return c}return Ie(n.length,i.length)}function vo(s){return Qm(s)}function Qm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const i=ii(n);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return ai(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ge.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=Qm(c);return i+"]"}(s.arrayValue):"mapValue"in s?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of i)c?c=!1:o+=",",o+=`${d}:${Qm(n.fields[d])}`;return o+"}"}(s.mapValue):Ee(61005,{value:s})}function ch(s){switch(oi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(s);return e?16+ch(e):16;case 5:return 2*s.stringValue.length;case 6:return ai(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+ch(c),0)}(s.arrayValue);case 10:case 11:return function(i){let o=0;return fi(i.fields,(c,d)=>{o+=c.length+ch(d)}),o}(s.mapValue);default:throw Ee(13486,{value:s})}}function Mv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Km(s){return!!s&&"integerValue"in s}function Cp(s){return!!s&&"arrayValue"in s}function jv(s){return!!s&&"nullValue"in s}function kv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function uh(s){return!!s&&"mapValue"in s}function CR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||n===void 0?void 0:n.stringValue)===zE}function Zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return fi(s.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Zl(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(s.arrayValue.values[n]);return e}return Object.assign({},s)}function DR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===IR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=$t.emptyPath(),i={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=Zl(d):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){fi(n,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new pn(Zl(this.value))}}function BE(s){const e=[];return fi(s.fields,(n,i)=>{const o=new $t([n]);if(uh(i)){const c=BE(i.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,i,o,c,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,we.min(),we.min(),we.min(),pn.empty(),0)}static newFoundDocument(e,n,i,o){return new nn(e,1,n,we.min(),i,o,0)}static newNoDocument(e,n){return new nn(e,2,n,we.min(),we.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,we.min(),we.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function Vv(s,e,n){let i=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?i=ge.comparator(ge.fromName(d.referenceValue),n.key):i=_o(d,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Rr(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function OR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{}class St extends qE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new jR(e,n,i):n==="array-contains"?new PR(e,i):n==="in"?new UR(e,i):n==="not-in"?new LR(e,i):n==="array-contains-any"?new zR(e,i):new St(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new kR(e,i):new VR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends qE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Jn(e,n)}matches(e){return HE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function HE(s){return s.op==="and"}function FE(s){return MR(s)&&HE(s)}function MR(s){for(const e of s.filters)if(e instanceof Jn)return!1;return!0}function Ym(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(FE(s))return s.filters.map(e=>Ym(e)).join(",");{const e=s.filters.map(n=>Ym(n)).join(",");return`${s.op}(${e})`}}function GE(s,e){return s instanceof St?function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&Rr(i.value,o.value)}(s,e):s instanceof Jn?function(i,o){return o instanceof Jn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,d,p)=>c&&GE(d,o.filters[p]),!0):!1}(s,e):void Ee(19439)}function QE(s){return s instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(s):s instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"}(s):"Filter"}class jR extends St{constructor(e,n,i){super(e,n,i),this.key=ge.fromName(i.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class kR extends St{constructor(e,n){super(e,"in",n),this.keys=KE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VR extends St{constructor(e,n){super(e,"not-in",n),this.keys=KE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ge.fromName(i.referenceValue))}class PR extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&lc(n.arrayValue,this.value)}}class UR extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class LR extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class zR extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>lc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n=null,i=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function Uv(s,e=null,n=[],i=[],o=null,c=null,d=null){return new BR(s,e,n,i,o,c,d)}function Dp(s){const e=Ae(s);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ym(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>vo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>vo(i)).join(",")),e.Pe=n}return e.Pe}function Op(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!OR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!GE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Pv(s.startAt,e.startAt)&&Pv(s.endAt,e.endAt)}function $m(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n=null,i=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qR(s,e,n,i,o,c,d,p){return new No(s,e,n,i,o,c,d,p)}function Qh(s){return new No(s)}function Lv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function YE(s){return s.collectionGroup!==null}function Wl(s){const e=Ae(s);if(e.Te===null){e.Te=[];const n=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt($t.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Te.push(new cc(c,i))}),n.has($t.keyField().canonicalString())||e.Te.push(new cc($t.keyField(),i))}return e.Te}function Er(s){const e=Ae(s);return e.Ie||(e.Ie=HR(e,Wl(s))),e.Ie}function HR(s,e){if(s.limitType==="F")return Uv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new cc(o.field,c)});const n=s.endAt?new Sh(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Sh(s.startAt.position,s.startAt.inclusive):null;return Uv(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Xm(s,e){const n=s.filters.concat([e]);return new No(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Zm(s,e,n){return new No(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Kh(s,e){return Op(Er(s),Er(e))&&s.limitType===e.limitType}function $E(s){return`${Dp(Er(s))}|lt:${s.limitType}`}function co(s){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>QE(o)).join(", ")}]`),Fh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>vo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>vo(o)).join(",")),`Target(${i})`}(Er(s))}; limitType=${s.limitType})`}function Yh(s,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ge.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,o){for(const c of Wl(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(i,o){return!(i.startAt&&!function(d,p,g){const _=Vv(d,p,g);return d.inclusive?_<=0:_<0}(i.startAt,Wl(i),o)||i.endAt&&!function(d,p,g){const _=Vv(d,p,g);return d.inclusive?_>=0:_>0}(i.endAt,Wl(i),o))}(s,e)}function FR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function XE(s){return(e,n)=>{let i=!1;for(const o of Wl(s)){const c=GR(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function GR(s,e,n){const i=s.field.isKeyField()?ge.comparator(e.key,n.key):function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?_o(g,_):Ee(42886)}(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new ct(ge.comparator);function cs(){return QR}const ZE=new ct(ge.comparator);function Ql(...s){let e=ZE;for(const n of s)e=e.insert(n.key,n);return e}function WE(s){let e=ZE;return s.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ta(){return Jl()}function JE(){return Jl()}function Jl(){return new fa(s=>s.toString(),(s,e)=>s.isEqual(e))}const KR=new ct(ge.comparator),YR=new Mt(ge.comparator);function ke(...s){let e=YR;for(const n of s)e=e.add(n);return e}const $R=new Mt(Ie);function XR(){return $R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function eT(s){return{integerValue:""+s}}function ZR(s,e){return wR(e)?eT(e):Mp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function WR(s,e,n){return s instanceof uc?function(o,c){const d={fields:{[VE]:{stringValue:kE},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ip(c)&&(c=Gh(c)),c&&(d.fields[PE]=c),{mapValue:d}}(n,e):s instanceof hc?nT(s,e):s instanceof dc?rT(s,e):function(o,c){const d=tT(o,c),p=zv(d)+zv(o.Ee);return Km(d)&&Km(o.Ee)?eT(p):Mp(o.serializer,p)}(s,e)}function JR(s,e,n){return s instanceof hc?nT(s,e):s instanceof dc?rT(s,e):n}function tT(s,e){return s instanceof Rh?function(i){return Km(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class uc extends $h{}class hc extends $h{constructor(e){super(),this.elements=e}}function nT(s,e){const n=sT(e);for(const i of s.elements)n.some(o=>Rr(o,i))||n.push(i);return{arrayValue:{values:n}}}class dc extends $h{constructor(e){super(),this.elements=e}}function rT(s,e){let n=sT(e);for(const i of s.elements)n=n.filter(o=>!Rr(o,i));return{arrayValue:{values:n}}}class Rh extends $h{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function zv(s){return bt(s.integerValue||s.doubleValue)}function sT(s){return Cp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.field=e,this.transform=n}}function tN(s,e){return s.field.isEqual(e.field)&&function(i,o){return i instanceof hc&&o instanceof hc||i instanceof dc&&o instanceof dc?yo(i.elements,o.elements,Rr):i instanceof Rh&&o instanceof Rh?Rr(i.Ee,o.Ee):i instanceof uc&&o instanceof uc}(s.transform,e.transform)}class nN{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Xh{}function iT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new jp(s.key,Hn.none()):new bc(s.key,s.data,Hn.none());{const n=s.data,i=pn.empty();let o=new Mt($t.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?i.delete(c):i.set(c,d),o=o.add(c)}return new mi(s.key,i,new Rn(o.toArray()),Hn.none())}}function rN(s,e,n){s instanceof bc?function(o,c,d){const p=o.value.clone(),g=qv(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):s instanceof mi?function(o,c,d){if(!hh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=qv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(aT(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function ec(s,e,n,i){return s instanceof bc?function(c,d,p,g){if(!hh(c.precondition,d))return p;const _=c.value.clone(),E=Hv(c.fieldTransforms,g,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,n,i):s instanceof mi?function(c,d,p,g){if(!hh(c.precondition,d))return p;const _=Hv(c.fieldTransforms,g,d),E=d.data;return E.setAll(aT(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(s,e,n,i):function(c,d,p){return hh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,n)}function sN(s,e){let n=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),c=tT(i.transform,o||null);c!=null&&(n===null&&(n=pn.empty()),n.set(i.field,c))}return n||null}function Bv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&yo(i,o,(c,d)=>tN(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class bc extends Xh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mi extends Xh{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aT(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}}),e}function qv(s,e,n){const i=new Map;Ge(s.length===n.length,32656,{Ae:n.length,Re:s.length});for(let o=0;o<n.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);i.set(c.field,JR(d,p,n[o]))}return i}function Hv(s,e,n){const i=new Map;for(const o of s){const c=o.transform,d=n.data.field(o.field);i.set(o.field,WR(c,d,e))}return i}class jp extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iN extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&rN(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ec(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ec(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=JE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const g=iT(d,p);g!==null&&i.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,i)=>Bv(n,i))&&yo(this.baseMutations,e.baseMutations,(n,i)=>Bv(n,i))}}class kp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ge(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let o=function(){return KR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,i[d].version);return new kp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Le;function cN(s){switch(s){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function oT(s){if(s===void 0)return ls("GRPC error has no .code"),Z.UNKNOWN;switch(s){case At.OK:return Z.OK;case At.CANCELLED:return Z.CANCELLED;case At.UNKNOWN:return Z.UNKNOWN;case At.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case At.INTERNAL:return Z.INTERNAL;case At.UNAVAILABLE:return Z.UNAVAILABLE;case At.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case At.NOT_FOUND:return Z.NOT_FOUND;case At.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case At.ABORTED:return Z.ABORTED;case At.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case At.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:s})}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Ws([4294967295,4294967295],0);function Fv(s){const e=IE().encode(s),n=new EE;return n.update(e),new Uint8Array(n.digest())}function Gv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ws([n,i],0),new Ws([o,c],0)]}class Vp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(i<0)throw new Kl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ws.fromNumber(this.fe)}pe(e,n,i){let o=e.add(n.multiply(Ws.fromNumber(i)));return o.compare(uN)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Fv(e),[i,o]=Gv(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(i,o,c);if(!this.ye(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Vp(c,o,n);return i.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const n=Fv(e),[i,o]=Gv(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(i,o,c);this.we(d)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zh(we.min(),o,new ct(Ie),cs(),ke())}}class Ec{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ec(i,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=o}}class lT{constructor(e,n){this.targetId=e,this.De=n}}class cT{constructor(e,n,i=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Qv{constructor(){this.ve=0,this.Ce=Kv(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),n=ke(),i=ke();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:c})}}),new Ec(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=Kv()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hN{constructor(e){this.We=e,this.Ge=new Map,this.ze=cs(),this.je=Ju(),this.Je=Ju(),this.He=new ct(Ie)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,i=e.De.count,o=this.st(n);if(o){const c=o.target;if($m(c))if(i===0){const d=new ge(c.path);this.Xe(n,d,nn.newNoDocument(d,we.min()))}else Ge(i===1,20013,{expectedCount:i});else{const d=this.ot(n);if(d!==i){const p=this._t(e),g=p?this.ut(p,e,d):1;if(g!==0){this.rt(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=ai(i).toUint8Array()}catch(g){if(g instanceof jE)return ri("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Vp(d,o,c)}catch(g){return ri(g instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let o=0;return i.forEach(c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.Xe(n,c,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((c,d)=>{const p=this.st(d);if(p){if(c.current&&$m(p.target)){const g=new ge(p.target.path);this.Tt(g).has(d)||this.It(d,g)||this.Xe(d,g,nn.newNoDocument(g,e))}c.Ne&&(n.set(d,c.Le()),c.ke())}});let i=ke();this.Je.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const _=this.st(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Zh(e,n,this.He,this.ze,i);return this.ze=cs(),this.je=Ju(),this.Je=Ju(),this.He=new ct(Ie),o}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Qv,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Mt(Ie),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Mt(Ie),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Qv),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new ct(ge.comparator)}function Kv(){return new ct(ge.comparator)}const dN={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"};class pN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(s,e){return s.useProto3Json||Fh(e)?e:{value:e}}function Nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gN(s,e){return Nh(s,e.toTimestamp())}function Tr(s){return Ge(!!s,49232),we.fromTimestamp(function(n){const i=ii(n);return new st(i.seconds,i.nanos)}(s))}function Pp(s,e){return Jm(s,e).canonicalString()}function Jm(s,e){const n=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function hT(s){const e=rt.fromString(s);return Ge(gT(e),10190,{key:e.toString()}),e}function ep(s,e){return Pp(s.databaseId,e.path)}function Nm(s,e){const n=hT(e);if(n.get(1)!==s.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(fT(n))}function dT(s,e){return Pp(s.databaseId,e)}function yN(s){const e=hT(s);return e.length===4?rt.emptyPath():fT(e)}function tp(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fT(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yv(s,e,n){return{name:ep(s,e),fields:n.value.mapValue.fields}}function _N(s,e){let n;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(_,E){return _.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const E=_.code===void 0?Z.UNKNOWN:oT(_.code);return new ue(E,_.message||"")}(d);n=new cT(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Nm(s,i.document.name),c=Tr(i.document.updateTime),d=i.document.createTime?Tr(i.document.createTime):we.min(),p=new pn({mapValue:{fields:i.document.fields}}),g=nn.newFoundDocument(o,c,d,p),_=i.targetIds||[],E=i.removedTargetIds||[];n=new dh(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Nm(s,i.document),c=i.readTime?Tr(i.readTime):we.min(),d=nn.newNoDocument(o,c),p=i.removedTargetIds||[];n=new dh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Nm(s,i.document),c=i.removedTargetIds||[];n=new dh([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,d=new lN(o,c),p=i.targetId;n=new lT(p,d)}}return n}function vN(s,e){let n;if(e instanceof bc)n={update:Yv(s,e.key,e.value)};else if(e instanceof jp)n={delete:ep(s,e.key)};else if(e instanceof mi)n={update:Yv(s,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof iN))return Ee(16599,{Rt:e.type});n={verify:ep(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(c,d){const p=d.transform;if(p instanceof uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Rh)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw Ee(20930,{transform:d.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:gN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)}(s,e.precondition)),n}function bN(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map(n=>function(o,c){let d=o.updateTime?Tr(o.updateTime):Tr(c);return d.isEqual(we.min())&&(d=Tr(c)),new nN(d,o.transformResults||[])}(n,e))):[]}function EN(s,e){return{documents:[dT(s,e.path)]}}function TN(s,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=dT(s,o);const c=function(_){if(_.length!==0)return pT(Jn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(E=>function(S){return{field:uo(S.field),direction:AN(S.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Wm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:n,parent:o}}function xN(s){let e=yN(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ge(i===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(A){const S=mT(A);return S instanceof Jn&&FE(S)?S.getFilters():[S]}(n.where));let d=[];n.orderBy&&(d=function(A){return A.map(S=>function(G){return new cc(ho(G.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(A){let S;return S=typeof A=="object"?A.value:A,Fh(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(A){const S=!!A.before,L=A.values||[];return new Sh(L,S)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const S=!A.before,L=A.values||[];return new Sh(L,S)}(n.endAt)),qR(e,o,d,c,p,"F",g,_)}function wN(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ho(n.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ho(n.unaryFilter.field);return St.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ho(n.unaryFilter.field);return St.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(s):s.fieldFilter!==void 0?function(n){return St.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(i=>mT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(s):Ee(30097,{filter:s})}function AN(s){return dN[s]}function SN(s){return fN[s]}function RN(s){return mN[s]}function uo(s){return{fieldPath:s.canonicalString()}}function ho(s){return $t.fromServerFormat(s.fieldPath)}function pT(s){return s instanceof St?function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(jv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(jv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:SN(n.op),value:n.value}}}(s):s instanceof Jn?function(n){const i=n.getFilters().map(o=>pT(o));return i.length===1?i[0]:{compositeFilter:{op:RN(n.op),filters:i}}}(s):Ee(54877,{filter:s})}function NN(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,i,o,c=we.min(),d=we.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.gt=e}}function CN(s){const e=xN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.Dn=new ON}addToCollectionParentIndex(e,n){return this.Dn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(si.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ON{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mt(rt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(yT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bo(0)}static ur(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",MN=1048576;function Zv([s,e],[n,i]){const o=Ie(s,n);return o===0?Ie(e,i):o}class jN{constructor(e){this.Tr=e,this.buffer=new Mt(Zv),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Zv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(Xv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?he(Xv,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Rr(3e5)})}}class VN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Hh.ue);const i=new jN(n);return this.Vr.forEachTarget(e,o=>i.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>i.Er(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve($v)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,o,c,d,p,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(i=A,p=Date.now(),this.removeTargets(e,i,n))).next(A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(_=Date.now(),lo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A})))}}function PN(s,e){return new VN(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ec(i.mutation,o,Rn.empty(),st.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ke()){const o=ta();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(c=>{let d=Ql();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const i=ta();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ke()))}populateOverlays(e,n,i){const o=[];return i.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,i,o){let c=cs();const d=Jl(),p=function(){return Jl()}();return n.forEach((g,_)=>{const E=i.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof mi)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),ec(E.mutation,_,E.mutation.getFieldMask(),st.now())):d.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,E)=>d.set(_,E)),n.forEach((_,E)=>{var A;return p.set(_,new LN(E,(A=d.get(_))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,n){const i=Jl();let o=new ct((d,p)=>d-p),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=i.get(g)||Rn.empty();E=p.applyToLocalView(_,E),i.set(g,E);const A=(o.get(p.batchId)||ke()).add(g);o=o.insert(p.batchId,A)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,E=g.value,A=JE();E.forEach(S=>{if(!c.has(S)){const L=iT(n.get(S),i.get(S));L!==null&&A.set(S,L),c=c.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return ee.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):ee.resolve(ta());let p=ic,g=c;return d.next(_=>ee.forEach(_,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,ke())).next(E=>({batchId:p,changes:WE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(i=>{let o=Ql();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,c).next(p=>ee.forEach(p,g=>{const _=function(A,S){return new No(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(E=>{E.forEach((A,S)=>{d=d.insert(A,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o))).next(d=>{c.forEach((g,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,nn.newInvalidDocument(E)))});let p=Ql();return d.forEach((g,_)=>{const E=c.get(g);E!==void 0&&ec(E.mutation,_,Rn.empty(),st.now()),Yh(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:CN(o.bundledQuery),readTime:Tr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.overlays=new ct(ge.comparator),this.kr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ta();return ee.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,c)=>{this.wt(e,n,c)}),ee.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.kr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const o=ta(),c=n.length+1,d=new ge(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new ct((_,E)=>_-E);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let E=c.get(_.largestBatchId);E===null&&(E=ta(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=ta(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>p.set(_,E)),!(p.size()>=o)););return ee.resolve(p)}wt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(i.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new oN(n,i));let c=this.kr.get(n);c===void 0&&(c=ke(),this.kr.set(n,c)),this.kr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.qr=new Mt(zt.Qr),this.$r=new Mt(zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new zt(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new zt(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new ge(new rt([])),i=new zt(n,e),o=new zt(n,e+1),c=[];return this.$r.forEachInRange([i,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new rt([])),i=new zt(n,e),o=new zt(n,e+1);let c=ke();return this.$r.forEachInRange([i,o],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new zt(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ie(e.Hr,n.Hr)}static Ur(e,n){return Ie(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Mt(zt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aN(c,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Yr=this.Yr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Np:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([i,o],d=>{const p=this.Zr(d.Hr);c.push(p)}),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Ie);return n.forEach(o=>{const c=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],p=>{i=i.add(p.Hr)})}),ee.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;ge.isDocumentKey(c)||(c=c.child(""));const d=new zt(new ge(c),0);let p=new Mt(Ie);return this.Yr.forEachWhile(g=>{const _=g.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Hr)),!0)},d),ee.resolve(this.ei(p))}ei(e){const n=[];return e.forEach(i=>{const o=this.Zr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ee.forEach(n.mutations,o=>{const c=new zt(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new zt(n,0),o=this.Yr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.ni=e,this.docs=function(){return new ct(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,d=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let i=cs();return n.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=cs();const d=n.path,p=new ge(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||bR(vR(E),i)<=0||(o.has(E.key)||Yh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,n,i,o){Ee(9500)}ri(e,n){return ee.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new QN(this)}getSize(e){return ee.resolve(this.size)}}class QN extends UN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(i)}),ee.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.persistence=e,this.ii=new fa(n=>Dp(n),Op),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new Up,this.targetCount=0,this._i=bo.ar()}forEachTarget(e,n){return this.ii.forEach((i,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ee.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.hr(n),ee.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(c).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ee.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.ai={},this.overlays={},this.ui=new Hh(0),this.ci=!1,this.ci=!0,this.li=new HN,this.referenceDelegate=e(this),this.hi=new KN(this),this.indexManager=new DN,this.remoteDocumentCache=function(o){return new GN(o)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new IN(n),this.Ti=new BN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new FN(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const o=new YN(this.ui.next());return this.referenceDelegate.Ii(),i(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,n){return ee.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class YN extends TR{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ai=new Up,this.Ri=null}static Vi(e){return new Lp(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,i=>{const o=ge.fromPath(i);return this.fi(e,o).next(c=>{c||n.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ee.or([()=>ee.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.gi=new fa(i=>AR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=PN(this,n)}static Vi(e,n){return new Ih(e,n)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return ee.forEach(this.gi,(i,o)=>this.Sr(e,i,o).next(c=>c?ee.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,n).next(p=>{p||(i++,c.removeEntry(d,we.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}Sr(e,n,i){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=o}static Es(e,n){let i=ke(),o=ke();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new zp(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return x1()?8:xR(rn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.ps(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,n,o,i).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new $N;return this.ws(e,n,d).next(p=>{if(c.result=p,this.Rs)return this.Ss(e,n,d,p.size)})}).next(()=>c.result)}Ss(e,n,i,o){return i.documentReadCount<this.Vs?(lo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(lo()<=je.DEBUG&&he("QueryEngine","Query:",co(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.fs*o?(lo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):ee.resolve())}ps(e,n){if(Lv(n))return ee.resolve(null);let i=Er(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),i=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const d=ke(...c);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,i).next(g=>{const _=this.bs(n,p);return this.Ds(n,_,d,g.readTime)?this.ps(e,Zm(n,null,"F")):this.vs(e,_,n,g)}))})))}ys(e,n,i,o){return Lv(n)||o.isEqual(we.min())?ee.resolve(null):this.gs.getDocuments(e,i).next(c=>{const d=this.bs(n,c);return this.Ds(n,d,i,o)?ee.resolve(null):(lo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.vs(e,d,n,_R(o,ic)).next(p=>p))})}bs(e,n){let i=new Mt(XE(e));return n.forEach((o,c)=>{Yh(e,c)&&(i=i.add(c))}),i}Ds(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,n,i){return lo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",co(n)),this.gs.getDocumentsMatchingQuery(e,n,si.min(),i)}vs(e,n,i,o){return this.gs.getDocumentsMatchingQuery(e,i,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",ZN=3e8;class WN{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new ct(Ie),this.Ms=new fa(c=>Dp(c),Op),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function JN(s,e,n,i){return new WN(s,e,n,i)}async function vT(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],p=[];let g=ke();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(i,g).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:p}))})})}function eI(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,_,E){const A=_.batch,S=A.keys();let L=ee.resolve();return S.forEach(G=>{L=L.next(()=>E.getEntry(g,G)).next(W=>{const V=_.docVersions.get(G);Ge(V!==null,48541),W.version.compareTo(V)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),E.addEntry(W)))})}),L.next(()=>p.mutationQueue.removeMutationBatch(g,A))}(n,i,e,c).next(()=>c.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(p){let g=ke();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function bT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function tI(s,e){const n=Ae(s),i=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const p=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;p.push(n.hi.removeMatchingKeys(c,E.removedDocuments,A).next(()=>n.hi.addMatchingKeys(c,E.addedDocuments,A)));let L=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,i)),o=o.insert(A,L),function(W,V,te){return W.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=ZN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(S,L,E)&&p.push(n.hi.updateTargetData(c,L))});let g=cs(),_=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),p.push(nI(c,d,e.documentUpdates).next(E=>{g=E.Ls,_=E.ks})),!i.isEqual(we.min())){const E=n.hi.getLastRemoteSnapshotVersion(c).next(A=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(E)}return ee.waitFor(p).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.Fs=o,c))}function nI(s,e,n){let i=ke(),o=ke();return n.forEach(c=>i=i.add(c)),e.getEntries(s,i).next(c=>{let d=cs();return n.forEach((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):he(Bp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{Ls:d,ks:o}})}function rI(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function sI(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.hi.getTargetData(i,e).next(c=>c?(o=c,ee.resolve(o)):n.hi.allocateTargetId(i).next(d=>(o=new $s(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Fs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function np(s,e,n){const i=Ae(s),o=i.Fs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ro(d))throw d;he(Bp,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(o.target)}function Wv(s,e,n){const i=Ae(s);let o=we.min(),c=ke();return i.persistence.runTransaction("Execute query","readwrite",d=>function(g,_,E){const A=Ae(g),S=A.Ms.get(E);return S!==void 0?ee.resolve(A.Fs.get(S)):A.hi.getTargetData(_,E)}(i,d,Er(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:we.min(),n?c:ke())).next(p=>(iI(i,FR(e),p),{documents:p,qs:c})))}function iI(s,e,n){let i=s.xs.get(e)||we.min();n.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),s.xs.set(e,i)}class Jv{constructor(){this.activeTargetIds=XR()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aI{constructor(){this.Fo=new Jv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Jv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class tb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(eb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function rp(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",lI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cI{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.Ko=this.databaseId.database===wh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,c){const d=rp(),p=this.Go(e,n.toUriEncodedString());he(Im,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,c);const{host:_}=new URL(p),E=di(_);return this.jo(e,p,g,i,E).then(A=>(he(Im,`Received RPC '${e}' ${d}: `,A),A),A=>{throw ri(Im,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",i),A})}Jo(e,n,i,o,c,d){return this.Wo(e,n,i,o,c)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}Go(e,n){const i=lI[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class hI extends cI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,o,c){const d=rp();return new Promise((p,g)=>{const _=new TE;_.setWithCredentials(!0),_.listenOnce(xE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case lh.NO_ERROR:const A=_.getResponseJson();he(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case lh.TIMEOUT:he(en,`RPC '${e}' ${d} timed out`),g(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const S=_.getStatus();if(he(en,`RPC '${e}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const G=L==null?void 0:L.error;if(G&&G.status&&G.message){const W=function(te){const D=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(D)>=0?D:Z.UNKNOWN}(G.status);g(new ue(W,G.message))}else g(new ue(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{he(en,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);he(en,`RPC '${e}' ${d} sending request:`,o),_.send(n,"POST",E,i,15)})}P_(e,n,i){const o=rp(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=SE(),p=AE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const E=c.join("");he(en,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=d.createWebChannel(E,g);this.T_(A);let S=!1,L=!1;const G=new uI({Ho:V=>{L?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(he(en,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),he(en,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Yo:()=>A.close()}),W=(V,te,D)=>{V.listen(te,Q=>{try{D(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return W(A,Gl.EventType.OPEN,()=>{L||(he(en,`RPC '${e}' stream ${o} transport opened.`),G.s_())}),W(A,Gl.EventType.CLOSE,()=>{L||(L=!0,he(en,`RPC '${e}' stream ${o} transport closed`),G.__(),this.I_(A))}),W(A,Gl.EventType.ERROR,V=>{L||(L=!0,ri(en,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),G.__(new ue(Z.UNAVAILABLE,"The operation could not be completed")))}),W(A,Gl.EventType.MESSAGE,V=>{var te;if(!L){const D=V.data[0];Ge(!!D,16349);const Q=D,ne=(Q==null?void 0:Q.error)||((te=Q[0])===null||te===void 0?void 0:te.error);if(ne){he(en,`RPC '${e}' stream ${o} received error:`,ne);const oe=ne.status;let fe=function(R){const C=At[R];if(C!==void 0)return oT(C)}(oe),M=ne.message;fe===void 0&&(fe=Z.INTERNAL,M="Unknown error status: "+oe+" with message "+ne.message),L=!0,G.__(new ue(fe,M)),A.close()}else he(en,`RPC '${e}' stream ${o} received:`,D),G.a_(D)}}),W(p,wE.STAT_EVENT,V=>{V.stat===Fm.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Fm.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.o_()},0),G}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s){return new pN(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class TT{constructor(e,n,i,o,c,d,p,g){this.Fi=e,this.w_=i,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ET(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.b_===n&&this.W_(i,o)},i=>{e(()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(o)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{i(()=>this.G_(o))}),this.stream.onMessage(o=>{i(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return he(nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(he(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dI extends TT{constructor(e,n,i,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=c}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=_N(this.serializer,e),i=function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Tr(d.readTime):we.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=tp(this.serializer),n.addTarget=function(c,d){let p;const g=d.target;if(p=$m(g)?{documents:EN(c,g)}:{query:TN(c,g).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uT(c,d.resumeToken);const _=Wm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=Nh(c,d.snapshotVersion.toTimestamp());const _=Wm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const i=wN(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.k_(n)}}class fI extends TT{constructor(e,n,i,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=bN(e.writeResults,e.commitTime),i=Tr(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=tp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>vN(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class pI extends mI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Jm(n,i),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Z.UNKNOWN,c.toString())})}Jo(e,n,i,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,Jm(n,i),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(Z.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class gI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ls(n),this._a=!1):he("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class yI{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{i.enqueueAndForget(async()=>{ma(this)&&(he(ua,"Restarting streams for network reachability change."),await async function(g){const _=Ae(g);_.Ia.add(4),await Tc(_),_.Aa.set("Unknown"),_.Ia.delete(4),await Jh(_)}(this))})}),this.Aa=new gI(i,o)}}async function Jh(s){if(ma(s))for(const e of s.da)await e(!0)}async function Tc(s){for(const e of s.da)await e(!1)}function xT(s,e){const n=Ae(s);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Gp(n)?Fp(n):Io(n).x_()&&Hp(n,e))}function qp(s,e){const n=Ae(s),i=Io(n);n.Ta.delete(e),i.x_()&&wT(n,e),n.Ta.size===0&&(i.x_()?i.B_():ma(n)&&n.Aa.set("Unknown"))}function Hp(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(s).H_(e)}function wT(s,e){s.Ra.$e(e),Io(s).Y_(e)}function Fp(s){s.Ra=new hN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Aa.aa()}function Gp(s){return ma(s)&&!Io(s).M_()&&s.Ta.size>0}function ma(s){return Ae(s).Ia.size===0}function AT(s){s.Ra=void 0}async function _I(s){s.Aa.set("Online")}async function vI(s){s.Ta.forEach((e,n)=>{Hp(s,e)})}async function bI(s,e){AT(s),Gp(s)?(s.Aa.la(e),Fp(s)):s.Aa.set("Unknown")}async function EI(s,e,n){if(s.Aa.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ta.delete(p),o.Ra.removeTarget(p))}(s,e)}catch(i){he(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ch(s,i)}else if(e instanceof dh?s.Ra.Ye(e):e instanceof lT?s.Ra.it(e):s.Ra.et(e),!n.isEqual(we.min()))try{const i=await bT(s.localStore);n.compareTo(i)>=0&&await function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ta.get(_);E&&c.Ta.set(_,E.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,_)=>{const E=c.Ta.get(g);if(!E)return;c.Ta.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),wT(c,g);const A=new $s(E.target,g,_,E.sequenceNumber);Hp(c,A)}),c.remoteSyncer.applyRemoteEvent(p)}(s,n)}catch(i){he(ua,"Failed to raise snapshot:",i),await Ch(s,i)}}async function Ch(s,e,n){if(!Ro(e))throw e;s.Ia.add(1),await Tc(s),s.Aa.set("Offline"),n||(n=()=>bT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{he(ua,"Retrying IndexedDB access"),await n(),s.Ia.delete(1),await Jh(s)})}function ST(s,e){return e().catch(n=>Ch(s,n,e))}async function ed(s){const e=Ae(s),n=li(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Np;for(;TI(e);)try{const o=await rI(e.localStore,i);if(o===null){e.Pa.length===0&&n.B_();break}i=o.batchId,xI(e,o)}catch(o){await Ch(e,o)}RT(e)&&NT(e)}function TI(s){return ma(s)&&s.Pa.length<10}function xI(s,e){s.Pa.push(e);const n=li(s);n.x_()&&n.Z_&&n.X_(e.mutations)}function RT(s){return ma(s)&&!li(s).M_()&&s.Pa.length>0}function NT(s){li(s).start()}async function wI(s){li(s).na()}async function AI(s){const e=li(s);for(const n of s.Pa)e.X_(n.mutations)}async function SI(s,e,n){const i=s.Pa.shift(),o=kp.from(i,e,n);await ST(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await ed(s)}async function RI(s,e){e&&li(s).Z_&&await async function(i,o){if(function(d){return cN(d)&&d!==Z.ABORTED}(o.code)){const c=i.Pa.shift();li(i).N_(),await ST(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await ed(i)}}(s,e),RT(s)&&NT(s)}async function rb(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),he(ua,"RemoteStore received new credentials");const i=ma(n);n.Ia.add(3),await Tc(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Jh(n)}async function NI(s,e){const n=Ae(s);e?(n.Ia.delete(2),await Jh(n)):e||(n.Ia.add(2),await Tc(n),n.Aa.set("Unknown"))}function Io(s){return s.Va||(s.Va=function(n,i,o){const c=Ae(n);return c.ia(),new dI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:_I.bind(null,s),e_:vI.bind(null,s),n_:bI.bind(null,s),J_:EI.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),Gp(s)?Fp(s):s.Aa.set("Unknown")):(await s.Va.stop(),AT(s))})),s.Va}function li(s){return s.ma||(s.ma=function(n,i,o){const c=Ae(n);return c.ia(),new fI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:wI.bind(null,s),n_:RI.bind(null,s),ea:AI.bind(null,s),ta:SI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await ed(s)):(await s.ma.stop(),s.Pa.length>0&&(he(ua,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const d=Date.now()+i,p=new Qp(e,n,d,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(s,e){if(ls("AsyncQueue",`${e}: ${s}`),Ro(s))return new ue(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ge.comparator(n.key,i.key):(n,i)=>ge.comparator(n.key,i.key),this.keyedMap=Ql(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.fa=new ct(ge.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Eo{constructor(e,n,i,o,c,d,p,g,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,o,c){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new Eo(e,n,go.emptySet(n),d,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class CI{constructor(){this.queries=ib(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const o=Ae(n),c=o.queries;o.queries=ib(),c.forEach((d,p)=>{for(const g of p.wa)g.onError(i)})})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function ib(){return new fa(s=>$E(s),Kh)}async function Yp(s,e){const n=Ae(s);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.ba()&&(i=2):(c=new II,i=e.ba()?0:1);try{switch(i){case 0:c.ya=await n.onListen(o,!0);break;case 1:c.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Kp(d,`Initialization of query '${co(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.wa.push(e),e.va(n.onlineState),c.ya&&e.Ca(c.ya)&&Xp(n)}async function $p(s,e){const n=Ae(s),i=e.query;let o=3;const c=n.queries.get(i);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function DI(s,e){const n=Ae(s);let i=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.wa)p.Ca(o)&&(i=!0);d.ya=o}}i&&Xp(n)}function OI(s,e,n){const i=Ae(s),o=i.queries.get(e);if(o)for(const c of o.wa)c.onError(n);i.queries.delete(e)}function Xp(s){s.Da.forEach(e=>{e.next()})}var sp,ab;(ab=sp||(sp={})).Fa="default",ab.Cache="cache";class Zp{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Eo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class MI{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=XE(e),this.eu=new go(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new sb,o=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),L=Yh(this.query,A)?A:null,G=!!S&&this.mutatedKeys.has(S.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let V=!1;S&&L?S.data.isEqual(L.data)?G!==W&&(i.track({type:3,doc:L}),V=!0):this.iu(S,L)||(i.track({type:2,doc:L}),V=!0,(g&&this.Xa(L,g)>0||_&&this.Xa(L,_)<0)&&(p=!0)):!S&&L?(i.track({type:0,doc:L}),V=!0):S&&!L&&(i.track({type:1,doc:S}),V=!0,(g||_)&&(p=!0)),V&&(L?(d=d.add(L),c=W?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),i.track({type:1,doc:E})}return{eu:d,ru:i,Ds:p,mutatedKeys:c}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((E,A)=>function(L,G){const W=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:V})}};return W(L)-W(G)}(E.type,A.type)||this.Xa(E.doc,A.doc)),this.su(i),o=o!=null&&o;const p=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,_=g!==this.Ya;return this.Ya=g,d.length!==0||_?{snapshot:new Eo(this.query,e.eu,c,d,e.mutatedKeys,g===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new sb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new CT(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new IT(i))}),n}uu(e){this.Ha=e.qs,this.Za=ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Eo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Wp="SyncEngine";class jI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class kI{constructor(e){this.key=e,this.lu=!1}}class VI{constructor(e,n,i,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new fa(p=>$E(p),Kh),this.Tu=new Map,this.Iu=new Set,this.du=new ct(ge.comparator),this.Eu=new Map,this.Au=new Up,this.Ru={},this.Vu=new Map,this.mu=bo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function PI(s,e,n=!0){const i=VT(s);let o;const c=i.Pu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await DT(i,e,n,!0),o}async function UI(s,e){const n=VT(s);await DT(n,e,!0,!1)}async function DT(s,e,n,i){const o=await sI(s.localStore,Er(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await LI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&xT(s.remoteStore,o),p}async function LI(s,e,n,i,o){s.gu=(A,S,L)=>async function(W,V,te,D){let Q=V.view.nu(te);Q.Ds&&(Q=await Wv(W.localStore,V.query,!1).then(({documents:M})=>V.view.nu(M,Q)));const ne=D&&D.targetChanges.get(V.targetId),oe=D&&D.targetMismatches.get(V.targetId)!=null,fe=V.view.applyChanges(Q,W.isPrimaryClient,ne,oe);return lb(W,V.targetId,fe._u),fe.snapshot}(s,A,S,L);const c=await Wv(s.localStore,e,!0),d=new MI(e,c.qs),p=d.nu(c.documents),g=Ec.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,g);lb(s,n,_._u);const E=new jI(e,n,d);return s.Pu.set(e,E),s.Tu.has(n)?s.Tu.get(n).push(e):s.Tu.set(n,[e]),_.snapshot}async function zI(s,e,n){const i=Ae(s),o=i.Pu.get(e),c=i.Tu.get(o.targetId);if(c.length>1)return i.Tu.set(o.targetId,c.filter(d=>!Kh(d,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await np(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&qp(i.remoteStore,o.targetId),ip(i,o.targetId)}).catch(So)):(ip(i,o.targetId),await np(i.localStore,o.targetId,!0))}async function BI(s,e){const n=Ae(s),i=n.Pu.get(e),o=n.Tu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),qp(n.remoteStore,i.targetId))}async function qI(s,e,n){const i=$I(s);try{const o=await function(d,p){const g=Ae(d),_=st.now(),E=p.reduce((L,G)=>L.add(G.key),ke());let A,S;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let G=cs(),W=ke();return g.Os.getEntries(L,E).next(V=>{G=V,G.forEach((te,D)=>{D.isValidDocument()||(W=W.add(te))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,G)).next(V=>{A=V;const te=[];for(const D of p){const Q=sN(D,A.get(D.key).overlayedDocument);Q!=null&&te.push(new mi(D.key,Q,BE(Q.value.mapValue),Hn.exists(!0)))}return g.mutationQueue.addMutationBatch(L,_,te,p)}).next(V=>{S=V;const te=V.applyToLocalDocumentSet(A,W);return g.documentOverlayCache.saveOverlays(L,V.batchId,te)})}).then(()=>({batchId:S.batchId,changes:WE(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,p,g){let _=d.Ru[d.currentUser.toKey()];_||(_=new ct(Ie)),_=_.insert(p,g),d.Ru[d.currentUser.toKey()]=_}(i,o.batchId,n),await xc(i,o.changes),await ed(i.remoteStore)}catch(o){const c=Kp(o,"Failed to persist write");n.reject(c)}}async function OT(s,e){const n=Ae(s);try{const i=await tI(n.localStore,e);e.targetChanges.forEach((o,c)=>{const d=n.Eu.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Ge(d.lu,14607):o.removedDocuments.size>0&&(Ge(d.lu,42227),d.lu=!1))}),await xc(n,i,e)}catch(i){await So(i)}}function ob(s,e,n){const i=Ae(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Pu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const g=Ae(d);g.onlineState=p;let _=!1;g.queries.forEach((E,A)=>{for(const S of A.wa)S.va(p)&&(_=!0)}),_&&Xp(g)}(i.eventManager,e),o.length&&i.hu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function HI(s,e,n){const i=Ae(s);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Eu.get(e),c=o&&o.key;if(c){let d=new ct(ge.comparator);d=d.insert(c,nn.newNoDocument(c,we.min()));const p=ke().add(c),g=new Zh(we.min(),new Map,new ct(Ie),d,p);await OT(i,g),i.du=i.du.remove(c),i.Eu.delete(e),Jp(i)}else await np(i.localStore,e,!1).then(()=>ip(i,e,n)).catch(So)}async function FI(s,e){const n=Ae(s),i=e.batch.batchId;try{const o=await eI(n.localStore,e);jT(n,i,null),MT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xc(n,o)}catch(o){await So(o)}}async function GI(s,e,n){const i=Ae(s);try{const o=await function(d,p){const g=Ae(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,p).next(A=>(Ge(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(_,A))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(i.localStore,e);jT(i,e,n),MT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await xc(i,o)}catch(o){await So(o)}}function MT(s,e){(s.Vu.get(e)||[]).forEach(n=>{n.resolve()}),s.Vu.delete(e)}function jT(s,e,n){const i=Ae(s);let o=i.Ru[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Ru[i.currentUser.toKey()]=o}}function ip(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Tu.get(e))s.Pu.delete(i),n&&s.hu.pu(i,n);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(i=>{s.Au.containsKey(i)||kT(s,i)})}function kT(s,e){s.Iu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(qp(s.remoteStore,n),s.du=s.du.remove(e),s.Eu.delete(n),Jp(s))}function lb(s,e,n){for(const i of n)i instanceof IT?(s.Au.addReference(i.key,e),QI(s,i)):i instanceof CT?(he(Wp,"Document no longer in limbo: "+i.key),s.Au.removeReference(i.key,e),s.Au.containsKey(i.key)||kT(s,i.key)):Ee(19791,{yu:i})}function QI(s,e){const n=e.key,i=n.path.canonicalString();s.du.get(n)||s.Iu.has(i)||(he(Wp,"New document in limbo: "+n),s.Iu.add(i),Jp(s))}function Jp(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const n=new ge(rt.fromString(e)),i=s.mu.next();s.Eu.set(i,new kI(n)),s.du=s.du.insert(n,i),xT(s.remoteStore,new $s(Er(Qh(n.path)),i,"TargetPurposeLimboResolution",Hh.ue))}}async function xc(s,e,n){const i=Ae(s),o=[],c=[],d=[];i.Pu.isEmpty()||(i.Pu.forEach((p,g)=>{d.push(i.gu(g,e,n).then(_=>{var E;if((_||n)&&i.isPrimaryClient){const A=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){o.push(_);const A=zp.Es(g.targetId,_);c.push(A)}}))}),await Promise.all(d),i.hu.J_(o),await async function(g,_){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(_,S=>ee.forEach(S.Is,L=>E.persistence.referenceDelegate.addReference(A,S.targetId,L)).next(()=>ee.forEach(S.ds,L=>E.persistence.referenceDelegate.removeReference(A,S.targetId,L)))))}catch(A){if(!Ro(A))throw A;he(Bp,"Failed to update sequence numbers: "+A)}for(const A of _){const S=A.targetId;if(!A.fromCache){const L=E.Fs.get(S),G=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(G);E.Fs=E.Fs.insert(S,W)}}}(i.localStore,c))}async function KI(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){he(Wp,"User change. New user:",e.toKey());const i=await vT(n.localStore,e);n.currentUser=e,function(c,d){c.Vu.forEach(p=>{p.forEach(g=>{g.reject(new ue(Z.CANCELLED,d))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xc(n,i.Bs)}}function YI(s,e){const n=Ae(s),i=n.Eu.get(e);if(i&&i.lu)return ke().add(i.key);{let o=ke();const c=n.Tu.get(e);if(!c)return o;for(const d of c){const p=n.Pu.get(d);o=o.unionWith(p.view.tu)}return o}}function VT(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HI.bind(null,e),e.hu.J_=DI.bind(null,e.eventManager),e.hu.pu=OI.bind(null,e.eventManager),e}function $I(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GI.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return JN(this.persistence,new XN,e.initialUser,this.serializer)}Du(e){return new _T(Lp.Vi,this.serializer)}bu(e){return new aI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class XI extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ge(this.persistence.referenceDelegate instanceof Ih,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new kN(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new _T(i=>Ih.Vi(i,n),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ob(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KI.bind(null,this.syncEngine),await NI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CI}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),i=function(c){return new hI(c)}(e.databaseInfo);return function(c,d,p,g){return new pI(c,d,p,g)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,c,d,p){return new yI(i,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,n=>ob(this.syncEngine,n,0),function(){return tb.C()?new tb:new oI}())}createSyncEngine(e,n){return function(o,c,d,p,g,_,E){const A=new VI(o,c,d,p,g,_);return E&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const c=Ae(o);he(ua,"RemoteStore shutting down."),c.Ia.add(5),await Tc(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class ZI{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async d=>{he(ci,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(he(ci,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Kp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Dm(s,e){s.asyncQueue.verifyOperationInProgress(),he(ci,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener(async o=>{i.isEqual(o)||(await vT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>{ri("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ri("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=e}async function cb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await WI(s);he(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(i=>rb(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,o)=>rb(e.remoteStore,o)),s._onlineComponents=e}async function WI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(ci,"Using user provided OfflineComponentProvider");try{await Dm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),await Dm(s,new Dh)}}else he(ci,"Using default OfflineComponentProvider"),await Dm(s,new XI(void 0));return s._offlineComponents}async function PT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(ci,"Using user provided OnlineComponentProvider"),await cb(s,s._uninitializedComponentsProvider._online)):(he(ci,"Using default OnlineComponentProvider"),await cb(s,new ap))),s._onlineComponents}function JI(s){return PT(s).then(e=>e.syncEngine)}async function Oh(s){const e=await PT(s),n=e.eventManager;return n.onListen=PI.bind(null,e.syncEngine),n.onUnlisten=zI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BI.bind(null,e.syncEngine),n}function e4(s,e,n={}){const i=new is;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,_){const E=new eg({next:S=>{E.Ou(),d.enqueueAndForget(()=>$p(c,A));const L=S.docs.has(p);!L&&S.fromCache?_.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&g&&g.source==="server"?_.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new Zp(Qh(p.path),E,{includeMetadataChanges:!0,ka:!0});return Yp(c,A)}(await Oh(s),s.asyncQueue,e,n,i)),i.promise}function t4(s,e,n={}){const i=new is;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,_){const E=new eg({next:S=>{E.Ou(),d.enqueueAndForget(()=>$p(c,A)),S.fromCache&&g.source==="server"?_.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new Zp(p,E,{includeMetadataChanges:!0,ka:!0});return Yp(c,A)}(await Oh(s),s.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firestore.googleapis.com",hb=!0;class db{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=hb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MN)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lR;switch(i.type){case"firstParty":return new dR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ub.get(n);i&&(he("ComponentProvider","Removing Datastore"),ub.delete(n),i.terminate())}(this),Promise.resolve()}}function n4(s,e,n,i={}){var o;s=gn(s,td);const c=di(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;c&&(up(`https://${g}`),hp("Firestore",!0)),d.host!==LT&&d.host!==g&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:g,ssl:c,emulatorOptions:i});if(!ia(_,p)&&(s._setSettings(_),i.mockUserToken)){let E,A;if(typeof i.mockUserToken=="string")E=i.mockUserToken,A=tn.MOCK_USER;else{E=Vb(i.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new tn(S)}s._authCredentials=new cR(new NE(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pi(this.firestore,e,this._query)}}class mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(vc(n,mt._jsonSchema))return new mt(e,i||null,new ge(rt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Rt("string",mt._jsonSchemaVersion),referencePath:Rt("string")};class Js extends pi{constructor(e,n,i){super(e,n,Qh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ge(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function $e(s,e,...n){if(s=lt(s),CE("collection","path",e),s instanceof td){const i=rt.fromString(e,...n);return Av(i),new Js(s,null,i)}{if(!(s instanceof mt||s instanceof Js))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...n));return Av(i),new Js(s.firestore,null,i)}}function yn(s,e,...n){if(s=lt(s),arguments.length===1&&(e=Rp.newId()),CE("doc","path",e),s instanceof td){const i=rt.fromString(e,...n);return wv(i),new mt(s,null,new ge(i))}{if(!(s instanceof mt||s instanceof Js))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...n));return wv(i),new mt(s.firestore,s instanceof Js?s.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="AsyncQueue";class mb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ET(this,"async_queue_retry"),this.oc=()=>{const i=Cm();i&&he(fb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new is;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ro(e))throw e;he(fb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,ls("INTERNAL UNHANDLED ERROR: ",pb(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,i,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:pb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function pb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(s,["next","error","complete"])}class us extends td{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new mb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mb(e),this._firestoreClient=void 0,await e}}}function r4(s,e){const n=typeof s=="object"?s:mp(),i=typeof s=="string"?s:wh,o=Uh(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=Mb("firestore");c&&n4(o,...c)}return o}function nd(s){if(s._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||s4(s),s._firestoreClient}function s4(s){var e,n,i;const o=s._freezeSettings(),c=function(p,g,_,E){return new NR(p,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,UT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new ZI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vc(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Rt("string",qn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(vc(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:Rt("string",xr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wr(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:Rt("string",wr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=/^__.*__$/;class a4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class zT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:s})}}class tg{constructor(e,n,i,o,c,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:i,mc:!1});return o.fc(e),o}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:i,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(BT(this.Ec)&&i4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class o4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Wh(e)}Dc(e,n,i,o=!1){return new tg({Ec:e,methodName:n,bc:i,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(s){const e=s._freezeSettings(),n=Wh(s._databaseId);return new o4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function qT(s,e,n,i,o,c={}){const d=s.Dc(c.merge||c.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",d,i);const p=HT(i,d);let g,_;if(c.merge)g=new Rn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const S=op(e,A,n);if(!d.contains(S))throw new ue(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);GT(E,S)||E.push(S)}g=new Rn(E),_=d.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,_=d.fieldTransforms;return new a4(new pn(p),g,_)}class ad extends sd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}class ng extends sd{_toFieldTransform(e){return new eN(e.path,new uc)}isEqual(e){return e instanceof ng}}function l4(s,e,n,i){const o=s.Dc(1,e,n);rg("Data must be an object, but it was:",o,i);const c=[],d=pn.empty();fi(i,(g,_)=>{const E=sg(e,g,n);_=lt(_);const A=o.gc(E);if(_ instanceof ad)c.push(E);else{const S=wc(_,A);S!=null&&(c.push(E),d.set(E,S))}});const p=new Rn(c);return new zT(d,p,o.fieldTransforms)}function c4(s,e,n,i,o,c){const d=s.Dc(1,e,n),p=[op(e,i,n)],g=[o];if(c.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(op(e,c[S])),g.push(c[S+1]);const _=[],E=pn.empty();for(let S=p.length-1;S>=0;--S)if(!GT(_,p[S])){const L=p[S];let G=g[S];G=lt(G);const W=d.gc(L);if(G instanceof ad)_.push(L);else{const V=wc(G,W);V!=null&&(_.push(L),E.set(L,V))}}const A=new Rn(_);return new zT(E,A,d.fieldTransforms)}function u4(s,e,n,i=!1){return wc(n,s.Dc(i?4:3,e))}function wc(s,e){if(FT(s=lt(s)))return rg("Unsupported field value:",e,s),HT(s,e);if(s instanceof sd)return function(i,o){if(!BT(o.Ec))throw o.wc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,o){const c=[];let d=0;for(const p of i){let g=wc(p,o.yc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(s,e)}return function(i,o){if((i=lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=st.fromDate(i);return{timestampValue:Nh(o.serializer,c)}}if(i instanceof st){const c=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,c)}}if(i instanceof xr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qn)return{bytesValue:uT(o.serializer,i._byteString)};if(i instanceof mt){const c=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof wr)return function(d,p){return{mapValue:{fields:{[LE]:{stringValue:zE},[Ah]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.wc("VectorValues must only contain numeric values.");return Mp(p.serializer,_)})}}}}}}(i,o);throw o.wc(`Unsupported field value: ${qh(i)}`)}(s,e)}function HT(s,e){const n={};return ME(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(s,(i,o)=>{const c=wc(o,e.Vc(i));c!=null&&(n[i]=c)}),{mapValue:{fields:n}}}function FT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof xr||s instanceof qn||s instanceof mt||s instanceof sd||s instanceof wr)}function rg(s,e,n){if(!FT(n)||!DE(n)){const i=qh(n);throw i==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+i)}}function op(s,e,n){if((e=lt(e))instanceof rd)return e._internalPath;if(typeof e=="string")return sg(s,e);throw Mh("Field path arguments must be of type string or ",s,!1,void 0,n)}const h4=new RegExp("[~\\*/\\[\\]]");function sg(s,e,n){if(e.search(h4)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new rd(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Mh(s,e,n,i,o){const c=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${i}`),d&&(g+=` in document ${o}`),g+=")"),new ue(Z.INVALID_ARGUMENT,p+s+g)}function GT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(od("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d4 extends QT{data(){return super.data()}}function od(s,e){return typeof e=="string"?sg(s,e):e instanceof rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class YT extends ig{}function Ar(s,e,...n){let i=[];e instanceof ig&&i.push(e),i=i.concat(n),function(c){const d=c.filter(g=>g instanceof ag).length,p=c.filter(g=>g instanceof ld).length;if(d>1||d>0&&p>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)s=o._apply(s);return s}class ld extends YT{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ld(e,n,i)}_apply(e){const n=this._parse(e);return $T(e._query,n),new pi(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=id(e.firestore);return function(c,d,p,g,_,E,A){let S;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_b(A,E);const G=[];for(const W of A)G.push(yb(g,c,W));S={arrayValue:{values:G}}}else S=yb(g,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_b(A,E),S=u4(p,d,A,E==="in"||E==="not-in");return St.create(_,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sr(s,e,n){const i=e,o=od("where",s);return ld._create(o,i,n)}class ag extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)$T(d,g),d=Xm(d,g)}(e._query,n),new pi(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends YT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=function(o,c,d){if(o.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(c,d)}(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new No(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function f4(s,e="asc"){const n=e,i=od("orderBy",s);return og._create(i,n)}function yb(s,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mv(s,new ge(i))}if(n instanceof mt)return Mv(s,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function _b(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $T(s,e){const n=function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class m4{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return fi(e,(o,c)=>{i[o]=this.convertValue(c,n)}),i}convertVectorValue(e){var n,i,o;const c=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>bt(d.doubleValue));return new wr(c)}convertGeoPoint(e){return new xr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Gh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=ii(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=rt.fromString(e);Ge(gT(i),9688,{name:e});const o=new oc(i.get(1),i.get(3)),c=new ge(i.popFirst(5));return o.isEqual(n)||ls(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(s,e,n){let i;return i=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,i}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends QT{constructor(e,n,i,o,c,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(od("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Rt("string",na._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class fh extends na{data(e={}){return super.data(e)}}class ra{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new fh(this._firestore,this._userDataWriter,i.key,i,new Yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const g=new fh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Yl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new fh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Yl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:p4(p.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(s){s=gn(s,mt);const e=gn(s.firestore,us);return e4(nd(e),s._key).then(n=>ZT(e,s,n))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Rt("string",ra._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class lg extends m4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Bt(s){s=gn(s,pi);const e=gn(s.firestore,us),n=nd(e),i=new lg(e);return KT(s._query),t4(n,s._query).then(o=>new ra(e,i,s,o))}function Om(s,e,n){s=gn(s,mt);const i=gn(s.firestore,us),o=XT(s.converter,e,n);return cd(i,[qT(id(i),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Hn.none())])}function To(s,e,n,...i){s=gn(s,mt);const o=gn(s.firestore,us),c=id(o);let d;return d=typeof(e=lt(e))=="string"||e instanceof rd?c4(c,"updateDoc",s._key,e,n,i):l4(c,"updateDoc",s._key,e),cd(o,[d.toMutation(s._key,Hn.exists(!0))])}function Co(s){return cd(gn(s.firestore,us),[new jp(s._key,Hn.none())])}function hs(s,e){const n=gn(s.firestore,us),i=yn(s),o=XT(s.converter,e);return cd(n,[qT(id(s.firestore),"addDoc",i._key,o,s.converter!==null,{}).toMutation(i._key,Hn.exists(!1))]).then(()=>i)}function vb(s,...e){var n,i,o;s=lt(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||gb(e[d])||(c=e[d++]);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(gb(e[d])){const A=e[d];e[d]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[d+1]=(i=A.error)===null||i===void 0?void 0:i.bind(A),e[d+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let g,_,E;if(s instanceof mt)_=gn(s.firestore,us),E=Qh(s._key.path),g={next:A=>{e[d]&&e[d](ZT(_,s,A))},error:e[d+1],complete:e[d+2]};else{const A=gn(s,pi);_=gn(A.firestore,us),E=A._query;const S=new lg(_);g={next:L=>{e[d]&&e[d](new ra(_,S,A,L))},error:e[d+1],complete:e[d+2]},KT(s._query)}return function(S,L,G,W){const V=new eg(W),te=new Zp(L,V,G);return S.asyncQueue.enqueueAndForget(async()=>Yp(await Oh(S),te)),()=>{V.Ou(),S.asyncQueue.enqueueAndForget(async()=>$p(await Oh(S),te))}}(nd(_),E,p,g)}function cd(s,e){return function(i,o){const c=new is;return i.asyncQueue.enqueueAndForget(async()=>qI(await JI(i),o,c)),c.promise}(nd(s),e)}function ZT(s,e,n){const i=n.docs.get(e._key),o=new lg(s);return new na(s,o,e._key,i,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function bb(){return new ng("serverTimestamp")}(function(e,n=!0){(function(o){Ao=o})(da),aa(new ni("firestore",(i,{instanceIdentifier:o,options:c})=>{const d=i.getProvider("app").getImmediate(),p=new us(new uR(i.getProvider("auth-internal")),new fR(d,i.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(_.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),vr(vv,bv,e),vr(vv,bv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebasestorage.googleapis.com",JT="storageBucket",y4=2*60*1e3,_4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Nr{constructor(e,n,i=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Mm(s){return"storage/"+s}function cg(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,s)}function v4(s){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function b4(s){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function E4(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,s)}function T4(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x4(s){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function w4(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A4(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function S4(s){return new gt(pt.INVALID_URL,"Invalid URL '"+s+"'.")}function R4(s){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function N4(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}function I4(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C4(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function D4(s){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lp(s){return new gt(pt.INVALID_ARGUMENT,s)}function ex(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function O4(s){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tc(s,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function ql(s){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Nn.makeFromUrl(e,n)}catch{return new Nn(e,"")}if(i.path==="")return i;throw R4(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function _(ne){ne.path_=decodeURIComponent(ne.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",L=new RegExp(`^https?://${A}/${E}/b/${o}/o${S}`,"i"),G={bucket:1,path:3},W=n===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",te=new RegExp(`^https?://${W}/${o}/${V}`,"i"),Q=[{regex:p,indices:g,postModify:c},{regex:L,indices:G,postModify:_},{regex:te,indices:{bucket:1,path:2},postModify:_}];for(let ne=0;ne<Q.length;ne++){const oe=Q[ne],fe=oe.regex.exec(e);if(fe){const M=fe[oe.indices.bucket];let x=fe[oe.indices.path];x||(x=""),i=new Nn(M,x),oe.postModify(i);break}}if(i==null)throw S4(e);return i}}class M4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(s,e,n){let i=1,o=null,c=null,d=!1,p=0;function g(){return p===2}let _=!1;function E(...V){_||(_=!0,e.apply(null,V))}function A(V){o=setTimeout(()=>{o=null,s(L,g())},V)}function S(){c&&clearTimeout(c)}function L(V,...te){if(_){S();return}if(V){S(),E.call(null,V,...te);return}if(g()||d){S(),E.call(null,V,...te);return}i<64&&(i*=2);let Q;p===1?(p=2,Q=0):Q=(i+Math.random())*1e3,A(Q)}let G=!1;function W(V){G||(G=!0,S(),!_&&(o!==null?(V||(p=2),clearTimeout(o),A(0)):V||(p=1)))}return A(0),c=setTimeout(()=>{d=!0,W(!0)},n),W}function k4(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(s){return s!==void 0}function P4(s){return typeof s=="object"&&!Array.isArray(s)}function ug(s){return typeof s=="string"||s instanceof String}function Eb(s){return hg()&&s instanceof Blob}function hg(){return typeof Blob<"u"}function Tb(s,e,n,i){if(i<e)throw lp(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>n)throw lp(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(s,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${s}`}function tx(s){const e=encodeURIComponent;let n="?";for(const i in s)if(s.hasOwnProperty(i)){const o=e(i)+"="+e(s[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var sa;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(sa||(sa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,i,o,c,d,p,g,_,E,A,S=!0,L=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=A,this.retry=S,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,W)=>{this.resolve_=G,this.reject_=W,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new th(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const g=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===sa.NO_ERROR,g=c.getStatus();if(!p||U4(g,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===sa.ABORT;i(!1,new th(!1,null,E));return}const _=this.successCodes_.indexOf(g)!==-1;i(!0,new th(_,c))})},n=(i,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());V4(g)?c(g):c()}catch(g){d(g)}else if(p!==null){const g=cg();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?ex():A4();d(g)}else{const g=w4();d(g)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=j4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function z4(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function B4(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q4(s,e){e&&(s["X-Firebase-GMPID"]=e)}function H4(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function F4(s,e,n,i,o,c,d=!0,p=!1){const g=tx(s.urlParams),_=s.url+g,E=Object.assign({},s.headers);return q4(E,e),z4(E,n),B4(E,c),H4(E,i),new L4(_,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Q4(...s){const e=G4();if(e!==void 0){const n=new e;for(let i=0;i<s.length;i++)n.append(s[i]);return n.getBlob()}else{if(hg())return new Blob(s);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function K4(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(s){if(typeof atob>"u")throw D4("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jm{constructor(e,n){this.data=e,this.contentType=n||null}}function $4(s,e){switch(s){case _r.RAW:return new jm(nx(e));case _r.BASE64:case _r.BASE64URL:return new jm(rx(s,e));case _r.DATA_URL:return new jm(Z4(e),W4(e))}throw cg()}function nx(s){const e=[];for(let n=0;n<s.length;n++){let i=s.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=i,d=s.charCodeAt(++n);i=65536|(c&1023)<<10|d&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function X4(s){let e;try{e=decodeURIComponent(s)}catch{throw tc(_r.DATA_URL,"Malformed data URL.")}return nx(e)}function rx(s,e){switch(s){case _r.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw tc(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw tc(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Y4(e)}catch(o){throw o.message.includes("polyfill")?o:tc(s,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class sx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw tc(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=J4(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Z4(s){const e=new sx(s);return e.base64?rx(_r.BASE64,e.rest):X4(e.rest)}function W4(s){return new sx(s).contentType}function J4(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){let i=0,o="";Eb(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Eb(this.data_)){const i=this.data_,o=K4(i,e,n);return o===null?null:new Ys(o)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ys(i,!0)}}static getBlob(...e){if(hg()){const n=e.map(i=>i instanceof Ys?i.data_:i);return new Ys(Q4.apply(null,n))}else{const n=e.map(d=>ug(d)?$4(_r.RAW,d).data:d.data_);let i=0;n.forEach(d=>{i+=d.byteLength});const o=new Uint8Array(i);let c=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)o[c++]=d[p]}),new Ys(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(s){let e;try{e=JSON.parse(s)}catch{return null}return P4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function tC(s,e){const n=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?n:s+"/"+n}function ax(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(s,e){return e}class cn{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||nC}}let nh=null;function rC(s){return!ug(s)||s.length<2?s:ax(s)}function ox(){if(nh)return nh;const s=[];s.push(new cn("bucket")),s.push(new cn("generation")),s.push(new cn("metageneration")),s.push(new cn("name","fullPath",!0));function e(c,d){return rC(d)}const n=new cn("name");n.xform=e,s.push(n);function i(c,d){return d!==void 0?Number(d):d}const o=new cn("size");return o.xform=i,s.push(o),s.push(new cn("timeCreated")),s.push(new cn("updated")),s.push(new cn("md5Hash",null,!0)),s.push(new cn("cacheControl",null,!0)),s.push(new cn("contentDisposition",null,!0)),s.push(new cn("contentEncoding",null,!0)),s.push(new cn("contentLanguage",null,!0)),s.push(new cn("contentType",null,!0)),s.push(new cn("metadata","customMetadata",!0)),nh=s,nh}function sC(s,e){function n(){const i=s.bucket,o=s.fullPath,c=new Nn(i,o);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function iC(s,e,n){const i={};i.type="file";const o=n.length;for(let c=0;c<o;c++){const d=n[c];i[d.local]=d.xform(i,e[d.server])}return sC(i,s),i}function lx(s,e,n){const i=ix(e);return i===null?null:iC(s,i,n)}function aC(s,e,n,i){const o=ix(e);if(o===null||!ug(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(_=>{const E=s.bucket,A=s.fullPath,S="/b/"+d(E)+"/o/"+d(A),L=dg(S,n,i),G=tx({alt:"media",token:_});return L+G})[0]}function oC(s,e){const n={},i=e.length;for(let o=0;o<i;o++){const c=e[o];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class cx{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(s){if(!s)throw cg()}function lC(s,e){function n(i,o){const c=lx(s,o,e);return ux(c!==null),c}return n}function cC(s,e){function n(i,o){const c=lx(s,o,e);return ux(c!==null),aC(c,o,s.host,s._protocol)}return n}function hx(s){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=T4():o=E4():n.getStatus()===402?o=b4(s.bucket):n.getStatus()===403?o=x4(s.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function uC(s){const e=hx(s);function n(i,o){let c=e(i,o);return i.getStatus()===404&&(c=v4(s.path)),c.serverResponse=o.serverResponse,c}return n}function hC(s,e,n){const i=e.fullServerUrl(),o=dg(i,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,p=new cx(o,c,cC(s,n),d);return p.errorHandler=uC(e),p}function dC(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function fC(s,e,n){const i=Object.assign({},n);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=dC(null,e)),i}function mC(s,e,n,i,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let Q="";for(let ne=0;ne<2;ne++)Q=Q+Math.random().toString().slice(2);return Q}const g=p();d["Content-Type"]="multipart/related; boundary="+g;const _=fC(e,i,o),E=oC(_,n),A="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+_.contentType+`\r
\r
`,S=`\r
--`+g+"--",L=Ys.getBlob(A,i,S);if(L===null)throw I4();const G={name:_.fullPath},W=dg(c,s.host,s._protocol),V="POST",te=s.maxUploadRetryTime,D=new cx(W,V,lC(s,n),te);return D.urlParams=G,D.headers=d,D.body=L.uploadData(),D.errorHandler=hx(e),D}class pC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,c){if(this.sent_)throw ql("cannot .send() more than once");if(di(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gC extends pC{initXhr(){this.xhr_.responseType="text"}}function dx(){return new gC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this._service=e,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ha(e,n)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ax(this._location.path)}get storage(){return this._service}get parent(){const e=eC(this._location.path);if(e===null)return null;const n=new Nn(this._location.bucket,e);return new ha(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O4(e)}}function yC(s,e,n){s._throwIfRoot("uploadBytes");const i=mC(s.storage,s._location,ox(),new Ys(e,!0),n);return s.storage.makeRequestWithTokens(i,dx).then(o=>({metadata:o,ref:s}))}function _C(s){s._throwIfRoot("getDownloadURL");const e=hC(s.storage,s._location,ox());return s.storage.makeRequestWithTokens(e,dx).then(n=>{if(n===null)throw C4();return n})}function vC(s,e){const n=tC(s._location.path,e),i=new Nn(s._location.bucket,n);return new ha(s.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(s){return/^[A-Za-z]+:\/\//.test(s)}function EC(s,e){return new ha(s,e)}function fx(s,e){if(s instanceof fg){const n=s;if(n._bucket==null)throw N4();const i=new ha(n,n._bucket);return e!=null?fx(i,e):i}else return e!==void 0?vC(s,e):s}function TC(s,e){if(e&&bC(e)){if(s instanceof fg)return EC(s,e);throw lp("To use ref(service, url), the first argument must be a Storage instance.")}else return fx(s,e)}function xb(s,e){const n=e==null?void 0:e[JT];return n==null?null:Nn.makeFromBucketSpec(n,s)}function xC(s,e,n,i={}){s.host=`${e}:${n}`;const o=di(e);o&&(up(`https://${s.host}/b`),hp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(s._overrideAuthToken=typeof c=="string"?c:Vb(c,s.app.options.projectId))}class fg{constructor(e,n,i,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y4,this._maxUploadRetryTime=_4,this._requests=new Set,o!=null?this._bucket=Nn.makeFromBucketSpec(o,this._host):this._bucket=xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,n,i,o,c=!0){if(this._deleted)return new M4(ex());{const d=F4(e,this._appId,i,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const wb="@firebase/storage",Ab="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="storage";function mg(s,e,n){return s=lt(s),yC(s,e,n)}function pg(s){return s=lt(s),_C(s)}function gg(s,e){return s=lt(s),TC(s,e)}function wC(s=mp(),e){s=lt(s);const i=Uh(s,mx).getImmediate({identifier:e}),o=Mb("storage");return o&&AC(i,...o),i}function AC(s,e,n,i={}){xC(s,e,n,i)}function SC(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new fg(n,i,o,e,da)}function RC(){aa(new ni(mx,SC,"PUBLIC").setMultipleInstances(!0)),vr(wb,Ab,""),vr(wb,Ab,"esm2017")}RC();const NC={apiKey:"AIzaSyAQH6YGo1dhkarnq5XZI37Nh0u1fvFny_Y",authDomain:"south-para-youth-society-1.firebaseapp.com",projectId:"south-para-youth-society-1",storageBucket:"south-para-youth-society-1.firebasestorage.app",messagingSenderId:"914452668664",appId:"1:914452668664:web:8bddab57ab049ab26f5b0d",measurementId:"G-TGCM5CG3E0"},yg=Lb(NC),oo=aR(yg),IC=new ts,Se=r4(yg),_g=wC(yg),px=ae.createContext(),Do=()=>{const s=ae.useContext(px);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},CC=({children:s})=>{const[e,n]=ae.useState(null),[i,o]=ae.useState(!0);ae.useEffect(()=>YS(oo,S=>{n(S),o(!1)}),[]);const E={user:e,loading:i,loginWithGoogle:async()=>{try{return(await p2(oo,IC)).user}catch(A){throw console.error("Google login error:",A),A}},login:async(A,S)=>{try{return(await GS(oo,A,S)).user}catch(L){throw console.error("Email login error:",L),L}},register:async(A,S)=>{try{return(await FS(oo,A,S)).user}catch(L){throw console.error("Email registration error:",L),L}},logout:async()=>{try{await $S(oo)}catch(A){throw console.error("Logout error:",A),A}},resetPassword:async A=>{try{await HS(oo,A)}catch(S){throw console.error("Password reset error:",S),S}}};return m.jsx(px.Provider,{value:E,children:!i&&s})},gx=ae.createContext(),vg=()=>{const s=ae.useContext(gx);if(!s)throw new Error("useUserRole must be used within a UserRoleProvider");return s},DC=({children:s})=>{const{user:e}=Do(),[n,i]=ae.useState(null),[o,c]=ae.useState(!0),d=["admin@example.com","southparayouthsociety@gmail.com"];ae.useEffect(()=>{(async()=>{if(!e){i(null),c(!1);return}try{console.log("Current user email:",e.email),console.log("Admin emails:",d);const A=d.includes(e.email);console.log("Is admin:",A);const S=yn(Se,"users",e.uid),L=await g4(S);let G="public";L.exists()?(G=L.data().role||(A?"admin":"public"),A&&G!=="admin"&&(G="admin",await Om(S,{role:"admin"},{merge:!0}))):(G=A?"admin":"public",await Om(S,{email:e.email,displayName:e.displayName||"",role:G,createdAt:new Date,lastLogin:new Date})),await Om(S,{lastLogin:new Date},{merge:!0}),console.log("Final role:",G),i(G)}catch(A){console.error("Error fetching user role:",A);const S=d.includes(e.email);i(S?"admin":"public")}finally{c(!1)}})()},[e]);const _={userRole:n,loading:o,isAdmin:()=>(console.log("Checking isAdmin, userRole:",n),n==="admin"),isPublic:()=>n==="public"};return m.jsx(gx.Provider,{value:_,children:s})};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Sb=s=>{const e=MC(s);return e.charAt(0).toUpperCase()+e.slice(1)},yx=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),jC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=ae.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...p},g)=>ae.createElement("svg",{ref:g,...kC,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:yx("lucide",o),...!c&&!jC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>ae.createElement(_,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(s,e)=>{const n=ae.forwardRef(({className:i,...o},c)=>ae.createElement(VC,{ref:c,iconNode:e,className:yx(`lucide-${OC(Sb(s))}`,`lucide-${s}`,i),...o}));return n.displayName=Sb(s),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],bg=ze("calculator",PC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xo=ze("calendar",UC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_x=ze("chart-column",LC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jh=ze("check",zC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qC=ze("circle-alert",BC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],km=ze("circle-check-big",HC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ud=ze("clock",FC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Rb=ze("crown",GC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rh=ze("dollar-sign",QC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vx=ze("download",KC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Nb=ze("eye-off",YC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ui=ze("eye",$C);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],ZC=ze("facebook",XC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bx=ze("file-text",WC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],eD=ze("github",JC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nD=ze("image",tD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],sD=ze("instagram",rD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ex=ze("log-out",iD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Tx=ze("menu",aD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],kh=ze("message-circle",oD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],xx=ze("play",lD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hd=ze("plus",cD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hD=ze("refresh-cw",uD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wx=ze("send",dD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vh=ze("shield",fD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pD=ze("square-pen",mD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dd=ze("trash-2",gD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Eg=ze("upload",yD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ei=ze("user-plus",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hi=ze("user",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fd=ze("users",bD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],TD=ze("video",ED);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ti=ze("x",xD),wD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!1),[o,c]=ae.useState(null),[d,p]=ae.useState(!1),[g,_]=ae.useState({name:"",phone:"",email:"",address:"",photo:null});ae.useEffect(()=>{E()},[]);const E=async()=>{try{const Q=(await Bt($e(Se,"members"))).docs.map(ne=>({id:ne.id,...ne.data()}));e(Q)}catch(D){console.error("Error fetching members:",D)}},A=D=>{const{name:Q,value:ne}=D.target;_(oe=>({...oe,[Q]:ne}))},S=D=>{const Q=D.target.files[0];_(ne=>({...ne,photo:Q}))},L=async D=>{if(!D)return null;const Q=gg(_g,`member-photos/${Date.now()}-${D.name}`),ne=await mg(Q,D);return await pg(ne.ref)},G=async D=>{D.preventDefault(),p(!0);try{let Q=null;g.photo&&(Q=await L(g.photo));const ne={name:g.name,phone:g.phone,email:g.email,address:g.address,photoURL:Q||(o==null?void 0:o.photoURL)||null,createdAt:o?o.createdAt:new Date,updatedAt:new Date};o?await To(yn(Se,"members",o.id),ne):await hs($e(Se,"members"),ne),_({name:"",phone:"",email:"",address:"",photo:null}),i(!1),c(null),E()}catch(Q){console.error("Error saving member:",Q)}finally{p(!1)}},W=D=>{c(D),_({name:D.name,phone:D.phone,email:D.email,address:D.address,photo:null}),i(!0)},V=async D=>{if(window.confirm("আপনি কি এই সদস্যকে মুছে ফেলতে চান?"))try{await Co(yn(Se,"members",D)),E()}catch(Q){console.error("Error deleting member:",Q)}},te=()=>{_({name:"",phone:"",email:"",address:"",photo:null}),i(!1),c(null)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সদস্য লিস্ট"}),m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-300",children:[m.jsx(hd,{className:"w-5 h-5"}),m.jsx("span",{children:"নতুন সদস্য যোগ করুন"})]})]}),n&&m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:o?"সদস্য সম্পাদনা করুন":"নতুন সদস্য যোগ করুন"}),m.jsxs("form",{onSubmit:G,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",name:"name",placeholder:"নাম",value:g.name,onChange:A,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"tel",name:"phone",placeholder:"ফোন নাম্বার",value:g.phone,onChange:A,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"email",name:"email",placeholder:"ইমেইল",value:g.email,onChange:A,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"text",name:"address",placeholder:"ঠিকানা",value:g.address,onChange:A,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300 mb-2",children:"ছবি আপলোড করুন"}),m.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-cyan-500 file:text-white hover:file:bg-cyan-600"})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{type:"submit",disabled:d,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-3 rounded-lg transition-all duration-300 disabled:opacity-50",children:[m.jsx(Eg,{className:"w-5 h-5"}),m.jsx("span",{children:d?"সংরক্ষণ করা হচ্ছে...":"সংরক্ষণ করুন"})]}),m.jsx("button",{type:"button",onClick:te,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-300",children:"বাতিল"})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(D=>m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-cyan-500/50 transition-all duration-300",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[m.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-700",children:D.photoURL?m.jsx("img",{src:D.photoURL,alt:D.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(hi,{className:"w-10 h-10 text-gray-400"})})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:D.name}),m.jsx("p",{className:"text-gray-300",children:D.phone}),D.email&&m.jsx("p",{className:"text-gray-400 text-sm",children:D.email}),D.address&&m.jsx("p",{className:"text-gray-400 text-sm",children:D.address})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>W(D),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(pD,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>V(D.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(dd,{className:"w-4 h-4"})})]})]})},D.id))}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(hi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন সদস্য পাওয়া যায়নি"}),m.jsx("p",{className:"text-gray-500",children:"নতুন সদস্য যোগ করতে উপরের বাটনে ক্লিক করুন"})]})]})},AD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!1),[o,c]=ae.useState(!1),[d,p]=ae.useState({title:"",description:"",amount:"",type:"income",file:null});ae.useEffect(()=>{g()},[]);const g=async()=>{try{const Q=(await Bt($e(Se,"accounts"))).docs.map(ne=>({id:ne.id,...ne.data()}));Q.sort((ne,oe)=>{var x,R;const fe=(x=ne.createdAt)!=null&&x.toDate?ne.createdAt.toDate():new Date(0);return((R=oe.createdAt)!=null&&R.toDate?oe.createdAt.toDate():new Date(0))-fe}),e(Q)}catch(D){console.error("Error fetching accounts:",D)}},_=D=>{const{name:Q,value:ne}=D.target;p(oe=>({...oe,[Q]:ne}))},E=D=>{const Q=D.target.files[0];p(ne=>({...ne,file:Q}))},A=async D=>{if(!D)return null;const Q=gg(_g,`account-documents/${Date.now()}-${D.name}`),ne=await mg(Q,D);return await pg(ne.ref)},S=async D=>{var Q;D.preventDefault(),c(!0);try{let ne=null;d.file&&(ne=await A(d.file));const oe={title:d.title,description:d.description,amount:parseFloat(d.amount),type:d.type,fileURL:ne,fileName:((Q=d.file)==null?void 0:Q.name)||null,createdAt:new Date};await hs($e(Se,"accounts"),oe),p({title:"",description:"",amount:"",type:"income",file:null}),i(!1),g()}catch(ne){console.error("Error saving account:",ne)}finally{c(!1)}},L=async D=>{if(window.confirm("আপনি কি এই হিসাব মুছে ফেলতে চান?"))try{await Co(yn(Se,"accounts",D)),g()}catch(Q){console.error("Error deleting account:",Q)}},G=()=>{p({title:"",description:"",amount:"",type:"income",file:null}),i(!1)},W=()=>s.filter(D=>D.type==="income").reduce((D,Q)=>D+Q.amount,0),V=()=>s.filter(D=>D.type==="expense").reduce((D,Q)=>D+Q.amount,0),te=()=>W()-V();return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সংগঠন হিসাব"}),m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-300",children:[m.jsx(hd,{className:"w-5 h-5"}),m.jsx("span",{children:"নতুন হিসাব যোগ করুন"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx("div",{className:"bg-green-600/20 border border-green-500/30 rounded-2xl p-6",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"p-3 bg-green-500 rounded-full",children:m.jsx(rh,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-green-300 text-sm",children:"মোট আয়"}),m.jsxs("p",{className:"text-2xl font-bold text-white",children:["৳",W().toLocaleString()]})]})]})}),m.jsx("div",{className:"bg-red-600/20 border border-red-500/30 rounded-2xl p-6",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"p-3 bg-red-500 rounded-full",children:m.jsx(rh,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-red-300 text-sm",children:"মোট খরচ"}),m.jsxs("p",{className:"text-2xl font-bold text-white",children:["৳",V().toLocaleString()]})]})]})}),m.jsx("div",{className:`${te()>=0?"bg-blue-600/20 border-blue-500/30":"bg-orange-600/20 border-orange-500/30"} border rounded-2xl p-6`,children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:`p-3 ${te()>=0?"bg-blue-500":"bg-orange-500"} rounded-full`,children:m.jsx(rh,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:`${te()>=0?"text-blue-300":"text-orange-300"} text-sm`,children:"ব্যালেন্স"}),m.jsxs("p",{className:"text-2xl font-bold text-white",children:["৳",te().toLocaleString()]})]})]})})]}),n&&m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"নতুন হিসাব যোগ করুন"}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",name:"title",placeholder:"শিরোনাম",value:d.title,onChange:_,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsxs("select",{name:"type",value:d.type,onChange:_,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20",children:[m.jsx("option",{value:"income",children:"আয়"}),m.jsx("option",{value:"expense",children:"খরচ"})]})]}),m.jsx("input",{type:"number",name:"amount",placeholder:"পরিমাণ (টাকা)",value:d.amount,onChange:_,required:!0,min:"0",step:"0.01",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("textarea",{name:"description",placeholder:"বিবরণ",value:d.description,onChange:_,rows:"3",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300 mb-2",children:"ডকুমেন্ট আপলোড করুন (ঐচ্ছিক)"}),m.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:E,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-cyan-500 file:text-white hover:file:bg-cyan-600"})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-3 rounded-lg transition-all duration-300 disabled:opacity-50",children:[m.jsx(Eg,{className:"w-5 h-5"}),m.jsx("span",{children:o?"সংরক্ষণ করা হচ্ছে...":"সংরক্ষণ করুন"})]}),m.jsx("button",{type:"button",onClick:G,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-300",children:"বাতিল"})]})]})]}),m.jsx("div",{className:"space-y-4",children:s.map(D=>{var Q;return m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-cyan-500/50 transition-all duration-300",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:D.title}),m.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${D.type==="income"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:D.type==="income"?"আয়":"খরচ"})]}),m.jsx("p",{className:"text-gray-300 mb-2",children:D.description}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("p",{className:`text-xl font-bold ${D.type==="income"?"text-green-400":"text-red-400"}`,children:["৳",D.amount.toLocaleString()]}),m.jsx("p",{className:"text-gray-400 text-sm",children:(Q=D.createdAt)==null?void 0:Q.toDate().toLocaleDateString("bn-BD")})]}),D.fileURL&&m.jsx("div",{className:"mt-3",children:m.jsxs("a",{href:D.fileURL,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-cyan-400 hover:text-cyan-300 transition-colors duration-200",children:[m.jsx(bx,{className:"w-4 h-4"}),m.jsx("span",{children:D.fileName}),m.jsx(vx,{className:"w-4 h-4"})]})})]}),m.jsx("button",{onClick:()=>L(D.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(dd,{className:"w-4 h-4"})})]})},D.id)})}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(rh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন হিসাব পাওয়া যায়নি"}),m.jsx("p",{className:"text-gray-500",children:"নতুন হিসাব যোগ করতে উপরের বাটনে ক্লিক করুন"})]})]})},SD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!1),[o,c]=ae.useState(!1),[d,p]=ae.useState({}),{isAdmin:g}=vg(),[_,E]=ae.useState({name:"",phone:"",email:"",address:"",reason:"",experience:""});ae.useEffect(()=>{A()},[]);const A=async()=>{try{const R=(await Bt($e(Se,"memberApplications"))).docs.map(C=>({id:C.id,...C.data()}));R.sort((C,k)=>{var U,I;return new Date((U=k.createdAt)==null?void 0:U.toDate())-new Date((I=C.createdAt)==null?void 0:I.toDate())}),e(R)}catch(x){console.error("Error fetching applications:",x)}},S=x=>{const{name:R,value:C}=x.target;E(k=>({...k,[R]:C}))},L=async x=>{x.preventDefault(),c(!0);try{const R={..._,status:"pending",createdAt:new Date};console.log("Submitting application data:",R),await hs($e(Se,"memberApplications"),R),E({name:"",phone:"",email:"",address:"",reason:"",experience:""}),i(!1),A(),alert("আবেদন সফলভাবে জমা দেওয়া হয়েছে!")}catch(R){console.error("Error submitting application:",R.message),alert("আবেদন জমা দিতে সমস্যা হয়েছে। Firebase permissions চেক করুন অথবা পরে আবার চেষ্টা করুন।")}finally{c(!1)}},G=async(x,R)=>{try{if(x){const C=Ar($e(Se,"members"),Sr("email","==",x));if(!(await Bt(C)).empty)return{exists:!0,field:"email"}}if(R){const C=Ar($e(Se,"members"),Sr("phone","==",R));if(!(await Bt(C)).empty)return{exists:!0,field:"phone"}}return{exists:!1}}catch(C){return console.error("Error checking member existence:",C),{exists:!1}}},W=async x=>{try{p(k=>({...k,[x.id]:!0}));const R=await G(x.email,x.phone);if(R.exists)return alert(`এই সদস্য ইতিমধ্যে সদস্য তালিকায় রয়েছে (${R.field==="email"?"ইমেইল":"ফোন নম্বর"} দিয়ে)!`),!1;const C={name:x.name,phone:x.phone,email:x.email||"",address:x.address||"",photoURL:null,createdAt:new Date,updatedAt:new Date,addedFrom:"application",applicationId:x.id};return await hs($e(Se,"members"),C),console.log("Member successfully added to members list:",C),!0}catch(R){return console.error("Error transferring to members list:",R),alert("সদস্য তালিকায় যুক্ত করতে সমস্যা হয়েছে। পরে আবার চেষ্টা করুন।"),!1}finally{p(R=>({...R,[x.id]:!1}))}},V=async(x,R)=>{try{const C=s.find(k=>k.id===x);R==="approved"?window.confirm(`আপনি কি "${C.name}" এর আবেদন অনুমোদন করে তাকে সদস্য তালিকায় যুক্ত করতে চান?`)&&await W(C)&&(await To(yn(Se,"memberApplications",x),{status:R,updatedAt:new Date,transferredToMembers:!0,transferredAt:new Date}),alert(`${C.name} সফলভাবে সদস্য তালিকায় যুক্ত হয়েছে!`),A()):(await To(yn(Se,"memberApplications",x),{status:R,updatedAt:new Date}),A())}catch(C){console.error("Error updating application status:",C),alert("আবেদনের স্ট্যাটাস আপডেট করতে সমস্যা হয়েছে।")}},te=async x=>{if(window.confirm("আপনি কি এই আবেদন মুছে ফেলতে চান?"))try{await Co(yn(Se,"memberApplications",x)),A()}catch(R){console.error("Error deleting application:",R)}},D=()=>{E({name:"",phone:"",email:"",address:"",reason:"",experience:""}),i(!1)},Q=x=>{switch(x){case"approved":return"bg-green-500/20 text-green-300 border-green-500/30";case"rejected":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"}},ne=x=>{switch(x){case"approved":return"অনুমোদিত";case"rejected":return"প্রত্যাখ্যাত";default:return"অপেক্ষমাণ"}},oe=x=>{switch(x){case"approved":return m.jsx(jh,{className:"w-4 h-4"});case"rejected":return m.jsx(ti,{className:"w-4 h-4"});default:return m.jsx(ud,{className:"w-4 h-4"})}},fe=s.filter(x=>x.status==="pending"),M=s.filter(x=>x.status!=="pending");return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:g()?"সদস্য আবেদন ব্যবস্থাপনা":"লালবাগ দক্ষিণ পাড়া যুবসমাজ সংঘ"}),!g()&&m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-300",children:[m.jsx(ei,{className:"w-5 h-5"}),m.jsx("span",{children:"নতুন আবেদন করুন"})]})]}),g()&&m.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(qC,{className:"w-5 h-5 text-blue-400"}),m.jsxs("p",{className:"text-blue-300 text-sm",children:[m.jsx("strong",{children:"নোট:"})," আবেদন অনুমোদন করলে স্বয়ংক্রিয়ভাবে সদস্য তালিকায় যুক্ত হবে। ডুপ্লিকেট এন্ট্রি প্রতিরোধ করা হয়।"]})]})}),n&&!g()&&m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"সদস্যপদের জন্য আবেদন"}),m.jsxs("form",{onSubmit:L,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",name:"name",placeholder:"পূর্ণ নাম",value:_.name,onChange:S,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"tel",name:"phone",placeholder:"ফোন নাম্বার",value:_.phone,onChange:S,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"email",name:"email",placeholder:"ইমেইল",value:_.email,onChange:S,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"text",name:"address",placeholder:"ঠিকানা",value:_.address,onChange:S,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"})]}),m.jsx("textarea",{name:"reason",placeholder:"কেন আপনি এই সংগঠনের সদস্য হতে চান?",value:_.reason,onChange:S,required:!0,rows:"3",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("textarea",{name:"experience",placeholder:"আপনার পূর্ব অভিজ্ঞতা (ঐচ্ছিক)",value:_.experience,onChange:S,rows:"3",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-3 rounded-lg transition-all duration-300 disabled:opacity-50",children:[m.jsx(ei,{className:"w-5 h-5"}),m.jsx("span",{children:o?"জমা দেওয়া হচ্ছে...":"আবেদন জমা দিন"})]}),m.jsx("button",{type:"button",onClick:D,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-300",children:"বাতিল"})]})]})]}),fe.length>0&&g()&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"অপেক্ষমাণ আবেদনসমূহ"}),m.jsx("div",{className:"space-y-4",children:fe.map(x=>{var R;return m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-cyan-500/50 transition-all duration-300",children:m.jsxs("div",{className:"flex justify-between items-start flex-wrap",children:[m.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center",children:m.jsx(hi,{className:"w-6 h-6 text-gray-400"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:x.name}),m.jsx("p",{className:"text-gray-300",children:x.phone}),m.jsx("p",{className:"text-gray-400 text-sm",children:x.email})]}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center space-x-1 ${Q(x.status)}`,children:[oe(x.status),m.jsx("span",{children:ne(x.status)})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"ঠিকানা:"}),m.jsx("p",{className:"text-white",children:x.address})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"আবেদনের তারিখ:"}),m.jsx("p",{className:"text-white",children:(R=x.createdAt)==null?void 0:R.toDate().toLocaleDateString("bn-BD")})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"সদস্য হওয়ার কারণ:"}),m.jsx("p",{className:"text-white",children:x.reason})]}),x.experience&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"পূর্ব অভিজ্ঞতা:"}),m.jsx("p",{className:"text-white",children:x.experience})]})]}),m.jsxs("div",{className:"flex flex-col space-y-2 ml-4 md:flex-row md:space-y-0 md:space-x-2",children:[m.jsxs("button",{onClick:()=>V(x.id,"approved"),disabled:d[x.id],className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[m.jsx(jh,{className:"w-4 h-4"}),m.jsx("span",{children:d[x.id]?"যুক্ত করা হচ্ছে...":"অনুমোদন ও যুক্ত করুন"})]}),m.jsxs("button",{onClick:()=>V(x.id,"rejected"),disabled:d[x.id],className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[m.jsx(ti,{className:"w-4 h-4"}),m.jsx("span",{children:"প্রত্যাখ্যান"})]})]})]})},x.id)})})]}),M.length>0&&g()&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"প্রক্রিয়াকৃত আবেদনসমূহ"}),m.jsx("div",{className:"space-y-4",children:M.map(x=>{var R,C;return m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:m.jsx(hi,{className:"w-5 h-5 text-gray-400"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:x.name}),m.jsx("p",{className:"text-gray-300",children:x.phone})]}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center space-x-1 ${Q(x.status)}`,children:[oe(x.status),m.jsx("span",{children:ne(x.status)})]}),x.transferredToMembers&&m.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 border border-blue-500/30 rounded-full text-xs",children:"সদস্য তালিকায় যুক্ত"})]}),m.jsxs("p",{className:"text-gray-400 text-sm",children:["আবেদনের তারিখ: ",(R=x.createdAt)==null?void 0:R.toDate().toLocaleDateString("bn-BD")]}),x.transferredAt&&m.jsxs("p",{className:"text-gray-400 text-sm",children:["সদস্য তালিকায় যুক্ত: ",(C=x.transferredAt)==null?void 0:C.toDate().toLocaleDateString("bn-BD")]})]}),m.jsx("button",{onClick:()=>te(x.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(ti,{className:"w-4 h-4"})})]})},x.id)})})]}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(ei,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন আবেদন পাওয়া যায়নি"}),!g()&&m.jsx("p",{className:"text-gray-500",children:"নতুন আবেদন করতে উপরের বাটনে ক্লিক করুন"}),g()&&m.jsx("p",{className:"text-gray-500",children:"এখনো কোন সদস্যপদের আবেদন জমা পড়েনি"})]})]})},RD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!1),[o,c]=ae.useState(!1),[d,p]=ae.useState({title:"",description:"",date:"",location:"",files:[]});ae.useEffect(()=>{g()},[]);const g=async()=>{try{const te=(await Bt($e(Se,"organizationEvents"))).docs.map(D=>({id:D.id,...D.data()}));te.sort((D,Q)=>{var ne,oe;return new Date((ne=Q.createdAt)==null?void 0:ne.toDate())-new Date((oe=D.createdAt)==null?void 0:oe.toDate())}),e(te)}catch(V){console.error("Error fetching events:",V)}},_=V=>{const{name:te,value:D}=V.target;p(Q=>({...Q,[te]:D}))},E=V=>{const te=Array.from(V.target.files);p(D=>({...D,files:te}))},A=async V=>{const te=V.map(async D=>{const Q=gg(_g,`event-media/${Date.now()}-${D.name}`),ne=await mg(Q,D);return{url:await pg(ne.ref),name:D.name,type:D.type.startsWith("image/")?"image":"video",size:D.size}});return Promise.all(te)},S=async V=>{V.preventDefault(),c(!0);try{let te=[];d.files.length>0&&(te=await A(d.files));const D={title:d.title,description:d.description,date:d.date,location:d.location,mediaFiles:te,createdAt:new Date};await hs($e(Se,"organizationEvents"),D),p({title:"",description:"",date:"",location:"",files:[]}),i(!1),g()}catch(te){console.error("Error saving event:",te)}finally{c(!1)}},L=async V=>{if(window.confirm("আপনি কি এই কার্যক্রম মুছে ফেলতে চান?"))try{await Co(yn(Se,"organizationEvents",V)),g()}catch(te){console.error("Error deleting event:",te)}},G=()=>{p({title:"",description:"",date:"",location:"",files:[]}),i(!1)},W=V=>{if(V===0)return"0 Bytes";const te=1024,D=["Bytes","KB","MB","GB"],Q=Math.floor(Math.log(V)/Math.log(te));return parseFloat((V/Math.pow(te,Q)).toFixed(2))+" "+D[Q]};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সংগঠন কার্যক্রম"}),m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-300",children:[m.jsx(hd,{className:"w-5 h-5"}),m.jsx("span",{children:"নতুন কার্যক্রম যোগ করুন"})]})]}),n&&m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"নতুন কার্যক্রম যোগ করুন"}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",name:"title",placeholder:"কার্যক্রমের নাম",value:d.title,onChange:_,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("input",{type:"date",name:"date",value:d.date,onChange:_,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"})]}),m.jsx("input",{type:"text",name:"location",placeholder:"স্থান",value:d.location,onChange:_,required:!0,className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsx("textarea",{name:"description",placeholder:"কার্যক্রমের বিবরণ",value:d.description,onChange:_,required:!0,rows:"4",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-300 mb-2",children:"ছবি এবং ভিডিও আপলোড করুন"}),m.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:E,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-cyan-500 file:text-white hover:file:bg-cyan-600"}),d.files.length>0&&m.jsxs("div",{className:"mt-2",children:[m.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"নির্বাচিত ফাইলসমূহ:"}),m.jsx("div",{className:"space-y-1",children:d.files.map((V,te)=>m.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[V.type.startsWith("image/")?m.jsx(nD,{className:"w-4 h-4"}):m.jsx(TD,{className:"w-4 h-4"}),m.jsx("span",{children:V.name}),m.jsxs("span",{children:["(",W(V.size),")"]})]},te))})]})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-3 rounded-lg transition-all duration-300 disabled:opacity-50",children:[m.jsx(Eg,{className:"w-5 h-5"}),m.jsx("span",{children:o?"সংরক্ষণ করা হচ্ছে...":"সংরক্ষণ করুন"})]}),m.jsx("button",{type:"button",onClick:G,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-300",children:"বাতিল"})]})]})]}),m.jsx("div",{className:"space-y-6",children:s.map(V=>{var te;return m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-cyan-500/50 transition-all duration-300",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:V.title}),m.jsxs("div",{className:"flex items-center space-x-4 text-gray-300 mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(xo,{className:"w-4 h-4"}),m.jsx("span",{children:new Date(V.date).toLocaleDateString("bn-BD")})]}),m.jsx("span",{children:"•"}),m.jsx("span",{children:V.location})]}),m.jsx("p",{className:"text-gray-300 mb-4",children:V.description})]}),m.jsx("button",{onClick:()=>L(V.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(dd,{className:"w-4 h-4"})})]}),V.mediaFiles&&V.mediaFiles.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"মিডিয়া গ্যালারি"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:V.mediaFiles.map((D,Q)=>m.jsxs("div",{className:"relative group",children:[D.type==="image"?m.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-700",children:m.jsx("img",{src:D.url,alt:D.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}):m.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-700 relative",children:[m.jsx("video",{src:D.url,className:"w-full h-full object-cover",controls:!1}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 group-hover:bg-opacity-30 transition-all duration-300",children:m.jsx(xx,{className:"w-8 h-8 text-white"})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:m.jsx("p",{className:"text-white text-xs truncate",children:D.name})})]},Q))})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:m.jsxs("p",{className:"text-gray-400 text-sm",children:["যোগ করা হয়েছে: ",(te=V.createdAt)==null?void 0:te.toDate().toLocaleDateString("bn-BD")]})})]},V.id)})}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(xo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন কার্যক্রম পাওয়া যায়নি"}),m.jsx("p",{className:"text-gray-500",children:"নতুন কার্যক্রম যোগ করতে উপরের বাটনে ক্লিক করুন"})]})]})},ND=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!0);ae.useEffect(()=>{o()},[]);const o=async()=>{try{const A=(await Bt($e(Se,"users"))).docs.map(S=>({id:S.id,...S.data()}));A.sort((S,L)=>{var G,W;return new Date((G=L.createdAt)==null?void 0:G.toDate())-new Date((W=S.createdAt)==null?void 0:W.toDate())}),e(A)}catch(E){console.error("Error fetching users:",E)}finally{i(!1)}},c=async(E,A)=>{try{await To(yn(Se,"users",E),{role:A,updatedAt:new Date}),o()}catch(S){console.error("Error updating user role:",S)}},d=async E=>{if(window.confirm("আপনি কি এই ব্যবহারকারীকে মুছে ফেলতে চান?"))try{await Co(yn(Se,"users",E)),o()}catch(A){console.error("Error deleting user:",A)}},p=E=>{switch(E){case"admin":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-green-500/20 text-green-300 border-green-500/30"}},g=E=>{switch(E){case"admin":return"অ্যাডমিন";default:return"পাবলিক"}},_=E=>{switch(E){case"admin":return m.jsx(Rb,{className:"w-4 h-4"});default:return m.jsx(hi,{className:"w-4 h-4"})}};return n?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx("div",{className:"text-white text-lg",children:"লোড হচ্ছে..."})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"ব্যবহারকারী ব্যবস্থাপনা"}),m.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[m.jsx(Vh,{className:"w-5 h-5"}),m.jsxs("span",{children:["মোট ব্যবহারকারী: ",s.length]})]})]}),m.jsx("div",{className:"space-y-4",children:s.map(E=>{var A,S;return m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-cyan-500/50 transition-all duration-300",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center",children:_(E.role)}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:E.displayName||"নাম নেই"}),m.jsx("p",{className:"text-gray-300",children:E.email})]}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center space-x-1 ${p(E.role)}`,children:[_(E.role),m.jsx("span",{children:g(E.role)})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"যোগদানের তারিখ:"}),m.jsx("p",{className:"text-white",children:(A=E.createdAt)==null?void 0:A.toDate().toLocaleDateString("bn-BD")})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"শেষ লগইন:"}),m.jsx("p",{className:"text-white",children:(S=E.lastLogin)==null?void 0:S.toDate().toLocaleDateString("bn-BD")})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"ব্যবহারকারী ID:"}),m.jsx("p",{className:"text-white font-mono text-xs",children:E.id})]})]})]}),m.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[E.role==="admin"?m.jsxs("button",{onClick:()=>c(E.id,"public"),className:"flex items-center space-x-2 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(hi,{className:"w-4 h-4"}),m.jsx("span",{children:"পাবলিক করুন"})]}):m.jsxs("button",{onClick:()=>c(E.id,"admin"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(Rb,{className:"w-4 h-4"}),m.jsx("span",{children:"অ্যাডমিন করুন"})]}),m.jsxs("button",{onClick:()=>d(E.id),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(dd,{className:"w-4 h-4"}),m.jsx("span",{children:"মুছুন"})]})]})]})},E.id)})}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(Vh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন ব্যবহারকারী পাওয়া যায়নি"})]})]})},ID=s=>{const e=[];return(!s.name||s.name.trim().length<2)&&e.push("নাম কমপক্ষে ২ অক্ষরের হতে হবে"),(!s.phone||s.phone.trim().length<10)&&e.push("বৈধ ফোন নম্বর প্রয়োজন"),(!s.email||!CD(s.email))&&e.push("বৈধ ইমেইল ঠিকানা প্রয়োজন"),(!s.address||s.address.trim().length<5)&&e.push("সম্পূর্ণ ঠিকানা প্রয়োজন"),{isValid:e.length===0,errors:e}},CD=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),DD=async(s,e)=>{try{if(s&&s.trim()){const n=Ar($e(Se,"members"),Sr("email","==",s.trim().toLowerCase())),i=await Bt(n);if(!i.empty)return{exists:!0,field:"email",existingMember:i.docs[0].data()}}if(e&&e.trim()){const n=Ar($e(Se,"members"),Sr("phone","==",e.trim())),i=await Bt(n);if(!i.empty)return{exists:!0,field:"phone",existingMember:i.docs[0].data()}}return{exists:!1}}catch(n){throw console.error("Error checking member existence:",n),new Error("সদস্য যাচাই করতে সমস্যা হয়েছে")}},OD=async s=>{try{const e=ID(s);if(!e.isValid)throw new Error(`ডেটা ভ্যালিডেশন ব্যর্থ: ${e.errors.join(", ")}`);const n=await DD(s.email,s.phone);if(n.exists)throw new Error(`এই সদস্য ইতিমধ্যে সদস্য তালিকায় রয়েছে (${n.field==="email"?"ইমেইল":"ফোন নম্বর"} দিয়ে)`);const i={name:s.name.trim(),phone:s.phone.trim(),email:s.email.trim().toLowerCase(),address:s.address.trim(),photoURL:null,createdAt:new Date,updatedAt:new Date,addedFrom:"application",applicationId:s.id,applicationDate:s.createdAt,approvedAt:new Date},o=await hs($e(Se,"members"),i);return console.log("Member successfully added to members list:",{id:o.id,...i}),{success:!0,memberId:o.id,memberData:i}}catch(e){throw console.error("Error transferring application to member:",e),e}},MD=async(s,e)=>{try{await To(yn(Se,"memberApplications",s),{status:"approved",updatedAt:new Date,transferredToMembers:!0,transferredAt:new Date,memberId:e})}catch(n){throw console.error("Error updating application after transfer:",n),new Error("আবেদনের স্ট্যাটাস আপডেট করতে সমস্যা হয়েছে")}},jD=async()=>{try{const e=(await Bt($e(Se,"members"))).size,n=Ar($e(Se,"members"),Sr("addedFrom","==","application")),o=(await Bt(n)).size,c=Ar($e(Se,"memberApplications"),Sr("status","==","pending")),p=(await Bt(c)).size,g=Ar($e(Se,"memberApplications"),Sr("status","==","approved")),E=(await Bt(g)).size;return{totalMembers:e,membersFromApplications:o,pendingApplications:p,approvedApplications:E,manuallyAddedMembers:e-o}}catch(s){return console.error("Error getting member statistics:",s),{totalMembers:0,membersFromApplications:0,pendingApplications:0,approvedApplications:0,manuallyAddedMembers:0}}},kD=async s=>{const e={successful:[],failed:[],skipped:[]};for(const n of s)try{if(n.transferredToMembers){e.skipped.push({application:n,reason:"ইতিমধ্যে সদস্য তালিকায় যুক্ত"});continue}const i=await OD(n);await MD(n.id,i.memberId),e.successful.push({application:n,memberId:i.memberId})}catch(i){e.failed.push({application:n,error:i.message})}return e},VD=()=>{const[s,e]=ae.useState({totalMembers:0,membersFromApplications:0,pendingApplications:0,approvedApplications:0,manuallyAddedMembers:0}),[n,i]=ae.useState(!0),[o,c]=ae.useState(!1),[d,p]=ae.useState(null);ae.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const A=await jD();e(A),p(new Date)}catch(A){console.error("Error fetching statistics:",A)}finally{i(!1)}},_=async()=>{if(window.confirm("আপনি কি সব অনুমোদিত আবেদনগুলো সদস্য তালিকায় যুক্ত করতে চান?"))try{c(!0);const A=Ar($e(Se,"memberApplications"),Sr("status","==","approved"),Sr("transferredToMembers","!=",!0)),L=(await Bt(A)).docs.map(V=>({id:V.id,...V.data()}));if(L.length===0){alert("কোন অনুমোদিত আবেদন পাওয়া যায়নি যা এখনো সদস্য তালিকায় যুক্ত হয়নি।");return}const G=await kD(L);let W=`বাল্ক ট্রান্সফার সম্পন্ন:
`;W+=`✅ সফল: ${G.successful.length}
`,W+=`❌ ব্যর্থ: ${G.failed.length}
`,W+=`⏭️ এড়িয়ে যাওয়া: ${G.skipped.length}`,G.failed.length>0&&(W+=`

ব্যর্থ হওয়ার কারণ:
`,G.failed.forEach((V,te)=>{W+=`${te+1}. ${V.application.name}: ${V.error}
`})),alert(W),await g()}catch(A){console.error("Error in bulk transfer:",A),alert("বাল্ক ট্রান্সফারে সমস্যা হয়েছে। পরে আবার চেষ্টা করুন।")}finally{c(!1)}},E=({icon:A,title:S,value:L,subtitle:G,color:W="blue"})=>{const V={blue:"from-blue-500 to-cyan-500",green:"from-green-500 to-emerald-500",yellow:"from-yellow-500 to-orange-500",purple:"from-purple-500 to-pink-500",gray:"from-gray-500 to-slate-500"};return m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-cyan-500/50 transition-all duration-300",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm font-medium",children:S}),m.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:L}),G&&m.jsx("p",{className:"text-gray-500 text-xs mt-1",children:G})]}),m.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${V[W]} flex items-center justify-center`,children:m.jsx(A,{className:"w-6 h-6 text-white"})})]})})};return n?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সদস্য পরিসংখ্যান"})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(A=>m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 animate-pulse",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"h-4 bg-gray-700 rounded w-24"}),m.jsx("div",{className:"h-8 bg-gray-700 rounded w-16"})]}),m.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"})]})},A))})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সদস্য পরিসংখ্যান"}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsxs("button",{onClick:g,disabled:n,className:"flex items-center space-x-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[m.jsx(hD,{className:`w-4 h-4 ${n?"animate-spin":""}`}),m.jsx("span",{children:"রিফ্রেশ"})]}),m.jsxs("button",{onClick:_,disabled:o||s.approvedApplications===0,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-4 py-2 rounded-lg transition-all duration-300 disabled:opacity-50",children:[m.jsx(ei,{className:"w-4 h-4"}),m.jsx("span",{children:o?"ট্রান্সফার করা হচ্ছে...":"বাল্ক ট্রান্সফার"})]})]})]}),d&&m.jsxs("p",{className:"text-gray-400 text-sm",children:["সর্বশেষ আপডেট: ",d.toLocaleString("bn-BD")]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsx(E,{icon:fd,title:"মোট সদস্য",value:s.totalMembers,subtitle:"সর্বমোট নিবন্ধিত সদস্য",color:"blue"}),m.jsx(E,{icon:ei,title:"আবেদন থেকে যুক্ত",value:s.membersFromApplications,subtitle:"আবেদনের মাধ্যমে যুক্ত সদস্য",color:"green"}),m.jsx(E,{icon:ud,title:"অপেক্ষমাণ আবেদন",value:s.pendingApplications,subtitle:"অনুমোদনের অপেক্ষায়",color:"yellow"}),m.jsx(E,{icon:km,title:"অনুমোদিত আবেদন",value:s.approvedApplications,subtitle:"অনুমোদিত আবেদনসমূহ",color:"green"}),m.jsx(E,{icon:_x,title:"ম্যানুয়াল এন্ট্রি",value:s.manuallyAddedMembers,subtitle:"সরাসরি যুক্ত করা সদস্য",color:"purple"})]}),m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"আবেদন প্রক্রিয়া অগ্রগতি"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[m.jsx("span",{className:"text-gray-300",children:"অপেক্ষমাণ আবেদন"}),m.jsx("span",{className:"text-gray-400",children:s.pendingApplications})]}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:m.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.pendingApplications>0?Math.min(s.pendingApplications/(s.pendingApplications+s.approvedApplications)*100,100):0}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[m.jsx("span",{className:"text-gray-300",children:"অনুমোদিত আবেদন"}),m.jsx("span",{className:"text-gray-400",children:s.approvedApplications})]}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:m.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.approvedApplications>0?Math.min(s.approvedApplications/(s.pendingApplications+s.approvedApplications)*100,100):0}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[m.jsx("span",{className:"text-gray-300",children:"আবেদন থেকে সদস্য রূপান্তর হার"}),m.jsx("span",{className:"text-gray-400",children:s.totalMembers>0?`${Math.round(s.membersFromApplications/s.totalMembers*100)}%`:"0%"})]}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.totalMembers>0?s.membersFromApplications/s.totalMembers*100:0}%`}})})]})]})]}),m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"দ্রুত কার্যক্রম"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[m.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"অটো-ট্রান্সফার সিস্টেম"}),m.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"আবেদন অনুমোদন করলে স্বয়ংক্রিয়ভাবে সদস্য তালিকায় যুক্ত হয়"}),m.jsxs("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[m.jsx(km,{className:"w-4 h-4"}),m.jsx("span",{children:"সক্রিয় এবং কার্যকর"})]})]}),m.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[m.jsx("h4",{className:"text-green-300 font-medium mb-2",children:"ডুপ্লিকেট প্রতিরোধ"}),m.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"ইমেইল ও ফোন নম্বর দিয়ে ডুপ্লিকেট এন্ট্রি প্রতিরোধ করা হয়"}),m.jsxs("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[m.jsx(km,{className:"w-4 h-4"}),m.jsx("span",{children:"সুরক্ষিত এবং নির্ভরযোগ্য"})]})]})]})]})]})},Ax=()=>{const{user:s}=Do(),[e,n]=ae.useState([]),[i,o]=ae.useState(""),[c,d]=ae.useState(!1),[p,g]=ae.useState([]),_=ae.useRef(null),E=()=>{var V;(V=_.current)==null||V.scrollIntoView({behavior:"smooth"})};ae.useEffect(()=>{E()},[e]),ae.useEffect(()=>{const V=Ar($e(Se,"chat_messages"),f4("timestamp","asc")),te=vb(V,D=>{const Q=[];D.forEach(ne=>{Q.push({id:ne.id,...ne.data()})}),n(Q)});return()=>te()},[]),ae.useEffect(()=>{const V=async()=>{if(s)try{await hs($e(Se,"user_activity"),{userId:s.uid,userEmail:s.email,userName:s.displayName||s.email,lastSeen:bb(),isOnline:!0})}catch(D){console.error("Error updating online status:",D)}};V();const te=setInterval(V,3e4);return()=>clearInterval(te)},[s]),ae.useEffect(()=>{const V=Ar($e(Se,"user_activity"),Sr("isOnline","==",!0)),te=vb(V,D=>{const Q=[];D.forEach(ne=>{const oe=ne.data();oe.lastSeen&&oe.lastSeen.toDate()>new Date(Date.now()-6e4)&&Q.push({id:ne.id,...oe})}),g(Q)});return()=>te()},[]);const A=async V=>{if(V.preventDefault(),!(!i.trim()||c)){d(!0);try{await hs($e(Se,"chat_messages"),{text:i.trim(),userId:s.uid,userEmail:s.email,userName:s.displayName||s.email,timestamp:bb()}),o("")}catch(te){console.error("Error sending message:",te),alert("বার্তা পাঠাতে সমস্যা হয়েছে")}finally{d(!1)}}},S=V=>V?V.toDate().toLocaleTimeString("bn-BD",{hour:"2-digit",minute:"2-digit"}):"",L=V=>{if(!V)return"";const te=V.toDate(),D=new Date,Q=new Date(te);return Q.toDateString()===D.toDateString()?"আজ":Q.toDateString()===new Date(D.getTime()-864e5).toDateString()?"গতকাল":te.toLocaleDateString("bn-BD")},W=(V=>{const te={};return V.forEach(D=>{if(D.timestamp){const Q=L(D.timestamp);te[Q]||(te[Q]=[]),te[Q].push(D)}}),te})(e);return m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl overflow-hidden h-[calc(100vh-200px)]",children:[m.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(kh,{className:"w-6 h-6 text-white"}),m.jsx("h2",{className:"text-xl font-bold text-white",children:"কথোপকথন"})]}),m.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[m.jsx(fd,{className:"w-4 h-4"}),m.jsxs("span",{className:"text-sm",children:[p.length," জন অনলাইন"]})]})]})}),p.length>0&&m.jsx("div",{className:"bg-gray-700/30 p-3 border-b border-gray-600/50",children:m.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[m.jsx("span",{children:"অনলাইন:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(V=>m.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs",children:V.userName},V.id))})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 h-96",children:[Object.entries(W).map(([V,te])=>m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center justify-center my-4",children:m.jsx("div",{className:"bg-gray-700/50 text-gray-400 px-3 py-1 rounded-full text-sm",children:V})}),te.map(D=>m.jsx("div",{className:`flex ${D.userId===s.uid?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${D.userId===s.uid?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white":"bg-gray-700/50 text-gray-100"}`,children:[D.userId!==s.uid&&m.jsx("div",{className:"text-xs text-gray-400 mb-1",children:D.userName}),m.jsx("div",{className:"break-words",children:D.text}),m.jsxs("div",{className:`text-xs mt-1 flex items-center space-x-1 ${D.userId===s.uid?"text-cyan-100":"text-gray-400"}`,children:[m.jsx(ud,{className:"w-3 h-3"}),m.jsx("span",{children:S(D.timestamp)})]})]})},D.id))]},V)),e.length===0&&m.jsxs("div",{className:"text-center text-gray-400 py-8",children:[m.jsx(kh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"এখনো কোনো বার্তা নেই। প্রথম বার্তা পাঠান!"})]}),m.jsx("div",{ref:_})]}),m.jsx("div",{className:"border-t border-gray-600/50 p-4",children:m.jsxs("form",{onSubmit:A,className:"flex space-x-3",children:[m.jsx("input",{type:"text",value:i,onChange:V=>o(V.target.value),placeholder:"আপনার বার্তা লিখুন...",disabled:c,className:"flex-1 bg-gray-700/50 border border-gray-600/50 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-300"}),m.jsx("button",{type:"submit",disabled:c||!i.trim(),className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 disabled:opacity-50 disabled:cursor-not-allowed text-white p-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",children:m.jsx(wx,{className:"w-5 h-5"})})]})})]})},PD=()=>{const{user:s,logout:e}=Do(),[n,i]=ae.useState("dashboard"),[o,c]=ae.useState(!1),d=[{id:"statistics",label:"সদস্য পরিসংখ্যান",icon:_x,component:VD},{id:"chat",label:"কথোপকথন",icon:kh,component:Ax},{id:"members",label:"সদস্য লিস্ট",icon:fd,component:wD},{id:"accounts",label:"সংগঠন হিসাব",icon:bg,component:AD},{id:"applications",label:"নতুন সদস্য আবেদন",icon:ei,component:SD},{id:"events",label:"সংগঠন কার্যক্রম",icon:xo,component:RD},{id:"users",label:"ব্যবহারকারী ব্যবস্থাপনা",icon:Vh,component:ND}],p=async()=>{try{await e()}catch(_){console.error("Logout failed:",_)}},g=()=>{if(n==="dashboard")return m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(E=>{const A=E.icon;return m.jsx("div",{onClick:()=>i(E.id),className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 cursor-pointer hover:border-cyan-500/50 transition-all duration-300 group",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[m.jsx("div",{className:"p-4 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full group-hover:scale-110 transition-transform duration-300",children:m.jsx(A,{className:"w-8 h-8 text-white"})}),m.jsx("h3",{className:"text-white font-medium",children:E.label})]})},E.id)})});const _=d.find(E=>E.id===n);if(_){const E=_.component;return m.jsx(E,{})}return null};return m.jsxs("div",{className:"min-h-screen bg-gray-900 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full opacity-10 blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full opacity-10 blur-3xl animate-pulse delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-r from-green-500 to-teal-500 rounded-full opacity-8 blur-3xl animate-pulse delay-500"})]}),m.jsx("header",{className:"relative z-10 bg-gray-800/30 backdrop-blur-sm border-b border-gray-700/50",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("button",{onClick:()=>c(!o),className:"md:hidden p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:o?m.jsx(ti,{className:"w-6 h-6"}):m.jsx(Tx,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex items-center space-x-3 ml-2",children:[m.jsx(Vh,{className:"w-6 h-6 text-red-400"}),m.jsx("h1",{className:"text-xl font-bold text-white",children:"অ্যাডমিন ড্যাশবোর্ড"})]})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"text-white",children:[m.jsx("span",{className:"text-sm text-gray-300",children:"স্বাগতম, "}),m.jsx("span",{className:"font-medium",children:(s==null?void 0:s.displayName)||"অ্যাডমিন"})]}),m.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(Ex,{className:"w-4 h-4"}),m.jsx("span",{children:"লগআউট"})]})]})]})})}),m.jsxs("div",{className:"flex",children:[m.jsx("aside",{className:`${o?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static inset-y-0 left-0 z-50 w-64 bg-gray-800/30 backdrop-blur-sm border-r border-gray-700/50 transition-transform duration-300 ease-in-out`,children:m.jsxs("nav",{className:"mt-8 px-4",children:[m.jsx("button",{onClick:()=>{i("dashboard"),c(!1)},className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-colors duration-200 ${n==="dashboard"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:"ড্যাশবোর্ড"}),d.map(_=>{const E=_.icon;return m.jsxs("button",{onClick:()=>{i(_.id),c(!1)},className:`w-full text-left flex items-center space-x-3 px-4 py-3 rounded-lg mb-2 transition-colors duration-200 ${n===_.id?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[m.jsx(E,{className:"w-5 h-5"}),m.jsx("span",{children:_.label})]},_.id)})]})}),m.jsx("main",{className:"flex-1 p-6 md:p-8 relative z-10",children:g()})]}),o&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>c(!1)})]})},UD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!0);ae.useEffect(()=>{o()},[]);const o=async()=>{try{const d=(await Bt($e(Se,"members"))).docs.map(p=>({id:p.id,...p.data()}));e(d)}catch(c){console.error("Error fetching members:",c)}finally{i(!1)}};return n?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx("div",{className:"text-white text-lg",children:"লোড হচ্ছে..."})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ui,{className:"w-6 h-6 text-green-400"}),m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সদস্য লিস্ট"}),m.jsxs("span",{className:"text-gray-400",children:["(",s.length," জন সদস্য)"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(c=>m.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-green-500/50 transition-all duration-300",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[m.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-700",children:c.photoURL?m.jsx("img",{src:c.photoURL,alt:c.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(hi,{className:"w-10 h-10 text-gray-400"})})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:c.name}),m.jsx("p",{className:"text-gray-300",children:c.phone}),c.address&&m.jsx("p",{className:"text-gray-400 text-sm",children:c.address})]})]})},c.id))}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(hi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন সদস্য পাওয়া যায়নি"})]})]})},LD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!0);ae.useEffect(()=>{o()},[]);const o=async()=>{try{const d=(await Bt($e(Se,"accounts"))).docs.map(p=>({id:p.id,...p.data()}));d.sort((p,g)=>{var _,E;return new Date((_=g.createdAt)==null?void 0:_.toDate())-new Date((E=p.createdAt)==null?void 0:E.toDate())}),e(d)}catch(c){console.error("Error fetching accounts:",c)}finally{i(!1)}};return n?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx("div",{className:"text-white text-lg",children:"লোড হচ্ছে..."})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ui,{className:"w-6 h-6 text-green-400"}),m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সংগঠন হিসাব"})]}),m.jsx("div",{className:"space-y-6",children:s.map(c=>{var d;return m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-green-500/50 transition-all duration-300",children:[m.jsx("div",{className:"flex justify-between items-start mb-4",children:m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:c.title}),m.jsx("p",{className:"text-gray-300 mb-3",children:c.description}),m.jsxs("div",{className:"flex items-center space-x-4 text-gray-300",children:[m.jsxs("span",{children:["পরিমাণ: ৳",c.amount]}),m.jsx("span",{children:"•"}),m.jsxs("span",{children:["ধরন: ",c.type==="income"?"আয়":"ব্যয়"]})]})]})}),c.documents&&c.documents.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"সংযুক্ত নথি"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.documents.map((p,g)=>m.jsxs("div",{className:"flex items-center space-x-3 bg-gray-700/50 rounded-lg p-3",children:[m.jsx(bx,{className:"w-5 h-5 text-blue-400"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white text-sm truncate",children:p.name}),m.jsxs("p",{className:"text-gray-400 text-xs",children:[(p.size/1024/1024).toFixed(2)," MB"]})]}),m.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(vx,{className:"w-4 h-4"})})]},g))})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:m.jsxs("p",{className:"text-gray-400 text-sm",children:["যোগ করা হয়েছে: ",(d=c.createdAt)==null?void 0:d.toDate().toLocaleDateString("bn-BD")]})})]},c.id)})}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(bg,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন হিসাব পাওয়া যায়নি"})]})]})},zD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!1),[o,c]=ae.useState(!1),{isAdmin:d}=vg(),[p,g]=ae.useState({name:"",phone:"",email:"",address:"",reason:""});ae.useEffect(()=>{_()},[]);const _=async()=>{try{const Q=(await Bt($e(Se,"memberApplications"))).docs.map(ne=>({id:ne.id,...ne.data()}));Q.sort((ne,oe)=>{var fe,M;return new Date((fe=oe.createdAt)==null?void 0:fe.toDate())-new Date((M=ne.createdAt)==null?void 0:M.toDate())}),e(Q)}catch(D){console.error("Error fetching applications:",D)}},E=D=>{const{name:Q,value:ne}=D.target;g(oe=>({...oe,[Q]:ne}))},A=async D=>{D.preventDefault(),c(!0);try{const Q={...p,status:"pending",createdAt:new Date};await hs($e(Se,"memberApplications"),Q),g({name:"",phone:"",email:"",address:"",reason:""}),i(!1),_(),alert("আপনার আবেদন সফলভাবে জমা দেওয়া হয়েছে!")}catch(Q){console.error("Error saving application:",Q),alert("আবেদন জমা দিতে সমস্যা হয়েছে।")}finally{c(!1)}},S=()=>{g({name:"",phone:"",email:"",address:"",reason:""}),i(!1)},L=async(D,Q)=>{try{await To(yn(Se,"memberApplications",D),{status:Q,updatedAt:new Date}),_()}catch(ne){console.error("Error updating application status:",ne)}},G=async D=>{if(window.confirm("আপনি কি এই আবেদন মুছে ফেলতে চান?"))try{await Co(yn(Se,"memberApplications",D)),_()}catch(Q){console.error("Error deleting application:",Q)}},W=D=>{switch(D){case"approved":return"bg-green-500/20 text-green-300 border-green-500/30";case"rejected":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"}},V=D=>{switch(D){case"approved":return"অনুমোদিত";case"rejected":return"প্রত্যাখ্যাত";default:return"অপেক্ষমাণ"}},te=D=>{switch(D){case"approved":return m.jsx(jh,{className:"w-4 h-4"});case"rejected":return m.jsx(ti,{className:"w-4 h-4"});default:return m.jsx(ud,{className:"w-4 h-4"})}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ui,{className:"w-6 h-6 text-green-400"}),m.jsx("h2",{className:"text-2xl font-bold text-white",children:"নতুন সদস্য আবেদন"})]}),m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-4 py-2 rounded-lg transition-all duration-300",children:[m.jsx(hd,{className:"w-5 h-5"}),m.jsx("span",{children:"নতুন আবেদন"})]})]}),n&&m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"নতুন সদস্য আবেদন"}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",name:"name",placeholder:"পূর্ণ নাম",value:p.name,onChange:E,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-500/20"}),m.jsx("input",{type:"tel",name:"phone",placeholder:"ফোন নম্বর",value:p.phone,onChange:E,required:!0,className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-500/20"})]}),m.jsx("input",{type:"email",name:"email",placeholder:"ইমেইল ঠিকানা",value:p.email,onChange:E,required:!0,className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-500/20"}),m.jsx("input",{type:"text",name:"address",placeholder:"ঠিকানা",value:p.address,onChange:E,required:!0,className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-500/20"}),m.jsx("textarea",{name:"reason",placeholder:"সদস্য হতে চাওয়ার কারণ",value:p.reason,onChange:E,required:!0,rows:"4",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-500/20"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-3 rounded-lg transition-all duration-300 disabled:opacity-50",children:[m.jsx(wx,{className:"w-5 h-5"}),m.jsx("span",{children:o?"জমা দেওয়া হচ্ছে...":"আবেদন জমা দিন"})]}),m.jsx("button",{type:"button",onClick:S,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-300",children:"বাতিল"})]})]})]}),m.jsx("div",{className:"space-y-6",children:s.map(D=>{var Q;return m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-green-500/50 transition-all duration-300",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[m.jsx("h3",{className:"text-xl font-semibold text-white",children:D.name}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center space-x-1 ${W(D.status)}`,children:[te(D.status),m.jsx("span",{children:V(D.status)})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-300",children:[m.jsxs("div",{children:[m.jsxs("p",{children:[m.jsx("span",{className:"text-gray-400",children:"ফোন:"})," ",D.phone]}),m.jsxs("p",{children:[m.jsx("span",{className:"text-gray-400",children:"ইমেইল:"})," ",D.email]})]}),m.jsx("div",{children:m.jsxs("p",{children:[m.jsx("span",{className:"text-gray-400",children:"ঠিকানা:"})," ",D.address]})})]}),m.jsxs("div",{className:"mt-3",children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"কারণ:"}),m.jsx("p",{className:"text-gray-300",children:D.reason})]})]}),d()&&D.status==="pending"&&m.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[m.jsxs("button",{onClick:()=>L(D.id,"approved"),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(jh,{className:"w-4 h-4"}),m.jsx("span",{children:"অনুমোদন"})]}),m.jsxs("button",{onClick:()=>L(D.id,"rejected"),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(ti,{className:"w-4 h-4"}),m.jsx("span",{children:"প্রত্যাখ্যান"})]})]}),d()&&D.status!=="pending"&&m.jsx("button",{onClick:()=>G(D.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",children:m.jsx(ti,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"pt-4 border-t border-gray-700/50",children:m.jsxs("p",{className:"text-gray-400 text-sm",children:["আবেদনের তারিখ: ",(Q=D.createdAt)==null?void 0:Q.toDate().toLocaleDateString("bn-BD")]})})]},D.id)})}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(ei,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন আবেদন পাওয়া যায়নি"}),m.jsx("p",{className:"text-gray-500",children:"নতুন আবেদন করতে উপরের বাটনে ক্লিক করুন"})]})]})},BD=()=>{const[s,e]=ae.useState([]),[n,i]=ae.useState(!0);ae.useEffect(()=>{o()},[]);const o=async()=>{try{const d=(await Bt($e(Se,"events"))).docs.map(p=>({id:p.id,...p.data()}));d.sort((p,g)=>{var _,E;return new Date((_=g.createdAt)==null?void 0:_.toDate())-new Date((E=p.createdAt)==null?void 0:E.toDate())}),e(d)}catch(c){console.error("Error fetching events:",c)}finally{i(!1)}};return n?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx("div",{className:"text-white text-lg",children:"লোড হচ্ছে..."})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ui,{className:"w-6 h-6 text-green-400"}),m.jsx("h2",{className:"text-2xl font-bold text-white",children:"সংগঠন কার্যক্রম"})]}),m.jsx("div",{className:"space-y-6",children:s.map(c=>{var d;return m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 hover:border-green-500/50 transition-all duration-300",children:[m.jsxs("div",{className:"flex-1 mb-4",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:c.title}),m.jsxs("div",{className:"flex items-center space-x-4 text-gray-300 mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(xo,{className:"w-4 h-4"}),m.jsx("span",{children:new Date(c.date).toLocaleDateString("bn-BD")})]}),m.jsx("span",{children:"•"}),m.jsx("span",{children:c.location})]}),m.jsx("p",{className:"text-gray-300 mb-4",children:c.description})]}),c.mediaFiles&&c.mediaFiles.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"মিডিয়া গ্যালারি"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.mediaFiles.map((p,g)=>m.jsxs("div",{className:"relative group",children:[p.type==="image"?m.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-700",children:m.jsx("img",{src:p.url,alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:()=>window.open(p.url,"_blank")})}):m.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-700 relative cursor-pointer",onClick:()=>window.open(p.url,"_blank"),children:[m.jsx("video",{src:p.url,className:"w-full h-full object-cover",controls:!1}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 group-hover:bg-opacity-30 transition-all duration-300",children:m.jsx(xx,{className:"w-8 h-8 text-white"})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:m.jsx("p",{className:"text-white text-xs truncate",children:p.name})})]},g))})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:m.jsxs("p",{className:"text-gray-400 text-sm",children:["যোগ করা হয়েছে: ",(d=c.createdAt)==null?void 0:d.toDate().toLocaleDateString("bn-BD")]})})]},c.id)})}),s.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(xo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:"কোন কার্যক্রম পাওয়া যায়নি"})]})]})},qD=()=>{const{user:s,logout:e}=Do(),[n,i]=ae.useState("dashboard"),[o,c]=ae.useState(!1),d=[{id:"chat",label:"কথোপকথন",icon:kh,component:Ax},{id:"members",label:"সদস্য লিস্ট",icon:fd,component:UD},{id:"accounts",label:"সংগঠন হিসাব",icon:bg,component:LD},{id:"applications",label:"নতুন সদস্য আবেদন",icon:ei,component:zD},{id:"events",label:"সংগঠন কার্যক্রম",icon:xo,component:BD}],p=async()=>{try{await e()}catch(_){console.error("Logout failed:",_)}},g=()=>{if(n==="dashboard")return m.jsxs("div",{children:[m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"লালবাগ দক্ষিণ পাড়া যুবসমাজ সংঘ"}),m.jsx("p",{className:"text-gray-300 text-lg",children:"আমাদের সংগঠনের তথ্য দেখুন"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(E=>{const A=E.icon;return m.jsx("div",{onClick:()=>i(E.id),className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 cursor-pointer hover:border-cyan-500/50 transition-all duration-300 group",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[m.jsx("div",{className:"p-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full group-hover:scale-110 transition-transform duration-300",children:m.jsx(A,{className:"w-8 h-8 text-white"})}),m.jsx("h3",{className:"text-white font-medium",children:E.label}),m.jsxs("div",{className:"flex items-center space-x-1 text-gray-400 text-sm",children:[m.jsx(ui,{className:"w-4 h-4"}),m.jsx("span",{children:"দেখুন"})]})]})},E.id)})})]});const _=d.find(E=>E.id===n);if(_){const E=_.component;return m.jsx(E,{})}return null};return m.jsxs("div",{className:"min-h-screen bg-gray-900 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full opacity-10 blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full opacity-10 blur-3xl animate-pulse delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-r from-green-500 to-teal-500 rounded-full opacity-8 blur-3xl animate-pulse delay-500"})]}),m.jsx("header",{className:"relative z-10 bg-gray-800/30 backdrop-blur-sm border-b border-gray-700/50",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("button",{onClick:()=>c(!o),className:"md:hidden p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:o?m.jsx(ti,{className:"w-6 h-6"}):m.jsx(Tx,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex items-center space-x-3 ml-2",children:[m.jsx(ui,{className:"w-6 h-6 text-green-400"}),m.jsx("h1",{className:"text-xl font-bold text-white",children:"সংগঠন তথ্য"})]})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"text-white",children:[m.jsx("span",{className:"text-sm text-gray-300",children:"স্বাগতম, "}),m.jsx("span",{className:"font-medium",children:"সদস্য"})]}),m.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[m.jsx(Ex,{className:"w-4 h-4"}),m.jsx("span",{children:"লগআউট"})]})]})]})})}),m.jsxs("div",{className:"flex",children:[m.jsx("aside",{className:`${o?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static inset-y-0 left-0 z-50 w-64 bg-gray-800/30 backdrop-blur-sm border-r border-gray-700/50 transition-transform duration-300 ease-in-out`,children:m.jsxs("nav",{className:"mt-8 px-4",children:[m.jsx("button",{onClick:()=>{i("dashboard"),c(!1)},className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-colors duration-200 ${n==="dashboard"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:"হোম"}),d.map(_=>{const E=_.icon;return m.jsxs("button",{onClick:()=>{i(_.id),c(!1)},className:`w-full text-left flex items-center space-x-3 px-4 py-3 rounded-lg mb-2 transition-colors duration-200 ${n===_.id?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[m.jsx(E,{className:"w-5 h-5"}),m.jsx("span",{children:_.label})]},_.id)})]})}),m.jsx("main",{className:"flex-1 p-6 md:p-8 relative z-10",children:g()})]}),o&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>c(!1)})]})};function HD(){const[s,e]=ae.useState(!0),[n,i]=ae.useState(!1),[o,c]=ae.useState(!1),[d,p]=ae.useState(!1),[g,_]=ae.useState(""),[E,A]=ae.useState({email:"",password:"",confirmPassword:""}),[S,L]=ae.useState(!1),{login:G,register:W,loginWithGoogle:V,resetPassword:te}=Do(),D=fe=>{const{name:M,value:x}=fe.target;A(R=>({...R,[M]:x}))},Q=async fe=>{fe.preventDefault(),L(!0);try{if(s)await G(E.email,E.password);else{if(E.password!==E.confirmPassword){alert("পাসওয়ার্ড মিলছে না");return}await W(E.email,E.password)}}catch(M){console.error("Authentication error:",M),alert(M.message)}finally{L(!1)}},ne=async()=>{try{await V()}catch(fe){console.error("Google login error:",fe),alert(fe.message)}},oe=async fe=>{if(fe.preventDefault(),!g){alert("অনুগ্রহ করে ইমেইল ঠিকানা দিন");return}try{await te(g),alert("পাসওয়ার্ড রিসেট লিঙ্ক আপনার ইমেইলে পাঠানো হয়েছে"),p(!1),_("")}catch(M){console.error("Password reset error:",M),alert("পাসওয়ার্ড রিসেট করতে সমস্যা হয়েছে: "+M.message)}};return m.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full opacity-20 blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full opacity-20 blur-3xl animate-pulse delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-r from-green-500 to-teal-500 rounded-full opacity-15 blur-3xl animate-pulse delay-500"})]}),m.jsxs("div",{className:"relative z-10 w-full max-w-md mx-auto p-6",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"লালবাগ দক্ষিণ পাড়া যুবসমাজ সংঘ"}),m.jsx("p",{className:"text-gray-300",children:"সংগঠন ব্যবস্থাপনা সিস্টেম"})]}),m.jsxs("div",{className:"flex mb-8 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-1",children:[m.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-3 px-6 rounded-xl transition-all duration-300 ${s?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"text-gray-300 hover:text-white"}`,children:"Log In"}),m.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-3 px-6 rounded-xl transition-all duration-300 ${s?"text-gray-300 hover:text-white":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg"}`,children:"Register"})]}),m.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[m.jsx(ZC,{className:"w-8 h-8 text-blue-400 hover:text-blue-300 cursor-pointer transition-colors duration-200"}),m.jsx(sD,{className:"w-8 h-8 text-pink-400 hover:text-pink-300 cursor-pointer transition-colors duration-200"}),m.jsx(eD,{className:"w-8 h-8 text-gray-400 hover:text-gray-300 cursor-pointer transition-colors duration-200"})]}),m.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[m.jsx("div",{className:"relative",children:m.jsx("input",{type:"email",name:"email",placeholder:"Email",value:E.email,onChange:D,required:!0,className:"w-full bg-gray-800/50 backdrop-blur-sm border border-gray-600/50 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-300"})}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:n?"text":"password",name:"password",placeholder:"Password",value:E.password,onChange:D,required:!0,className:"w-full bg-gray-800/50 backdrop-blur-sm border border-gray-600/50 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-300"}),m.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:n?m.jsx(Nb,{className:"w-5 h-5"}):m.jsx(ui,{className:"w-5 h-5"})})]}),!s&&m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:o?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",value:E.confirmPassword,onChange:D,required:!0,className:"w-full bg-gray-800/50 backdrop-blur-sm border border-gray-600/50 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-300"}),m.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:o?m.jsx(Nb,{className:"w-5 h-5"}):m.jsx(ui,{className:"w-5 h-5"})})]}),m.jsx("button",{type:"submit",disabled:S,className:`w-full py-4 rounded-2xl font-semibold text-white transition-all duration-300 ${s?"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400":"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400"} disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:S?"লোড হচ্ছে...":s?"Log In":"Register"}),m.jsx("button",{type:"button",onClick:ne,className:"w-full bg-white hover:bg-gray-100 text-gray-800 py-4 rounded-2xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:"Google দিয়ে লগইন করুন"})]}),s&&m.jsx("div",{className:"text-center mt-4",children:m.jsx("button",{onClick:()=>p(!0),className:"text-cyan-400 hover:text-cyan-300 text-sm transition-colors duration-200",children:"পাসওয়ার্ড ভুলে গেছেন?"})}),m.jsxs("div",{className:"text-center mt-6",children:[m.jsx("span",{className:"text-gray-400",children:"Already have an account? "}),m.jsx("button",{onClick:()=>e(!s),className:"text-cyan-400 hover:text-cyan-300 font-semibold transition-colors duration-200",children:s?"Register":"Log In"})]}),d&&m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-6 w-full max-w-md mx-4",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"পাসওয়ার্ড রিসেট"}),m.jsxs("form",{onSubmit:oe,children:[m.jsx("input",{type:"email",placeholder:"আপনার ইমেইল ঠিকানা",value:g,onChange:fe=>_(fe.target.value),required:!0,className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 mb-4"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white py-3 rounded-lg font-semibold transition-all duration-300",children:"রিসেট লিঙ্ক পাঠান"}),m.jsx("button",{type:"button",onClick:()=>{p(!1),_("")},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-semibold transition-colors duration-300",children:"বাতিল"})]})]})]})})]})]})}function FD(){const{user:s}=Do(),{userRole:e,loading:n,isAdmin:i}=vg();return console.log("DashboardRouter - user:",s==null?void 0:s.email),console.log("DashboardRouter - userRole:",e),console.log("DashboardRouter - isAdmin():",i()),console.log("DashboardRouter - loading:",n),n?m.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:m.jsx("div",{className:"text-white text-xl",children:"লোড হচ্ছে..."})}):s?s.email==="southparayouthsociety@gmail.com"||i()?(console.log("Rendering AdminDashboard"),m.jsx(PD,{})):(console.log("Rendering PublicDashboard"),m.jsx(qD,{})):m.jsx(HD,{})}function GD(){return m.jsx(CC,{children:m.jsx(DC,{children:m.jsx(FD,{})})})}i1.createRoot(document.getElementById("root")).render(m.jsx(ae.StrictMode,{children:m.jsx(GD,{})}));
